<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[æ•°æ®ä»“åº“-50é—®]]></title>
    <url>%2F2019%2F11%2F23%2Fedw-50FAQ%2F</url>
    <content type="text"><![CDATA[â€‹ å¾ˆé•¿ä¸€æ®µæ—¶é—´æ²¡æœ‰å†™åšå®¢äº†ï¼Œç”±äºä¸€äº›æƒ³æ³•æš—æš—å‘èŠ½ï¼Œä¸€ç›´ä»¥æ¥å·¥ä½œä¸Šçš„äº‹æƒ…å¤ªå¤šï¼Œä¹Ÿå°†å¾ˆå¤šå­¦ä¹ å†…å®¹æç½®ï¼Œä»Šå¤©æ–°å¢ä¸€ç¯‡åšå®¢ï¼Œç”¨äº]]></content>
      <categories>
        <category>3x èŒåœºç¯‡</category>
        <category>3x2 é¢è¯•å®å…¸</category>
      </categories>
      <tags>
        <tag>èŒåœº</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F10%2F28%2F%E5%B8%AD%E8%80%81%E5%B8%88%E7%9A%84Mac%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[å¸­è€å¸ˆçš„Macä½¿ç”¨æŠ€å·§æ ‡ç­¾ï¼ˆç©ºæ ¼åˆ†éš”ï¼‰ï¼š Mac è½¯ä»¶ æŠ€å·§ ç³»ç»Ÿç¯‡ æ•™ç¨‹/ ç³»ç»Ÿåå¥½è®¾ç½® -&gt; è§¦æ‘¸æ¿ æ¨è/ è½»ç‚¹ä»£æ›¿ç‚¹æŒ‰, ä¸‰æŒ‡å–è¯ App ç¯‡]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F10%2F24%2Faiops%2F</url>
    <content type="text"><![CDATA[ä»è‡ªåŠ¨åŒ–åˆ°æ™ºèƒ½åŒ–ï¼ŒOP&amp;URS åœ¨AIOpsæ¢ç´¢ä¸å®æˆ˜ä¸€ã€è¿ç»´é¢ä¸´é—®é¢˜ä¸æŒ‘æˆ˜â€‹ çœ¼ä¸‹ï¼Œéšç€ä¿¡æ¯åŒ–ã€æ•°å­—åŒ–çš„æ·±å…¥å‘å±•ï¼ŒæŠ€æœ¯é£é€Ÿè¿­ä»£ï¼Œåº”ç”¨æœåŠ¡ä¹Ÿä¸æ–­å‡çº§ï¼Œä¼ä¸šé¢ä¸´çš„è¿ç»´å‹åŠ›ä¹Ÿè¶Šæ¥è¶Šå¤§ï¼Œä¼ ç»Ÿè¿ç»´å—åˆ°äº†å‰æ‰€æœªæœ‰çš„æŒ‘æˆ˜ã€‚ â€‹ ï¼ˆ1ï¼‰è¿ç»´å†…å®¹ï¼šä¼ ç»Ÿçš„äº’è”ç½‘è¿ç»´çš„å†…å®¹ä»…æ˜¯å…³æ³¨è½¯ç¡¬ä»¶ã€ç½‘ç»œã€åº”ç”¨ç³»ç»ŸåŠåŸºç¡€è®¾å¤‡çš„è¿ç»´ï¼Œè€Œå½“å‰å°†é¢ä¸´æ•°åä¸‡å°ä¸»æœºã€å®¹å™¨ï¼Œå¤æ‚çš„ç½‘ç»œç¯å¢ƒï¼Œä»¥åŠå¤æ‚çš„éƒ¨ç½²ç¯å¢ƒï¼šç§æœ‰äº‘ã€å…¬æœ‰äº‘ã€è·¨IDCæ··åˆéƒ¨ç½² â€‹ ï¼ˆ2ï¼‰è¿ç»´å·¥å…·ï¼šä¼ ç»Ÿçš„äº’è”ç½‘è¿ç»´å°½ç®¡ä¹Ÿåˆ©ç”¨äº†å·¥å…·å®ç°äº†éƒ¨åˆ†å·¥ä½œçš„è‡ªåŠ¨åŒ–ï¼Œä½†ä¸»è¦ä¾èµ–äººåŠ›ï¼Œå·¥ä½œé‡è¾ƒå¤§ï¼Œå¹¶æ•ˆç‡ä½ä¸‹ï¼Œä¸šåŠ¡å¿«é€Ÿå¢é•¿ï¼ŒæŠ€æœ¯é£é€Ÿè¿­ä»£ï¼Œæ„å‘³ç€å·¥å…·ä¹Ÿè¦é¡ºåŠ¿å‡çº§ã€‚ â€‹ ï¼ˆ3ï¼‰è¿ç»´æ¨¡å¼ï¼š7*24å°æ—¶æœåŠ¡æ¨¡å¼ï¼ŒPE\SA\DBA æˆä¸ºäº†â€œæ•‘ç«å¼â€è‹±é›„ï¼Œæˆåƒä¸Šä¸‡çš„ç›‘æ§æŒ‡æ ‡ï¼Œä¸€æ—¦æ•…éšœå‡ºç°ï¼ŒSAã€PEã€DBAã€å¼€å‘ç«¥é‹é½ä¸Šé˜µï¼Œè¢«æ•…éšœç‰µç€èµ°ï¼Œè¢«åŠ¨æ€§å¼ºä¸”é£é™©é«˜ã€‚ â€‹ â€‹ OP&amp;URSä½œä¸ºç½‘æ˜“è¿ç»´æœåŠ¡å›¢é˜Ÿï¼Œé¢å¯¹æ–°çš„æŒ‘æˆ˜ï¼Œè¿™å°±è¦æ±‚æˆ‘ä»¬æ‰“é€ ä¿¡æ¯åŒ–ã€æ•°å­—åŒ–çš„ç»¼åˆç®¡ç†ä½“ç³»ï¼Œä¸ºä¼ä¸šå¸¦æ¥å…¨æ–¹ä½ITè¿ç»´æœåŠ¡çš„åŒæ—¶ï¼Œåˆå¯æä¾›å®šåˆ¶åŒ–ã€ä¸“ä¸šåŒ–ã€å…¨é“¾è·¯ã€æ— æ­»è§’çš„è¿ç»´è§£å†³æ–¹æ¡ˆã€‚åœ¨å¤§æ•°æ®æ—¶ä»£ä¸‹ï¼Œå€ŸåŠ©æœºå™¨å­¦ä¹ ã€æ•°æ®ä»“åº“ã€å¤§æ•°æ®å¹³å°ç­‰å¤§æ•°æ®æŠ€æœ¯æ‰‹æ®µï¼Œå°†è¿ç»´äº§ç”Ÿçš„æ•°æ®è¿›è¡Œåˆ†æã€å¤„ç†ï¼Œå¾—å‡ºæœ€ä½³è¿ç»´ç­–ç•¥ï¼Œä»¥æœŸå®ç°å¯¹æ•…éšœçš„äº‹å…ˆå¹²é¢„ï¼Œå°†é£é™©é™ä½åˆ°æœ€ä½ï¼Œä»è€Œé™ä½è¿ç»´æˆæœ¬ï¼Œæå‡è¿ç»´æ•ˆç‡ï¼Œæœ€ç»ˆå®ç°è¿ç»´æ™ºèƒ½åŒ–ã€‚ äºŒã€AIOps ç°çŠ¶ã€å®šä½ä»¥åŠæˆ‘ä»¬çš„ç†è§£â€‹ AIOpså³æ™ºèƒ½è¿ç»´ï¼Œæ˜¯ Gartner åœ¨2016å¹´æå‡ºçš„æ¦‚å¿µï¼ŒçœŸæ­£ç«èµ·æ¥æ˜¯åœ¨è¿™ä¸¤å¹´ï¼Œè¿™ä¸ªæ¦‚å¿µæå‡ºåï¼Œå„å¤§å‚éƒ½å·²ç»å…ˆååˆ©ç”¨AIOpsç†å¿µåŸ¹å…»æ™ºèƒ½è¿ç»´äººæ‰æ¢¯é˜Ÿï¼Œå»ºè®¾æ™ºèƒ½è¿ç»´å¹³å°ã€æ‰“é€ æ™ºèƒ½è¿ç»´ä½“ç³»ã€‚è…¾è®¯åœ¨2018å¹´æ¨å‡ºç»‡äº‘å¹³å°ï¼ˆMetiså·²å¼€æºï¼‰ã€ç™¾åº¦Noahæ™ºèƒ½è¿ç»´å¹³å°é¢å‘å•†ç”¨ï¼ŒGartneré¢„æµ‹åˆ°2020å¹´ï¼Œå°†è¿‘50%çš„ä¼ä¸šå°†ä¼šåœ¨ä»–ä»¬çš„ä¸šåŠ¡å’Œ IT è¿ç»´æ–¹é¢é‡‡ç”¨ AIOps ã€‚é«˜æ•ˆè¿ç»´å‘èµ·äººè§ç”°å›½åœ¨ã€ŠAIOpså®æ–½ä¹‹è·¯ã€‹ä¸­æŒ‡å‡ºäº†AIOpsåœ¨æ•ˆç‡æå‡ã€è´¨é‡ä¿éšœã€æˆæœ¬ä¼˜åŒ–æå‡ºäº†ç³»åˆ—å¯åº”ç”¨æ–¹å‘ä»¥åŠå®æ–½AIOpséœ€è¦å…·å¤‡çš„èƒ½åŠ›ã€‚ â€‹ OP&amp;URS äº2018å¹´åŠ å…¥æ™ºèƒ½è¿ç»´å¤§è¥ï¼Œæ‹¥æŠ±å˜åŒ–ï¼Œä»¥å®ç°å…¨é“¾è·¯ã€æ— æ­»è§’æ™ºèƒ½è¿ç»´ä½“ç³»ä¸ºç›®æ ‡ï¼Œæ—¨åœ¨åˆ©ç”¨AIçš„èƒ½åŠ›è§£å†³è¿ç»´è¡Œä¸šçš„é—®é¢˜ï¼ˆ1ï¼‰è§£å†³é‡å¤é€ è½®å­çš„é—®é¢˜ï¼ˆ2ï¼‰è§£å†³è¿ç»´æ•ˆç‡ä»ç„¶ä½ä¸‹çš„é—®é¢˜ï¼ˆ3ï¼‰è¿ç»´çš„æ•°æ®æ²¡æœ‰å¾—åˆ°åˆç†åº”ç”¨çš„é—®é¢˜ã€‚ â€‹ â€‹ æ­¤å›¾ä¸ºæ•…éšœç®¡ç†å…¨åœºæ™¯å›¾ï¼Œè¯¥å›¾ä»æœåŠ¡éƒ¨ç½²ã€æ•…éšœå‘ç”Ÿã€æ•…éšœå‘ç°ã€æ•…éšœæ­¢æŸã€æ ¹å› è¯Šæ–­ã€æ•…éšœæ¢å¤ã€æ•…éšœå…³é—­ï¼Œå®Œæ•´çš„é˜è¿°åº”ç”¨ç›‘æ§çš„æ•…éšœç®¡ç†ç”Ÿå‘½å‘¨æœŸã€‚ â€‹ OP&amp;URS å®æ–½ä¸­çš„æ™ºèƒ½è¿ç»´äº§å“å½¢æ€ â€‹ æ•…éšœé¢„è­¦ï¼šé€šè¿‡ç®—æ³•è®¡ç®—KPIæ›²çº¿å˜åŒ–è¶‹åŠ¿ï¼Œæ•…éšœå‰å‘å‡ºæ•…éšœé¢„è­¦ï¼›â€‹ æ•…éšœå‘Šè­¦ï¼šèƒ½å¯¹å‘¨æœŸæ€§å˜åŒ–æŒ‡æ ‡è¿›è¡Œé¢„æµ‹å’Œå¼‚å¸¸æ£€æµ‹ï¼Œä¸”æœ‰å‘Šè­¦åˆ†çº§ï¼›â€‹ å‘Šè­¦åˆå¹¶ï¼šæ”¯æŒæŒ‰ç…§åˆé€‚çš„ç»´åº¦å¯¹å‘Šè­¦è¿›è¡Œåˆå¹¶ï¼Œå±•ç°æ¦‚å†µä¿¡æ¯ï¼›â€‹ æ ¹å› åˆ†æï¼šæ™ºèƒ½å¯¹æ•…éšœæ ¹å› è¿›è¡Œåˆ†æï¼Œç»™å‡ºæœ€å¯èƒ½çš„åŸå› ï¼Œè¾…åŠ©äººåšå†³ç­–ï¼›â€‹ æ•…éšœè‡ªæ„ˆï¼šå¯ä»¥æ ¹æ®æ•…éšœåŸå› é€‰æ‹©åˆé€‚çš„æ•…éšœè‡ªæ„ˆç­–ç•¥å¹¶æ‰§è¡Œï¼Œè‡ªåŠ¨è§£å†³æ•…éšœã€‚ â€‹ OP&amp;URS è¿ç»´äº§å“ç”Ÿæ€ ä¸‰ã€OP&amp;URS åœ¨AIOpsä¸­å®æˆ˜åœºæ™¯-æ™ºèƒ½ç›‘æ§â€‹ ç¬”è€…è‡ªæ¥è§¦æ™ºèƒ½è¿ç»´ä»¥æ¥ï¼Œä¹Ÿæ˜¯ä¸‰åƒçƒ¦åŠ³ä¸ï¼Œå¦‚ä½•è®©è¿ç»´â€œæ™ºèƒ½â€èµ·æ¥ï¼Ÿå¦‚ä½•è®©AIOpsç»“åˆç½‘æ˜“ç°æœ‰è¿ç»´ä½“ç³»å®æ–½è½åœ°? åˆå¦‚ä½•æ¨è¿›AIOpså‘å±•? ç§ç§æŒ‘æˆ˜è€ƒéªŒç€æˆ‘ä»¬çš„å›¢é˜Ÿã€‚ç»è¿‡1å¹´æ¥ä¸æ–­æ¢ç´¢ã€ç ”ç©¶ã€è¯•é”™ï¼Œæˆ‘ä»¬é¦–å…ˆåœ¨ç›‘æ§æ–¹é¢çªç ´ï¼Œä¸‹é¢ä»‹ç»å¦‚ä½•ä»0åˆ°1å»ºè®¾AIOpsåº”ç”¨-æ™ºèƒ½ç›‘æ§ç³»ç»Ÿå¿ƒè·¯å†ç¨‹ã€‚ 3.1 è¿ç»´ç›‘æ§ç°çŠ¶â€‹ éšç€äº’è”ç½‘ï¼Œç‰¹åˆ«æ˜¯ç§»åŠ¨äº’è”ç½‘çš„é«˜é€Ÿå‘å±•ï¼ŒwebæœåŠ¡å·²ç»æ·±å…¥åˆ°ç¤¾ä¼šçš„å„ä¸ªé¢†åŸŸï¼Œäººä»¬ä½¿ç”¨äº’è”ç½‘æœç´¢ï¼Œè´­ç‰©ï¼Œä»˜æ¬¾ï¼Œå¨±ä¹ç­‰ç­‰ã€‚å› æ­¤ï¼Œä¿éšœwebæœåŠ¡çš„ç¨³å®šå·²ç»å˜çš„è¶Šæ¥è¶Šé‡è¦ã€‚è¿ç»´äººå‘˜é€šè¿‡ç›‘æ§å„ç§å„æ ·çš„å…³é”®æ€§èƒ½æŒ‡æ ‡ï¼ˆKPIï¼‰æ¥åˆ¤æ–­æœåŠ¡ã€ç³»ç»Ÿæ˜¯å¦ç¨³å®šï¼Œå› ä¸ºKPIå¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œå¾€å¾€æ„å‘³ç€ä¸å…¶ç›¸å…³çš„åº”ç”¨å‘ç”Ÿäº†é—®é¢˜ã€‚è¿™äº›KPIå¯èƒ½åŒ…æ‹¬ï¼šåŸºç¡€KPIåŠæœåŠ¡KPIï¼ŒæœåŠ¡KPIæ˜¯æŒ‡èƒ½å¤Ÿåæ˜ WebæœåŠ¡çš„è§„æ¨¡ã€è´¨é‡çš„æ€§èƒ½æŒ‡æ ‡ï¼Œä¾‹å¦‚ï¼Œç½‘é¡µå“åº”æ—¶é—´ï¼Œç½‘é¡µè®¿é—®é‡ï¼Œè¿æ¥é”™è¯¯æ•°é‡ç­‰ã€‚åŸºç¡€KPIæ˜¯æŒ‡èƒ½å¤Ÿåæ˜ æœºå™¨ï¼ˆæœåŠ¡å™¨ã€è·¯ç”±å™¨ã€äº¤æ¢æœºï¼‰å¥åº·çŠ¶æ€çš„æ€§èƒ½æŒ‡æ ‡ï¼Œä¾‹å¦‚ï¼Œç£ç›˜ä½¿ç”¨ç‡ï¼ŒCPUä½¿ç”¨ç‡ï¼Œå†…å­˜ä½¿ç”¨ç‡ï¼Œç£ç›˜IOï¼Œç½‘å¡ååç‡ç­‰ã€‚ â€‹ è¿™äº›KPIæ•°æ®è¡¨ç°ä¸ºæ—¶åºåºåˆ—ï¼Œå³ä¸€æ¡æŒ‡æ ‡æ›²çº¿ï¼ˆåæ–‡ç»Ÿä¸€ç§°KPIæ›²çº¿ï¼‰ã€‚ç”±æ­¤é—®é¢˜è½¬åŒ–ä¸ºå¯¹æ›²çº¿çš„å¼‚å¸¸åˆ¤æ–­ï¼ŒKPIæ›²çº¿å¯ä»¥ç®€å•åˆ†ç±»ä¸‹é¢ä¸‰ç§ç±»å‹ï¼š â€‹ å‘¨æœŸå‹ï¼š â€‹ éšæœºå‹ï¼š â€‹ å¹³ç¨³å‹ï¼š â€‹ åœ¨OP&amp;URSåŸºäºåŸºç¡€è®¾æ–½ç®¡ç†çš„CMDBç³»ç»Ÿï¼šå“¨å…µç³»ç»Ÿï¼Œé€šè¿‡å“¨å…µ Agentå°†æ•°æ®å®æ—¶/é‡‡æ ·çš„ä¼ è¾“è‡³å“¨å…µæœåŠ¡ç«¯è¿›è¡Œå¯è§†åŒ–åŠæŠ¥è­¦ç›‘æ§ã€‚ç›‘æ§ç³»ç»Ÿä¸»è¦é‡‡ç”¨è§„åˆ™åˆ¤å®šçš„æŠ¥è­¦æ–¹å¼ï¼Œè®¾å®šä¸Šé™ã€ä¸‹é™é˜ˆå€¼ï¼Œè§¦å‘è§„åˆ™åˆ™å‘å‡ºæŠ¥è­¦ï¼Œéšç€ä¸šåŠ¡é›†æˆè¶Šæ¥è¶Šå¤šï¼Œä½“é‡ä¹Ÿè¶Šæ¥è¶Šå¤§ï¼Œè§„åˆ™æŠ¥è­¦ä¹Ÿåˆ°äº†å…¶ç“¶é¢ˆï¼Œä¸»è¦æœ‰ä»¥ä¸‹ç—›ç‚¹ï¼š â€‹ ï¼ˆ1ï¼‰éœ€è¦é¢‘ç¹è°ƒæ•´é˜ˆå€¼ â€‹ case1:éšç€ä¸šåŠ¡å˜åŒ–ï¼Œå·²æœ‰çš„é˜ˆå€¼é€‚ç”¨æ€§å˜å·®ï¼Œå½“ä¸šåŠ¡å‘ç”Ÿå˜åŠ¨æ—¶ï¼ŒæŠ¥è­¦è§„åˆ™ä¹Ÿéœ€è¦åŠæ—¶è°ƒæ•´ case2:å¤œé—´ä¸ç™½å¤©èŒƒå›´ä¸ä¸€æ ·ï¼Œå·¥ä½œæ—¥ä¸å‘¨æœ«ä¸ä¸€æ ·ï¼Œç»Ÿä¸€çš„é˜ˆå€¼é€‚ç”¨æ€§è¾ƒå·® â€‹ ï¼ˆ2ï¼‰è¦†ç›–èŒƒå›´æœ‰é™ â€‹ ä¼ ç»Ÿçš„æ–¹å¼ï¼Œéœ€è¦é’ˆå¯¹æŒ‡æ ‡çš„æ¯ä¸€é¡¹è¿›è¡Œè®¾å®šæŠ¥è­¦è§„åˆ™ï¼Œæ¯”å¦‚åœ¨DubboProviderCollectorï¼Œæ¯ä¸ªæ–¹æ³•å¯¹åº”çš„è°ƒç”¨é›†ç¾¤çš„é‡ä¸ä¸€ï¼Œéœ€è¦ç‹¬ç«‹é…ç½®æŠ¥è­¦è§„åˆ™ï¼Œé‚£ä¹ˆé…ç½®å°†ä¼šç›¸å½“è€—æ—¶ä¸”ç¹çï¼Œå¹¶ä¸”å¾ˆå¤šDubboæœåŠ¡æ¥å£éƒ½æ˜¯éšä¸šåŠ¡éšæ—¶æ–°å¢æˆ–ä¸‹çº¿ï¼Œå¾ˆå®¹æ˜“è¢«å¿½è§†ã€‚ â€‹ ï¼ˆ3ï¼‰æ— æ•ˆæŠ¥è­¦è¿‡å¤š â€‹ é˜ˆå€¼è§„åˆ™æŠ¥è­¦çš„æ–¹å¼ï¼Œå¾€å¾€ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µï¼Œå½“é˜ˆå€¼è®¾å®šçš„å¤ªé«˜ï¼Œå¼‚å¸¸å¾ˆéš¾è¢«å‘ç°ï¼Œå½“é˜ˆå€¼è®¾å®šçš„å¤ªä½ï¼Œåˆ™ä¼šé€ æˆå¤§é‡æŠ¥è­¦ï¼Œé€ æˆæŠ¥è­¦é£æš´ï¼ŒçœŸæ­£æœ‰ç”¨çš„æŠ¥è­¦æ¶ˆæ¯æ·¹æ²¡åœ¨é£æš´ä¸­ã€‚ 3.2 ç®—æ³•å¼•å…¥é€šç”¨å¼‚å¸¸æ£€æµ‹æµç¨‹ï¼š â€‹ â€‹ é’ˆå¯¹ä¸Šè¿°ç—›ç‚¹ï¼Œæˆ‘ä»¬æ€è€ƒå¦‚ä½•åˆ©ç”¨ç®—æ³•æ¥çªç ´ä¼ ç»Ÿçš„é˜ˆå€¼æŠ¥è­¦å±€é™æ€§ã€‚äºæ˜¯è°ƒç ”äº†ä¸šç•Œä½¿ç”¨çš„å„ç§å¼‚å¸¸æ£€æµ‹ç®—æ³•ï¼Œè¾ƒä¸ºå¸¸è§çš„ç®—æ³•åŒ…æ‹¬é€»è¾‘å›å½’ã€å…³è”å…³ç³»æŒ–æ˜ã€èšç±»ã€å†³ç­–æ ‘ã€éšæœºæ£®æ—ã€æ”¯æŒå‘é‡æœºã€è’™ç‰¹å¡æ´›æ ‘æœç´¢ã€éšå¼é©¬å°”ç§‘å¤«ã€å¤šç¤ºä¾‹å­¦ä¹ ã€è¿ç§»å­¦ä¹ ã€å·ç§¯ç¥ç»ç½‘ç»œç­‰ ,æ•°å­¦ç®—æ³•ç±»ï¼šk-sigmaï¼ŒGrubbsï¼ŒTurkeyï¼ŒMeanPercentï¼ŒValueï¼ŒARï¼ŒMRï¼ŒARIMAã€‚ â€‹ æ›¾æƒ³ä½¿ç”¨ä¸€ç§æˆ–ä¸€ç±»ç®—æ³•æ¥è§£å†³æ‰€æœ‰KPIæ›²çº¿çš„é¢„æµ‹ï¼Œè€Œç¢°åˆ°ä¸šåŠ¡æƒ…å†µè¿œæ¯”æˆ‘ä»¬æƒ³è±¡è¦å¤æ‚ï¼Œä¾‹å¦‚ï¼šé¦–å…ˆé¢ä¸´å„ç§ä¸åŒæ›²çº¿è¡¨ç°ç‰¹å¾ä¸ä¸€ï¼ŒåŒä¸€ç±»å‹çš„ç®—æ³•å¾ˆéš¾åšåˆ°å¬å›ç‡æ•´ä½“æå‡ï¼›å…¶äºŒï¼Œåœ¨åŒæ ·ç±»å‹dubboè°ƒç”¨å¼‚å¸¸ KPIæ›²çº¿æ³¢åŠ¨æƒ…å†µï¼Œåœ¨URSæ˜¯å¯ä»¥æ¥å—çš„ï¼Œä½†æ˜¯åœ¨å…¶ä»–äº§å“å¯èƒ½æ˜¯ä¸èƒ½æ¥å—çš„å¼‚å¸¸ï¼Œå¯èƒ½åœ¨URSåœ¨æ„çš„æŒ‡æ ‡ï¼Œåœ¨å…¶ä»–äº§å“æ— éœ€åœ¨æ„ï¼›ç¬¬ä¸‰ï¼Œå°½ç®¡æƒ³åšåˆ°ä¸€ä¸ªæ¨¡å‹æ³›åå…¼å®¹æ‰€æœ‰åœºæ™¯ï¼Œä½†æ˜¯æ‰€éœ€ç‰¹å¾å·¥ç¨‹å·¥ä½œé‡å·¨å¤§ï¼Œç‰¹å¾ä¹Ÿå¾ˆå¤šã€‚ â€‹ æœ‰äººè¯´é‡‡ç”¨æŠ•ç¥¨çš„æ–¹æ³•ï¼Œç”¨ä¸€å¤§å †ç®—æ³•åŒæ—¶é¢„æµ‹ï¼Œå¯¹äºç»“æœè¿›è¡ŒæŠ•ç¥¨ï¼Œå°‘æ•°æœä»å¤šæ•°ï¼Œå¯¹äºè¿™ç§æ–¹å¼ä¹Ÿæ˜¯å­˜åœ¨ä¸€å®šçš„ç¼ºé™·ï¼Œæœ¬èº«æ¯ä¸ªç®—æ³•é€‚ç”¨æ€§ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆåŠ¿å¿…åœ¨å½±å“æŠ•ç¥¨ç»“æœã€‚åœ¨OP&amp;URSé‡‡ç”¨çš„æ˜¯åˆ†ç±»ç®—æ³•ï¼Œå³åœ¨ä¸åŒçš„åœºæ™¯ä¸‹é‡‡ç”¨ä¸€ç±»ç®—æ³•è¿›è¡Œé¢„æµ‹ï¼Œä»¥å‡å°‘è¯¯åˆ¤ç‡ï¼Œä¸‹é¢è°ƒç ”å’Œä½¿ç”¨äº†ä¸Šè¿°éƒ¨åˆ†ç®—æ³•ï¼š â€‹ æœºå™¨å­¦ä¹ ç±»ï¼š ç®—æ³• ä¼˜ç‚¹ ç¼ºç‚¹ rnn é€‚åˆåºåˆ—å˜åŒ– å­˜åœ¨æ¢¯åº¦æ¶ˆå¤±ç°è±¡ lstm è§£å†³RNNæ¢¯åº¦æ¶ˆæ¯é—®é¢˜ å•æŒ‡æ ‡ã€å•æ¨¡å‹ dnn å•æ¨¡å‹è¦†ç›–æ‰€æœ‰åœºæ™¯ï¼Œæ³›åèƒ½åŠ›æ¯”rfæ›´ä¼˜ ç‰¹å¾å·¥ç¨‹å¤æ‚ï¼Œéœ€è¦å¤§é‡æ ‡æ³¨æ•°æ® xgboost è€ƒè™‘è®­ç»ƒæ•°æ®ä¸ºç¨€ç–å€¼ï¼Œåˆ†å¸ƒå¼å¹¶è¡Œ ç‰¹å¾å·¥ç¨‹å¤æ‚ï¼Œéœ€è¦å¤§é‡æ ‡æ³¨æ•°æ® rf æ”¯æŒé«˜ç»´åº¦ï¼Œä¸ç”¨åšç‰¹å¾é€‰æ‹©ã€æ¨¡å‹æ³›åŒ–èƒ½åŠ›å¼º æŸäº›å™ªéŸ³è¾ƒå¤§çš„åˆ†ç±»æˆ–å›å½’é—®é¢˜ä¸Šä¼šè¿‡æ‹Ÿåˆ â€‹ ç‰¹å¾å·¥ç¨‹æ˜¯æœºå™¨å­¦ä¹ ä¸­ä¸€å—é‡è¦çš„ç¯èŠ‚ï¼Œé’ˆå¯¹å•ä¸€KPIè¡¨ç°çš„æ•°æ®å½¢æ€å°†é€ä¸€è½¬æ¢ä¸ºæ•°æ®ç‰¹å¾ï¼Œå¦‚ä¸‹å°†æ•°æ®ç‰¹å¾å½’ç±»å¦‚ä¸‹5ä¸ªæ–¹é¢ â€‹ 1ã€ç»Ÿè®¡ç‰¹å¾ ï¼šæè¿°æ ·æœ¬å†…ç›¸å…³çš„æ•°å­¦è¡¨ç°ï¼Œä¾‹å¦‚ï¼šæ–¹å·®ã€å‡å€¼ã€ä¸­ä½æ•°ã€æ–œç‡ã€ååº¦ã€å³°åº¦ç­‰é‡è¦æŒ‡æ ‡ â€‹ 2ã€æ‹Ÿåˆç‰¹å¾ ï¼šè·å–æ›²çº¿çš„åŠ¨æ€ç‰¹å¾ï¼Œæ ¹æ®æ›²çº¿å¹³ç¨³æˆ–ä¸å¹³ç¨³ï¼Œé‡‡ç”¨ä¸åŒæ¨¡å‹è·å–é¢„æµ‹å€¼ä¸å®é™…å€¼çš„å·® â€‹ 3ã€å‘¨æœŸç‰¹å¾ï¼šåˆ©ç”¨æ»‘åŠ¨çª—å£ï¼Œå‚…é‡Œå¶è½¬æ¢ï¼Œè·å–æ›²çº¿ä¸­å¯èƒ½å­˜åœ¨çš„å­£èŠ‚æ€§ã€å‘¨æœŸæ€§ç‰¹å¾ â€‹ 4ã€åˆ†ç±»ç‰¹å¾ï¼šåŸºäºæ›²çº¿å˜æ¢ã€å°æ³¢å˜æ¢ã€ä¸»æˆåˆ†åˆ†æç­‰æ–¹å¼ è·å–æ›²çº¿åˆ†ç±»ç‰¹å¾ â€‹ 5ã€ä¸šåŠ¡ç‰¹å¾ï¼šKPIå…·æœ‰ä¸šåŠ¡é›†ç¾¤æ•ˆåº”ï¼Œå·¥ä½œæ—¥é‚®ç®±è®¿é—®é‡ï¼Œå‘¨æœ«æ¸¸æˆè®¿é—®é‡ç­‰ä¸šåŠ¡ç‰¹å¾ â€‹ PSï¼šç”±äºç¯‡å¹…æœ‰é™ï¼Œè¿™é‡Œå°±ä¸æšä¸¾æ‰€æœ‰ç‰¹å¾ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥ç§ä¸‹æ²Ÿé€šäº¤æµã€‚ â€‹ æ•°å­¦ç®—æ³•ç±»ï¼š â€‹ ï¼ˆ1ï¼‰æ’å®šé˜ˆå€¼ç±»ç®—æ³•â€‹ æ’å®šé˜ˆå€¼çš„å«ä¹‰æ˜¯è¡¨ç¤ºå‡å€¼åŸºæœ¬æ’å®šï¼Œæ ‡å‡†å·®ä¸å‡å€¼æ¯”çº¦ç­‰äº0ï¼ˆå³KPIæ›²çº¿è¿‘ä¼¼ä¸€æ¡ç›´çº¿ï¼‰ â€‹ ï¼ˆ2ï¼‰çªå‡çªé™ç±»ç®—æ³• â€‹ çªå˜çš„å«ä¹‰æ˜¯å‘ç”Ÿäº†å‡å€¼æ¼‚ç§» â€‹ ç©ºé—´è½¬æ¢:ğ‘Ÿ(ğ‘¡)= â€‹ ï¼ˆ3ï¼‰åŒæ¯”ç®—æ³•â€‹ é€‚ç”¨äºå‘¨æœŸæ€§æ•°æ®è¡¨ç°ï¼Œæ¯å¤©åŒæ—¶åˆ»çš„æ•°æ®åˆ†å¸ƒç›¸ä¼¼â€‹ å‚æ•°ä¼°è®¡:æ±‚æ­£æ€åˆ†å¸ƒçš„å‡å€¼ã€æ–¹å·® 3.3 åŠŸèƒ½è®¾è®¡ï¼ˆ1ï¼‰KPI ç®¡ç† æ ‡æ³¨æ‰“æ ‡ï¼šæä¾›æ ‡æ³¨æ‰“æ ‡çš„åŠŸèƒ½ï¼Œæ ‡è®°/å–æ¶ˆæ ‡è®°ä¸ºæ­£è´Ÿæ ·æœ¬ï¼Œæ ‡è®°åæ ·æœ¬è‡ªåŠ¨è½¬å­˜æ ·æœ¬åº“ æ ·æœ¬ç®¡ç†ï¼šæä¾›æ ·æœ¬ç®¡ç†åŠŸèƒ½ï¼Œæ£€ç´¢ã€å›¾ç¤ºã€ç¼–è¾‘ã€åˆ é™¤ç­‰åŠŸèƒ½ å¼‚å¸¸æŸ¥è¯¢ï¼šç»APIæ£€æµ‹åçš„æ—¶é—´åºåˆ—ï¼ˆä»…å¼‚å¸¸ï¼‰å…¥åº“å­˜å‚¨ï¼Œæä¾›ç®¡ç†åŠŸèƒ½ï¼Œåˆ†é¡µæŸ¥è¯¢ã€æ£€ç´¢ã€æ”¾ç¼©ç­‰ ï¼ˆ2ï¼‰æ¨¡å‹ç®¡ç†â€‹ æ¨¡å‹ç®¡ç†ï¼šæä¾›æ¨¡å‹ç®¡ç†åŠŸèƒ½â€‹ æ¨¡å‹è®­ç»ƒï¼šæ”¯æŒè‡ªå®šä¹‰æ¨¡å‹è®­ç»ƒ ï¼ˆé€šè¿‡PEæˆ–å¼€å‘æ ‡æ³¨çš„å¼‚å¸¸KPIï¼Œæ­£å¸¸KPIè®­ç»ƒç¬¦åˆè‡ªå·±ä¸šåŠ¡çš„æ¨¡å‹ï¼Œæˆ–ä½¿ç”¨å¼€æ”¾çš„é€šç”¨æ¨¡å‹ï¼‰ ï¼ˆ3ï¼‰KPIå¼‚å¸¸æ£€æµ‹ åŸºäºæ•°å­¦ç»Ÿè®¡ç®—æ³•é›†æˆ åŸºäºæœºå™¨å­¦ä¹ ç®—æ³•é›†æˆ ï¼ˆ4ï¼‰å¤šç»´åº¦æŠ¥è­¦èšåˆ æŒ‰äº§å“ç»´åº¦åˆå¹¶ æŒ‰åº”ç”¨ç»´åº¦åˆå¹¶ æŒ‰é›†ç¾¤ç»´åº¦åˆå¹¶ æŒ‰å•æœºç»´åº¦åˆå¹¶ æŒ‰ä¸šåŠ¡ç±»å‹åˆå¹¶ æŒ‰æŠ¥è­¦æ¥æ”¶äººç»´åº¦åˆå¹¶ ï¼ˆ5ï¼‰åé¦ˆç³»ç»Ÿ ç”¨æˆ·æ ‡è®°ã€æŠ¥è­¦å…³é—­ 3.4 æ¶æ„è®¾è®¡â€‹ æˆ‘ä»¬å°†æ•´ä¸ªæ™ºèƒ½ç›‘æ§ç³»ç»Ÿåˆ†ä¸º7ä¸ªæ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—æ‰¿æ‹…å¼‚å¸¸æ£€æµ‹æµç¨‹ä¸­ç›¸åº”åŠŸèƒ½ï¼Œæ•´ä½“æ¶æ„ä¸Šåšåˆ°æ¨¡å—ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œé€šè¿‡æ•°æ®æµä¿¡å·ã€RPCè¿›è¡Œæ¨¡å—é€šä¿¡ã€‚ åºå· æ¨¡å—åç§° 1 é…ç½®ç®¡ç†ä¸­å¿ƒ é…ç½®åº“ã€æ¨¡å‹åº“ã€æ ‡æ³¨åº“ ç›¸å…³é…ç½®ä¸ç®¡ç†ï¼ˆå«UIï¼‰ 2 æµå¼è®¡ç®—ä¸­å¿ƒ KPIé¢„å¤„ç†ã€KPIèšåˆã€KPIåˆ†å‘ 3 æ•°æ®å­˜å‚¨&amp;è¯»å–ä¸­å¿ƒ ç”¨äºè¯»å†™KPIæ—¶åºæ•°æ® 4 æ¶ˆæ¯ä¸­å¿ƒ æ•°æ®â†’ æ¶ˆæ¯ ç”¨äºè§¦å‘æ¨¡å‹è®¡ç®—ã€æ’å€¼è®¡ç®— 5 ç®—æ³•ä¸­å¿ƒ å¼‚å¸¸æ£€æµ‹ã€æ¨¡å‹è®­ç»ƒ 6 æŠ¥è­¦å¤„ç†ä¸­å¿ƒ ç”¨äºè§£æå¼‚å¸¸KPIåŠå‘é€æŠ¥è­¦å†…å®¹è‡³å“¨å…µæŠ¥è­¦ä¸­å¿ƒ 7 åé¦ˆç³»ç»Ÿ ç”¨äºåé¦ˆæŠ¥è­¦æ˜¯å¦æœ‰æ•ˆï¼Œåé¦ˆäºæ¨¡å‹æå‡ â€‹ ç³»ç»Ÿæ¶æ„å¦‚ä¸‹ï¼š â€‹ æ•°æ®æ¶æ„å¦‚ä¸‹ï¼š 3.5 éš¾é¢˜â€‹ å‰é¢ä»‹ç»äº†OP&amp;URS æ™ºèƒ½ç›‘æ§ç³»ç»Ÿçš„åœ¨æ™ºèƒ½ç›‘æ§ç³»ç»Ÿä¸­æ•´ä½“åŠŸèƒ½åŠæ¶æ„è®¾è®¡ï¼Œä¸‹é¢ç®€å•èŠèŠæˆ‘ä»¬ç¢°åˆ°ä¸€äº›é—®é¢˜ä»¥åŠè§£å†³æ€è·¯ï¼š ï¼ˆ1ï¼‰å®æ—¶è®¡ç®—é—®é¢˜ â€‹ é—®é¢˜æè¿°ï¼š1æœŸé‡‡ç”¨çš„æ˜¯Spark Streamingå®æ—¶è®¡ç®—æ¡†æ¶ï¼Œé€šè¿‡ç›´è¿Kafkaè·å–æ•°æ®æºï¼Œä½†æ˜¯åœ¨å®é™…ç”Ÿäº§ä¸­ï¼Œç”±äºæ•°æ®æºæ˜¯é‡‡æ ·æ”¶é›†ï¼ˆæœ‰1åˆ†é’Ÿé‡‡æ ·ï¼Œæœ‰2åˆ†é’Ÿé‡‡æ ·ï¼‰ï¼Œå‘ç°æ¯1åˆ†é’Ÿä¼šæœ‰æµé‡å°–åˆºç°è±¡ï¼Œéšç€KPIæ•°é‡å¢å¤šï¼Œå°–åˆºæ›´æ˜æ˜¾ã€‚ â€‹ åˆ†æï¼šç»åˆ†æï¼Œå‘ç°Spark Streaming å¹¶éæ˜¯å®æ—¶çš„æ•°æ®æŠ½å–Kafkaçš„æ•°æ®ã€‚ç„¶è€Œåœ¨Spark Streamingåœ¨å®æ—¶è®¡ç®—ä¸­ä¸èƒ½æ”¯æŒå®æ—¶è¯»å–æ•°æ®ï¼Œè€Œæ˜¯åœ¨çª—å£ç»“æŸæ—¶ä¸€æ¬¡æ€§æŠ½å–ï¼Œé€ æˆäº†ä¸€æ¬¡æŠ½å–å¤§é‡æ•°æ®ï¼Œé€ æˆç½‘ç»œæ³¢åŠ¨å¼‚å¸¸ï¼Œæµé‡å°–åˆºã€‚ â€‹ è§£å†³æ–¹æ¡ˆï¼šç”±äºSparkæµå¼è®¡ç®—æœ¬è´¨ä¸Šæ˜¯å¾®æ‰¹å¤„ç†ï¼Œå°½ç®¡ä½¿ç”¨å„ç§æ‰‹æ®µï¼ˆé™åˆ¶æŠ½å–æ•°æ®å¤§å°ã€å‡å°‘çª—å£å¤§å°ï¼‰ï¼Œä»ç„¶æŒ‡æ ‡ä¸æ²»æœ¬ï¼Œç”±æ­¤å°è¯•æ‰¾Sparkçš„æ›¿ä»£æ–¹æ¡ˆï¼Œæˆ‘ä»¬è°ƒç ”äº†Flinkï¼Œç»æµ‹è¯•Flinkèƒ½å¤Ÿå®Œç¾çš„è§£å†³å®æ—¶æŠ½å–çš„é—®é¢˜ï¼Œå¹¶åœ¨æ•°æ®å»¶æ—¶æ–¹é¢å¤„ç†æœ‰ä¸€é¡¹ä¸åˆ°çš„æ•ˆæœï¼Œæ˜¾è‘—æé«˜äº†æ•°æ®å‡†ç¡®åº¦ã€‚ ï¼ˆ2ï¼‰æ€§èƒ½é—®é¢˜ â€‹ é—®é¢˜æè¿°ï¼šç³»ç»Ÿåœ¨1æœŸæ—¶ï¼Œä¸ºäº†å®æ—¶è®¡ç®—å†å²ç‰¹å¾ï¼ˆå‘¨æœŸæ€§ï¼ŒåŒæ¯”ç­‰ï¼‰ï¼Œç®—æ³•è®¡ç®—çš„è¾“å…¥æ˜¯360ä¸ªæ•°æ®ç‚¹ï¼ˆå½“å‰æ—¶é—´åŒºé—´çš„120ä¸ªç‚¹ï¼Œå‰ä¸€å¤©åŒåŒºé—´çš„120ä¸ªç‚¹ï¼Œ7å¤©å‰åŒåŒºé—´çš„120ä¸ªç‚¹ï¼‰ï¼Œå†å²æ•°æ®å­˜å‚¨åœ¨HBaseï¼ˆä½œä¸ºTSDBå­˜åœ¨ï¼‰ä¸­ï¼Œä½†æ˜¯éšç€KPIæ•°é‡å¢é•¿ï¼ˆå½“å‰å·²æœ‰10ä¸‡çº§ï¼‰ï¼Œä¸‰ä¸ªæ—¶é—´æ®µåˆ†å¸ƒåœ¨ä¸åŒçš„HBase Keyï¼ˆKey è®¾è®¡ï¼škeyId + DayHourï¼Œ Columnè®¾è®¡ï¼šminuteï¼‰ä¸­ï¼Œæ„å‘³ç€æ¯æ¬¡è®¡ç®—éœ€è¦æŸ¥è¯¢3æ¬¡HBaseï¼Œå½“KPIåˆ°è¾¾20ä¸‡çº§æ—¶ï¼Œéœ€è¦æŸ¥è¯¢60ä¸‡æ¬¡ï¼Œç”±äºå‰æœŸé‡‡ç”¨çš„è¿˜æ˜¯Spark Steamingæ¨¡å¼è®¡ç®—ï¼ŒQPSè¶…è¿‡20wï¼ŒHBaseå‡ºç°æ˜æ˜¾å»¶è¿Ÿã€‚ â€‹ åˆ†æï¼šç”±äºç®—æ³•æ‰€éœ€æ•°æ®ç‚¹ç”šå¤§ï¼Œå®æ—¶è®¡ç®—æŠ½å–å†å²æ•°æ®æˆä¸ºç“¶é¢ˆï¼Œå›¢é˜Ÿçš„æ”»åŸç‹®ä»¬è‡ªç„¶æƒ³åˆ°çš„æ˜¯å‡å°‘ç®—æ³•æ•°æ®éœ€æ±‚ï¼Œæœ€å¥½æ˜¯ç”¨å®æ—¶çš„1ä¸ªæ•°æ®ç‚¹è¿›è¡Œè®¡ç®—ï¼Œä½†å¯¹äºç®—æ³•æ¥è¯´æ˜¯å®Œå…¨ä¸å¯èƒ½å®ç°çš„ï¼Œå…¶ä¸€ï¼Œä¸€ä¸ªç‚¹çš„è¾“å…¥å®Œå…¨æ„å»ºä¸äº†ä»»ä½•ç‰¹å¾ï¼Œç®—æ³•æ— ä»è·çŸ¥æ›²çº¿å½¢æ€ï¼Œä¸çŸ¥é“åŒç¯æ¯”ç­‰ï¼Œåªä¼šé€€åŒ–åˆ°ä¼ ç»Ÿçš„é˜ˆå€¼è®¡ç®—ï¼›å…¶äºŒï¼Œ1æœŸæ‰€æœ‰ç‰¹å¾å·¥ç¨‹åŸºäº360ä¸ªè®¡ç®—ï¼Œè®¡ç®—ç‚¹è¿‡åº¦å‡å°‘ç›¸å½“äº1æœŸçš„ç®—æ³•å·¥ä½œå…¨éƒ¨æ¨ç¿»é‡åšã€‚ç»è¿‡å¤§é‡è®¨è®ºè®ºè¯ï¼Œå¾—å‡ºå¦‚ä¸‹è§£å†³æ–¹æ¡ˆï¼š â€‹ è§£å†³æ–¹æ¡ˆï¼š â€‹ ï¼ˆ1ï¼‰ç®—æ³•è¾“å…¥ç²¾ç®€ï¼Œç”±360ä¸ªæ•°æ®ç‚¹æ›´æ”¹ä¸ºå½“å‰æ—¶é—´åŒºé—´çš„60ä¸ªç‚¹ï¼Œéƒ¨åˆ†å®æ—¶ç‰¹å¾è½¬ä¸ºç¦»çº¿è®¡ç®—ç‰¹å¾ï¼Œé€šè¿‡å†…å­˜åŠ è½½ï¼Œæ— éœ€å®æ—¶è¿›è¡Œè®¡ç®—ï¼Œæ—¢ä¿ç•™å½“å‰æ›²çº¿çš„æ•°æ®ç‰¹å¾ï¼Œåˆèƒ½å‡å°‘å®æ—¶è®¡ç®—æ¨¡å—çš„éœ€æ±‚ã€‚ â€‹ ï¼ˆ2ï¼‰å»HBaseæ”¹ä¸ºRedisï¼Œå°†60ä¸ªç¼“å­˜è‡³Redisä¸­ï¼Œé‡‡ç”¨pipelineæ–¹æ³•ï¼Œè¿›è¡Œå¤´å°¾æ“ä½œï¼ˆæ–°æ•°æ®ç‚¹æ’å…¥å¤´éƒ¨ï¼Œæ—§çš„æ•°æ®ç‚¹ä»å°¾éƒ¨å‰”é™¤ï¼‰ â€‹ AIOpså‰è¡Œçš„è·¯ä¸Šè†æ£˜ä¸›ç”Ÿï¼Œç±»ä¼¼çš„éš¾é¢˜è¿˜æœ‰å¾ˆå¤šï¼Œå¾ˆå¤šæ–¹æ³•ä¹Ÿä¸ä¸€å®šæ˜¯æœ€ä¼˜æ–¹æ¡ˆï¼Œå¥½åœ¨å¤§å®¶æ„¿æ„å°è¯•ï¼Œæ„¿æ„æ¨ç¿»é‡æ¥ã€‚ å››ã€æ€»ç»“ä¸å±•æœ›â€‹ OP&amp;URS æ™ºèƒ½ç›‘æ§ç³»ç»Ÿç»å†äº†2æœŸçš„å¼€å‘ï¼Œå½“å‰æ™ºèƒ½ç›‘æ§ç³»ç»Ÿ2.0å·²ä¸Šçº¿ï¼Œç®—æ³•å¬å›ç‡åœ¨70%å·¦å³ï¼ŒæŠ¥è­¦è¦†ç›–åº¦100%ï¼ŒæŠ¥è­¦é…ç½®æˆæœ¬èŠ‚çœ90%ï¼Œå½“å‰ä¼ åª’ã€è€ƒæ‹‰ã€URSã€äº‘é˜…è¯»ã€ç½‘æ˜“é‡‘èç­‰äº§å“å…ˆåæ¥å…¥æ™ºèƒ½ç›‘æ§æŠ¥è­¦ï¼ˆæ’åä¸åˆ†å…ˆåï¼‰ï¼Œä¹Ÿå¤šæ¬¡åŠæ—¶çš„æ¢æµ‹åˆ°å¼‚å¸¸äº‹æ•…åŠæ—¶æ­¢æŸï¼Œä¸ºå®¢æˆ·å‡å°‘æŸå¤±ã€‚ â€‹ å½“å‰ç³»ç»Ÿä¹Ÿå­˜åœ¨å¾ˆå¤šä¸è¶³ï¼š â€‹ ï¼ˆ1ï¼‰ç®—æ³•å¬å›ç‡ä¸é«˜ï¼Œä»éœ€è¦ä¸“å®¶ç»éªŒä¸ç®—æ³•çš„ç»“åˆ â€‹ ï¼ˆ2ï¼‰å½“å‰æ™ºèƒ½ç›‘æ§ç³»ç»Ÿåªèƒ½åŸºäºå•KPIè®¡ç®—ï¼Œä¸æ»¡è¶³å¤šKPIè®¡ç®— â€‹ ï¼ˆ3ï¼‰ä¾èµ–æ•°æ®æºçš„ä¸°å¯Œï¼Œç¼ºä¹å…¨é“¾è·¯ç›‘æ§ â€‹ æ™ºèƒ½ç›‘æ§æ˜¯AIOpsä¸­å†°å±±ä¸€è§’ï¼Œé™¤äº†è§£å†³å½“å‰ä¸è¶³ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜æœ‰å¾ˆå¤šå·¥ä½œè¦åšï¼Œä¾‹å¦‚æ ¹å› åˆ†æï¼Œåœºæ™¯ç›‘æ§ï¼Œæ•…éšœè¯Šæ–­ã€æ•…éšœè‡ªæ„ˆç­‰ç­‰ï¼ŒAIOpsä¹‹è·¯ä»»é‡è€Œé“è¿œï¼ŒæœŸå¾…å¹¿å¤§å¿—åŒé“åˆçš„operatoråŠ å…¥AIOpsé˜µè¥ï¼Œä¸€èµ·åŠªåŠ›ã€‚ â€‹]]></content>
  </entry>
  <entry>
    <title><![CDATA[Flinkå­¦ä¹ ç¬”è®°02->Flinké…ç½®æ–‡ä»¶è¯¦è§£]]></title>
    <url>%2F2019%2F08%2F11%2Fflink-learning-notes-02%2F</url>
    <content type="text"><![CDATA[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‰æ–‡å·²ç»ç®€è¦çš„ä»‹ç»äº†flinkçš„å¦‚ä½•åœ¨Macä¸‹è¿è¡Œä¸€ä¸ªMavenç¨‹åºï¼Œæœ¬æ–‡ä¸»è¦èŠä¸‹åœ¨Flink confç›®å½•ä¸‹çš„å„é…ç½®çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶ä¸­å„ç§é…ç½®çš„å«ä¹‰ï¼Œæ›´å¤šæ›´è¯¦ç»†çš„é…ç½®ä¿¡æ¯è¯·ç‚¹å‡»ï¼šä¼ é€é—¨ ï¼Œä¸‹é¢è¿›å…¥æ­£é¢˜â€¦ 0x1 é…ç½®ç›®å½•&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸Šæ–‡ä¸­å·²ç»å®šä¹‰äº†FLINK_HOME=/usr/local/Cellar/apache-flink/1.6.0/ 123456789101112131415Î» deletee [~] â†’ cd $FLINK_HOME/libexec/confÎ» deletee [1.6.0/libexec/conf] ls -lhtotal 112-rw-r--r-- 1 deletee admin 9.6K Aug 6 2018 flink-conf.yaml-rw-r--r-- 1 deletee admin 2.1K Aug 6 2018 log4j-cli.properties-rw-r--r-- 1 deletee admin 1.8K Aug 6 2018 log4j-console.properties-rw-r--r-- 1 deletee admin 1.7K Aug 6 2018 log4j-yarn-session.properties-rw-r--r-- 1 deletee admin 1.9K Aug 6 2018 log4j.properties-rw-r--r-- 1 deletee admin 2.2K Aug 6 2018 logback-console.xml-rw-r--r-- 1 deletee admin 1.5K Aug 6 2018 logback-yarn.xml-rw-r--r-- 1 deletee admin 2.3K Aug 6 2018 logback.xml-rw-r--r-- 1 deletee admin 15B Aug 6 2018 masters-rw-r--r-- 1 deletee admin 10B Aug 6 2018 slaves-rw-r--r-- 1 deletee admin 3.2K Aug 6 2018 sql-client-defaults.yaml-rw-r--r-- 1 deletee admin 1.4K Aug 6 2018 zoo.cfg &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é…ç½®ç›®å½•ä¸­æœ‰flink-conf.yamlï¼ˆflinkçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼‰ï¼Œlog4j*.properties ç³»åˆ—log4jæ–‡ä»¶ä»¥åŠlogback*.xmlç³»åˆ—æ—¥å¿—é…ç½®æ–‡ä»¶ï¼Œmastersã€slaveç”¨äºflinkåˆ†å¸ƒå¼é…ç½®ï¼Œsql-client-defaults.yaml æ˜¯Flink SQL å®¢æˆ·ç«¯é…ç½®ï¼Œzoo.cfg æ˜¯ flinkæ‰€ä¾èµ–çš„ zookeeperçš„é…ç½®æ–‡ä»¶ 0x2 flink-conf.yaml&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flink-confæ–‡ä»¶æ ¼å¼ä¸ºyamlå³flinkçš„é…ç½®éœ€è¦éµå¾ªyamlçš„æ–‡ä»¶æ ¼å¼ï¼Œä¸‹é¢ä¸»è¦ä»åŸºç¡€é…åˆï¼Œå†…å­˜ç®¡ç†ï¼Œå†…å­˜ä¸æ€§èƒ½debugç­‰è¿›è¡Œå±•å¼€ã€‚ â€” åŸºç¡€é…ç½® 123456789101112131415161718192021222324env.java.home: # javaå®‰è£…è·¯å¾„ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šåˆ™é»˜è®¤ä½¿ç”¨ç³»ç»Ÿçš„$JAVA_HOMEç¯å¢ƒå˜é‡ã€‚å»ºè®®è®¾ç½®æ­¤å€¼ï¼Œå› ä¸ºä¹‹å‰æˆ‘æ›¾ç»åœ¨standaloneæ¨¡å¼ä¸­å¯åŠ¨flinké›†ç¾¤ï¼ŒæŠ¥æ‰¾ä¸åˆ°JAVA_HOMEçš„é”™è¯¯ã€‚config.shä¸­ï¼ˆPlease specify JAVA_HOME. Either in Flink config ./conf/flink-conf.yaml or as system-wide JAVA_HOME.ï¼‰env.java.opts: # å®šåˆ¶JVMé€‰é¡¹ï¼Œåœ¨Flinkå¯åŠ¨è„šæœ¬ä¸­æ‰§è¡Œã€‚éœ€è¦å•ç‹¬æ‰§è¡ŒJobManagerå’ŒTaskManagerçš„é€‰é¡¹ã€‚env.java.opts.jobmanager: # æ‰§è¡ŒjobManagerçš„JVMé€‰é¡¹ã€‚åœ¨Yarn Clientç¯å¢ƒä¸‹æ­¤å‚æ•°æ— æ•ˆã€‚env.java.opts.taskmanager:# æ‰§è¡ŒtaskManagerçš„JVMé€‰é¡¹ã€‚åœ¨Yarn Clientç¯å¢ƒä¸‹æ­¤å‚æ•°æ— æ•ˆã€‚jobmanager.rpc.address:# Jobmanagerçš„IPåœ°å€ï¼Œå³masteråœ°å€ã€‚é»˜è®¤æ˜¯localhostï¼Œæ­¤å‚æ•°åœ¨HAç¯å¢ƒä¸‹æˆ–è€…Yarnä¸‹æ— æ•ˆï¼Œä»…åœ¨localå’Œæ— HAçš„standaloneé›†ç¾¤ä¸­æœ‰æ•ˆã€‚jobmanager.rpc.port: # JobMamangerçš„ç«¯å£ï¼Œé»˜è®¤æ˜¯6123ã€‚jobmanager.heap.mb: # JobManagerçš„å †å¤§å°ï¼ˆå•ä½æ˜¯MBï¼‰ã€‚å½“é•¿æ—¶é—´è¿è¡Œoperatoréå¸¸å¤šçš„ç¨‹åºæ—¶ï¼Œéœ€è¦å¢åŠ æ­¤å€¼ã€‚å…·ä½“è®¾ç½®å¤šå°‘åªèƒ½é€šè¿‡æµ‹è¯•ä¸æ–­è°ƒæ•´ã€‚taskmanager.heap.mb:# æ¯ä¸€ä¸ªTaskManagerçš„å †å¤§å°ï¼ˆå•ä½æ˜¯MBï¼‰ï¼Œç”±äºæ¯ä¸ªtaskmanagerè¦è¿è¡Œoperatorçš„å„ç§å‡½æ•°ï¼ˆMapã€Reduceã€CoGroupç­‰ï¼ŒåŒ…å«sortingã€hashingã€cachingï¼‰ï¼Œå› æ­¤è¿™ä¸ªå€¼åº”è¯¥å°½å¯èƒ½çš„å¤§ã€‚å¦‚æœé›†ç¾¤ä»…ä»…è·‘Flinkçš„ç¨‹åºï¼Œå»ºè®®æ­¤å€¼ç­‰äºæœºå™¨çš„å†…å­˜å¤§å°å‡å»1ã€2Gï¼Œå‰©ä½™çš„1ã€2GBç”¨äºæ“ä½œç³»ç»Ÿã€‚å¦‚æœæ˜¯Yarnæ¨¡å¼ï¼Œè¿™ä¸ªå€¼é€šè¿‡æŒ‡å®štmå‚æ•°æ¥åˆ†é…ç»™containerï¼ŒåŒæ ·è¦å‡å»æ“ä½œç³»ç»Ÿå¯ä»¥å®¹å¿çš„å¤§å°ï¼ˆ1ã€2GBï¼‰ã€‚taskmanager.numberOfTaskSlots:# æ¯ä¸ªTaskManagerçš„å¹¶è¡Œåº¦ã€‚ä¸€ä¸ªslotå¯¹åº”ä¸€ä¸ªcoreï¼Œé»˜è®¤å€¼æ˜¯1.ä¸€ä¸ªå¹¶è¡Œåº¦å¯¹åº”ä¸€ä¸ªçº¿ç¨‹ã€‚æ€»çš„å†…å­˜å¤§å°è¦ä¸”åˆ†ç»™ä¸åŒçš„çº¿ç¨‹ä½¿ç”¨ã€‚parallelism.default:# æ¯ä¸ªoperatorçš„é»˜è®¤å¹¶è¡Œåº¦ã€‚é»˜è®¤æ˜¯1.å¦‚æœç¨‹åºä¸­å¯¹operatorè®¾ç½®äº†setParallelismï¼Œæˆ–è€…æäº¤ç¨‹åºæ—¶æŒ‡å®šäº†-på‚æ•°ï¼Œåˆ™ä¼šè¦†ç›–æ­¤å‚æ•°ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªJobè¿è¡Œæ—¶ï¼Œæ­¤å€¼å¯ä»¥è®¾ç½®ä¸ºtaskManagerçš„æ•°é‡ * æ¯ä¸ªtaskManagerçš„slotsæ•°é‡ã€‚å³NumTaskManagers * NumSlotsPerTaskManager ã€‚fs.default-scheme:# è®¾ç½®é»˜è®¤çš„æ–‡ä»¶ç³»ç»Ÿæ¨¡å¼ã€‚é»˜è®¤å€¼æ˜¯file:///å³æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿæ ¹ç›®å½•ã€‚å¦‚æœæŒ‡å®šäº†hdfs://localhost:9000/ï¼Œåˆ™ç¨‹åºä¸­æŒ‡å®šçš„æ–‡ä»¶/user/USERNAME/in.txtï¼Œå³æŒ‡å‘äº†hdfs://localhost:9000/user/USERNAME/in.txtã€‚è¿™ä¸ªå€¼ä»…ä»…å½“æ²¡æœ‰å…¶ä»–schemaè¢«æŒ‡å®šæ—¶ç”Ÿæ•ˆã€‚ä¸€èˆ¬hadoopä¸­core-site.xmlä¸­éƒ½ä¼šé…ç½®fs.default.nameã€‚fs.hdfs.hadoopconf:# HDFSçš„é…ç½®è·¯å¾„ã€‚ä¾‹å¦‚ï¼š/home/flink/hadoop/hadoop-2.6.0/etc/hadoopã€‚å¦‚æœé…ç½®äº†è¿™ä¸ªå€¼ï¼Œç”¨æˆ·ç¨‹åºä¸­å°±å¯ä»¥ç®€å†™hdfsè·¯å¾„å¦‚ï¼šhdfs:///path/to/filesã€‚è€Œä¸ç”¨å†™æˆï¼šhdfs://address:port/path/to/filesè¿™ç§æ ¼å¼ã€‚é…ç½®æ­¤å‚æ•°åï¼ŒFlinkå°±å¯ä»¥æ‰¾åˆ°æ­¤è·¯å¾„ä¸‹çš„core-site.xmlå’Œhdfs-site.xmläº†ã€‚å»ºè®®é…ç½®æ­¤å‚æ•°ã€‚ â€” å†…å­˜ç®¡ç† &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯¹äºæ‰¹å¤„ç†ç¨‹åºï¼ŒFlinkä½¿ç”¨äº†è‡ªæˆ‘çš„å†…å­˜ç®¡ç†ï¼Œé»˜è®¤ä½¿ç”¨70%çš„taskmanager.heap.mbçš„å†…å­˜ã€‚è¿™æ ·Flinkæ‰¹å¤„ç†ç¨‹åºä¸ä¼šå‡ºç°OOMé—®é¢˜ï¼Œå› ä¸ºFlinkè‡ªå·±çŸ¥é“æœ‰å¤šå°‘å†…å­˜å¯ä»¥ä½¿ç”¨ï¼Œå½“å†…å­˜ä¸å¤Ÿæ—¶ï¼Œå°±ä½¿ç”¨ç£ç›˜ç©ºé—´ã€‚è€Œä¸”è¿™æ ·æœ‰äº›operationå¯ä»¥ç›´æ¥è®¿é—®æ•°æ®ï¼Œè€Œä¸éœ€è¦åºåˆ—åŒ–æ•°æ®åˆ°javaå¯¹è±¡ã€‚Flinkè‡ªæˆ‘ç®¡ç†çš„å†…å­˜å¯ä»¥åŠ é€Ÿç¨‹åºçš„æ‰§è¡Œã€‚å¦‚æœéœ€è¦çš„è¯ï¼Œè‡ªæˆ‘ç®¡ç†çš„å†…å­˜ä¹Ÿå¯ä»¥åœ¨JVMå †å¤–è¢«åˆ†é…ï¼Œè¿™ä¹Ÿæœ‰åŠ©äºæå‡æ€§èƒ½ã€‚ 1234567891011taskmanager.memory.size:# ç›¸å¯¹äºjobmanager.heap.mbï¼Œä½¿ç”¨å¤šå°‘å†…å­˜ç”¨äºå†…å­˜ç®¡ç†å™¨è¿›è¡Œå†…å­˜çš„è‡ªæˆ‘ç®¡ç†ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™é»˜è®¤å€¼æ˜¯-1ï¼Œä»£è¡¨å‚è€ƒå‚æ•°taskmanager.memory.fractionã€‚è®¾ç½®äº†è‡ªæˆ‘å†…å­˜ç®¡ç†ï¼ŒFlinkåœ¨æ‰¹å¤„ç†ä¸­å°±å¯ä»¥åœ¨å †å†…æˆ–å †å¤–è¿›è¡Œæ’åºã€hashã€cacheç­‰æ“ä½œã€‚taskmanager.memory.fraction:# å½“taskmanager.memory.sizeæ²¡æœ‰è®¾ç½®æ—¶ï¼ˆæˆ–-1ï¼‰ï¼Œæ­¤å‚æ•°æ‰ç”Ÿæ•ˆã€‚æ„æ€æ˜¯ä½¿ç”¨taskmanager.heap.mbçš„ç™¾åˆ†æ¯”ç”¨äºè‡ªæˆ‘å†…å­˜ç®¡ç†ã€‚é»˜è®¤å€¼æ˜¯0.7ï¼Œä»£è¡¨ä½¿ç”¨70%çš„taskmanagerçš„å†…å­˜ã€‚å‰©ä½™çš„30%ç”¨äºUDFçš„å †ä»¥åŠç”¨äºtaskmanageré—´é€šä¿¡æ•°æ®çš„å†…å­˜ã€‚taskmanager.memory.off-heap:# é»˜è®¤æ˜¯falseã€‚å¦‚æœè®¾ç½®ä¸ºtrueï¼Œåˆ™taskmanageråœ¨JVMå †å¤–åˆ†é…å†…å­˜ã€‚è¿™å¯¹äºå¤§æ®µå†…å­˜çš„ä½¿ç”¨å¾ˆæœ‰æ•ˆã€‚taskmanager.memory.segment-size:# å†…å­˜æ®µçš„å¤§å°ï¼Œé»˜è®¤å•ä½æ˜¯32KBã€‚taskmanager.memory.preallocate:# é»˜è®¤æ˜¯falseã€‚æŒ‡å®šFlinkå½“å¯åŠ¨æ—¶ï¼Œæ˜¯å¦ä¸€æ¬¡æ€§åˆ†é…æ‰€æœ‰ç®¡ç†çš„å†…å­˜ã€‚å¦‚æœtaskmanager.memory.off-heapè®¾ç½®trueï¼Œåˆ™å»ºè®®æ­¤å€¼ä¹Ÿè®¾ç½®ä¸ºtrueã€‚ â€” Kerberosï¼ˆFlinkå®‰å…¨é…ç½®ï¼‰&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Flinkæ”¯æŒHadoopç”Ÿæ€çš„kerberosè®¤è¯æœåŠ¡ï¼Œä¾‹å¦‚HDFSï¼ŒYarnï¼Œæˆ–è€…æ˜¯HBaseï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒFlinkä»…æ”¯æŒHadoop2.6.1åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œå…¶ä»–çš„ç‰ˆæœ¬å¯èƒ½åœ¨Flinkä½œä¸šä¸­å¤±è´¥ã€‚ 12345678# æŒ‡ç¤ºæ˜¯å¦ä» Kerberos ticket ç¼“å­˜ä¸­è¯»å–security.kerberos.login.use-ticket-cache: true# åŒ…å«ç”¨æˆ·å‡­æ®çš„ Kerberos å¯†é’¥è¡¨æ–‡ä»¶çš„ç»å¯¹è·¯å¾„security.kerberos.login.keytab: /path/to/kerberos/keytab# ä¸ keytab å…³è”çš„ Kerberos ä¸»ä½“åç§°security.kerberos.login.principal: flink-user# ä»¥é€—å·åˆ†éš”çš„ç™»å½•ä¸Šä¸‹æ–‡åˆ—è¡¨ï¼Œç”¨äºæä¾› Kerberos å‡­æ®ï¼ˆä¾‹å¦‚ï¼Œ`Clientï¼ŒKafkaClient`ä½¿ç”¨å‡­è¯è¿›è¡Œ ZooKeeper èº«ä»½éªŒè¯å’Œ Kafka èº«ä»½éªŒè¯ï¼‰security.kerberos.login.contexts: Client,KafkaClient â€”Zookeeperå®‰å…¨é…ç½® 1234# è¦†ç›–ä»¥ä¸‹é…ç½®ä»¥æä¾›è‡ªå®šä¹‰ ZK æœåŠ¡åç§°zookeeper.sasl.service-name: zookeeper# è¯¥é…ç½®å¿…é¡»åŒ¹é… "security.kerberos.login.contexts" ä¸­çš„åˆ—è¡¨ï¼ˆå«æœ‰ä¸€ä¸ªï¼‰zookeeper.sasl.login-context-name: Client â€”HistoryServer 12345678910111213# ä½ å¯ä»¥é€šè¿‡ bin/historyserver.sh (start|stop) å‘½ä»¤å¯åŠ¨å’Œå…³é—­ HistoryServer# å°†å·²å®Œæˆçš„ä½œä¸šä¸Šä¼ åˆ°çš„ç›®å½•jobmanager.archive.fs.dir: hdfs:///completed-jobs/# åŸºäº Web çš„ HistoryServer çš„åœ°å€historyserver.web.address: 0.0.0.0# åŸºäº Web çš„ HistoryServer çš„ç«¯å£å·historyserver.web.port: 8082# ä»¥é€—å·åˆ†éš”çš„ç›®å½•åˆ—è¡¨ï¼Œç”¨äºç›‘è§†å·²å®Œæˆçš„ä½œä¸šhistoryserver.archive.fs.dir: hdfs:///completed-jobs/# åˆ·æ–°å—ç›‘æ§ç›®å½•çš„æ—¶é—´é—´éš”ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰historyserver.archive.fs.refresh-interval: 10000 â€”å…¶ä»– 1234567891011121314151617181920212223242526272829303132333435363738394041424344askmanager.tmp.dirs: # taskmanagerçš„ä¸´æ—¶ç›®å½•ï¼Œé»˜è®¤æ˜¯ç³»ç»Ÿçš„tmpè·¯å¾„ã€‚å¯ä»¥æŒ‡å®šå¤šä¸ªè·¯å¾„ï¼Œé€šè¿‡ï¼šéš”å¼€ï¼Œå¤šè·¯å¾„çš„è®¾ç½®å¯¼è‡´å¤šä¸ªçº¿ç¨‹å»æ‰§è¡ŒIOæ“ä½œã€‚taskmanager.log.path:# taskmanagerçš„æ—¥å¿—æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤åœ¨$FLINK_HOME/log jobmanager.web.address: # Jobmanagerçš„webæ¥å£åœ°å€ï¼Œé»˜è®¤æ˜¯anyLocalAddress()ï¼Œå³æ‰€æœ‰åœ°å€çš„è¯·æ±‚éƒ½ä¼šè¢«å¤„ç†ï¼ŒæŒ‡å‘jobmanagerçš„IPåœ°å€jobmanager.web.port: # Jobmanagerçš„webæ¥å£ï¼Œé»˜è®¤æ˜¯8081jobmanager.web.tmpdir: # å­˜æ”¾webæ¥å£é™æ€æ–‡ä»¶çš„è·¯å¾„ï¼Œä¸Šä¼ çš„jaræ–‡ä»¶ä¹Ÿä¼šå­˜å‚¨åœ¨æ­¤è·¯å¾„ï¼ˆè¿™é‡ŒæŒ‡é€šè¿‡webUIå¯åŠ¨jobæ—¶ä¸Šä¼ çš„jaræ–‡ä»¶ï¼‰ã€‚é»˜è®¤æ˜¯ç³»ç»Ÿtmpè·¯å¾„ã€‚jobmanager.web.upload.dir: # é€šè¿‡web UIä¸Šä¼ çš„jaræ–‡ä»¶çš„è·¯å¾„ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™æŒ‡å‘jobmanager.web.tmpdirçš„è·¯å¾„ã€‚fs.overwrite-files: # å½“è¾“å‡ºæ–‡ä»¶åˆ°æ–‡ä»¶ç³»ç»Ÿæ—¶ï¼Œæ˜¯å¦è¦†ç›–å·²ç»å­˜åœ¨çš„æ–‡ä»¶ã€‚é»˜è®¤æ˜¯falsefs.output.always-create-directory: # æ–‡ä»¶è¾“å‡ºæ—¶æ˜¯å¦å•ç‹¬åˆ›å»ºä¸€ä¸ªå­ç›®å½•ã€‚é»˜è®¤æ˜¯falseï¼Œå³ç›´æ¥å°†æ–‡ä»¶è¾“å‡ºåˆ°æŒ‡å‘çš„ç›®å½•ä¸‹taskmanager.network.numberOfBuffers: # taskmanageræ•°æ®åœ¨ç½‘ç»œä¼ è¾“çš„å¤§å°ï¼Œé»˜è®¤æ˜¯2048ä¸ªå—ï¼Œæ¯ä¸ªå—å¤§å°æ˜¯32KBã€‚è¿™ä¸ªå€¼å®˜æ–¹å»ºè®®çš„å€¼ä¸ºï¼š#slots-per-TM^2 * #TMs * 4ã€‚æˆ‘ä¹‹å‰æŒ‰ç…§è¿™ä¸ªå»ºè®®é…ç½®æ—¶ï¼Œç³»ç»Ÿå‡ºé”™è¯´è¿™ä¸ªå€¼å¤ªå°ã€‚ä¸ªäººå»ºè®®è¿™ä¸ªå€¼å¯ä»¥ç¨å¾®è®¾ç½®å¤§äº›ã€‚state.backend: # å½“æ£€æŸ¥ç‚¹è¢«æ¿€æ´»æ—¶ï¼Œä¿å­˜çš„æœ‰çŠ¶æ€çš„æ£€æŸ¥ç‚¹çš„ç›®å½•ã€‚é»˜è®¤æ˜¯å­˜åœ¨jobmanagerçš„å†…å­˜ä¸­ã€‚ä¹Ÿæ”¯æŒä¿å­˜åˆ°hdfsæˆ–è€…rocksdbä¸­ã€‚é»˜è®¤æ˜¯jobmanagerï¼Œå¦‚æœæ˜¯hdfsï¼Œåˆ™åˆ¶å®šfilesystemã€‚ä¾‹å¦‚hdfs://namenode-host:port/flink-checkpointsï¼›å¦‚æœæ˜¯RocksDBï¼Œåˆ™åˆ¶å®šRocksDBçš„è·¯å¾„ã€‚state.backend.fs.checkpointdir: # å­˜å‚¨æ£€æŸ¥ç‚¹çš„å…·ä½“è·¯å¾„ï¼Œå¿…é¡»æ˜¯Flinkå¯è®¿é—®çš„è·¯å¾„ã€‚ä¾‹å¦‚ï¼šhdfs://namenode-host:port/flink-checkpointsã€‚state.backend.rocksdb.checkpointdir: # å­˜å‚¨RocksDBçš„æ£€æŸ¥ç‚¹è·¯å¾„ï¼Œé»˜è®¤æ˜¯taskmanager.tmp.dirsstate.checkpoints.dir: # checkpointæ•°æ®çš„ç›®å½•ã€‚recovery.zookeeper.storageDir: # å®šä¹‰Jobmanagerçš„çš„å…ƒæ•°æ®ä¿¡æ¯ï¼Œzookeeperåªæ˜¯ä¿å­˜ä¸€ä¸ªæŒ‡å‘æ­¤ç›®å½•çš„æŒ‡é’ˆï¼Œåœ¨HAç¯å¢ƒä¸‹ç”¨äºJobmanagerçš„æ¢å¤ã€‚ä¾‹å¦‚è®¾ç½®ä¸º: hdfs:///flink/recoveryã€‚blob.storage.directory: # æŒ‡å®štaskmanagerä¸­Blobæ–‡ä»¶ï¼ˆjarï¼‰çš„è·¯å¾„ã€‚blob.server.port: # taskmanagerä¸­blobæœåŠ¡å™¨çš„ç«¯å£å·ï¼Œé»˜è®¤æ˜¯0ï¼Œå³æ“ä½œç³»ç»Ÿé€‰å®šä¸€ä¸ªå¯ç”¨çš„ç«¯å£ã€‚å¯ä»¥æŒ‡å®šä¸€ä¸ªèŒƒå›´ (â€œ50100-50200â€)ï¼Œé¿å…ç›¸åŒæœºå™¨ä¸­è¿è¡Œå¤šä¸ªJobmanagerçš„æƒ…å†µæ—¶ä½¿ç”¨ã€‚restart-strategy: # é»˜è®¤æ˜¯"none"ï¼Œå³ä¸è®¾ç½®ä»»ä½•é‡å¯ç­–ç•¥ã€‚å¦‚æœè®¾ç½®ä¸º"fixed-delay"ï¼Œåˆ™ä»£è¡¨å›ºå®šå»¶è¿Ÿç­–ç•¥ï¼›å¦‚æœæŒ‡å®š"failure-rate"ï¼Œåˆ™ä»£è¡¨å¤±è´¥çš„æ—¶é—´æ¯”ä¾‹ã€‚restart-strategy.fixed-delay.attempts: # fixed-delayæ¨¡å¼ä¸‹çš„æ¢å¤å°è¯•æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯1æ¬¡ã€‚restart-strategy.fixed-delay.delay: # fixed-delayæ¨¡å¼ä¸‹ï¼Œä¸¤æ¬¡é‡å¯å°è¯•ä¹‹é—´çš„å»¶è¿Ÿæ—¶é—´ã€‚é»˜è®¤ä¸ºakka.ask.timeout.restart-strategy.failure-rate.max-failures-per-interval: # failure-rateæ¨¡å¼ä¸‹ï¼Œå¤±è´¥é‡å¯çš„æœ€å¤§æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯1æ¬¡ã€‚restart-strategy.failure-rate.failure-rate-interval: # failure-rateä¸‹ï¼Œå¤±è´¥æ—¶é—´é—´éš”çš„åº¦é‡ã€‚restart-strategy.failure-rate.delay: # failure-rateæ¨¡å¼ä¸‹ï¼Œä¸¤æ¬¡é‡å¯ä¹‹é—´çš„å»¶è¿Ÿæ—¶é—´ï¼Œé»˜è®¤æ˜¯akka.ask.timeout. 0x3 slaves/master1234567# master host:portÎ» deletee [1.6.0/libexec/conf] cat masterslocalhost:8081#slave hostÎ» deletee [1.6.0/libexec/conf] cat slaves localhost 0x4 zoo.cfg123456789101112131415161718# æ¯ä¸ª tick çš„æ¯«ç§’æ•°tickTime=2000# åˆå§‹åŒæ­¥é˜¶æ®µå¯ä»¥é‡‡ç”¨çš„ tick æ•°initLimit=10# åœ¨å‘é€è¯·æ±‚å’Œè·å–ç¡®è®¤ä¹‹é—´å¯ä»¥ä¼ é€’çš„ tick æ•°syncLimit=5# å­˜å‚¨å¿«ç…§çš„ç›®å½•# dataDir=/tmp/zookeeper# å®¢æˆ·ç«¯å°†è¿æ¥çš„ç«¯å£clientPort=2181# ZooKeeper quorum peersserver.1=localhost:2888:3888# server.2=host:peer-port:leader-port 0x5 æ—¥å¿—é…ç½®&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flinkåœ¨ä¸åŒå¹³å°è¿è¡Œçš„æ—¥å¿—æ–‡ä»¶ 1234567log4j-cli.propertieslog4j-console.propertieslog4j-yarn-session.propertieslog4j.propertieslogback-console.xmllogback-yarn.xmllogback.xml 0x6 sql-client-defaults.yaml12345678910111213141516171819202122232425execution: # 'batch' or 'streaming' execution type: streaming # allow 'event-time' or only 'processing-time' in sources time-characteristic: event-time # interval in ms for emitting periodic watermarks periodic-watermarks-interval: 200 # 'changelog' or 'table' presentation of results result-mode: changelog # parallelism of the program parallelism: 1 # maximum parallelism max-parallelism: 128 # minimum idle state retention in ms min-idle-state-retention: 0 # maximum idle state retention in ms max-idle-state-retention: 0 deployment: # general cluster communication timeout in ms response-timeout: 5000 # (optional) address from cluster to gateway gateway-address: "" # (optional) port from cluster to gateway gateway-port: 0 Flink Sql Client å¯ä»¥äº†è§£æ›´å¤šå…³äº Flink sqlçš„é…ç½®åŠä½¿ç”¨]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x2 æŠ€æœ¯å¹³å°</category>
        <category>1x23 Flink</category>
      </categories>
      <tags>
        <tag>flink</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Flinkå­¦ä¹ ç¬”è®°01->Macä¸‹éƒ¨ç½²flinkå¹¶æ„å»ºç®€å•ç¨‹åº]]></title>
    <url>%2F2019%2F08%2F11%2Fflink-learning-notes-01%2F</url>
    <content type="text"><![CDATA[è¯´åœ¨å‰é¢çš„è¯&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;éšç€Flinkå¤§æ•°æ®å¹³å°å¿«é€Ÿå‘å±•åŠæ—¥ç›Šæˆç†Ÿï¼Œå…¬å¸ä¹Ÿé€æ­¥åˆ©ç”¨Flinkæ¥è§£å†³ä¸šåŠ¡é—®é¢˜ï¼Œä¹‹å‰ä¹Ÿå­¦è¿‡Scalaï¼ŒSparkï¼Œç”±äºæœ¬äººåœ¨å®é™…å·¥ä½œä¸­åº”ç”¨åœºæ™¯è¾ƒå°‘ï¼ŒåŸºæœ¬ä¸Šåˆå¿˜äº†ã€‚æœ¬æ¬¡åˆ©ç”¨ä¸€ä¸ªæœˆçš„æ—¶é—´ï¼Œæ¯å¤©æ›´æ–°ä¸€ç¯‡è‡ªå­¦ç¬”è®°ç”¨ä»¥è®°å½•åŠçŸ¥è¯†åˆ†äº«ã€‚ å‡†å¤‡å·¥ä½œ12jdk-1.8flink-1.6.0 Mac ä¸‹å®‰è£… flink1brew install apache-flink è‹¥æ˜¯ç½‘ç»œä¸å¥½çš„è¯ï¼Œå¯èƒ½ä¼šä¸‹è½½éå¸¸æ…¢ï¼ˆbrewä¸‹è½½æœªå®Œæˆçš„æ–‡ä»¶åç¼€ä¸º.incompleteï¼‰æˆ–æ˜¯å¤±è´¥ï¼Œå¯ä»¥æŠŠbrewå¾…ä¸‹è½½çš„åŒ…é€šè¿‡å…¶ä»–æ¸ é“å…ˆä¸‹è½½åˆ°cacheè·¯å¾„ä¸‹12deletee [~] â†’ brew --cache/Users/deletee/Library/Caches/Homebrew å…·ä½“æ“ä½œæ€è·¯ï¼š ç‚¹å‡»ä¸‹è½½ flinkå®‰è£…åŒ… 123456789101112131ï¼š # brew install apache-flinkä»¥ä¸Šå‘½ä»¤ä¼šæç¤ºå¼€å§‹ä¸‹è½½ä¸€ä¸ªæ–‡ä»¶ï¼Œä½†è¿›åº¦å¾ˆæ…¢ã€‚åŠä¸ªå°æ—¶è¿‡å»äº†ï¼Œæ‰åˆ°30%ã€‚å¤åˆ¶ä¸Šé¢çš„ä¸‹è½½é“¾æ¥ï¼Œä½¿ç”¨å…¶å®ƒä¸‹è½½å·¥å…·ä¸‹è½½ã€‚ä¾‹å¦‚ä½¿ç”¨è¿…é›·ï¼Œå¯ä»¥åœ¨5åˆ†é’Ÿå·¦å³ä¸‹è½½å®Œæˆï¼Œä¹Ÿå¯ä»¥å°è¯•é…åˆvpnä¸‹è½½ã€‚åŠ é€Ÿä¸‹è½½çš„åŠæ³•å¤§å®¶éƒ½æ˜¯å„æœ‰ç»æ‹›ï¼Œæ ¹æ®è‡ªå·±çš„ç¯å¢ƒé€‰æ‹©æœ€å¿«çš„ä¸€ç§ä¸‹è½½æ–¹å¼å³å¯ã€‚2ï¼šæ‰¾åˆ°brewä¸‹è½½æ–‡ä»¶çš„ç›®å½•ï¼Œå°†åˆšæ‰ä¸‹è½½çš„æ–‡ä»¶ç§»åŠ¨åˆ°ç›®å½• # cd `brew --cache` //è¿›å…¥brewçš„ä¸‹è½½ç›®å½• # rm apache-flink-1.6.0.tar.gz.incomplete //åˆ é™¤åˆšæ‰ä¸‹è½½ä¸€åŠçš„æ–‡ä»¶ # mv apache-flink-1.6.0.tar.gz ./ //å°†ä¸‹è½½å¥½çš„å‹ç¼©åŒ…æ”¾åˆ°brewä¸‹è½½ç›®å½•3ï¼šç»§ç»­æ‰§è¡Œï¼šbrw install apache-flink å®‰è£…ä¹‹åï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤è¿›è¡ŒéªŒè¯12deletee [~] â†’ flink -vVersion: 1.6.0, Commit ID: ff472b4 é‚£ä¹ˆå®‰è£…å¥½çš„flinkåœ¨ä»€ä¹ˆä½ç½®å‘¢ï¼Ÿ/usr/local/Cellar/apache-flink/1.6.0/æˆ‘ä»¬é…ç½®ä¸‹FLINK_HOME, vim ~/.bashrc 1export FLINK_HOME=/usr/local/Cellar/apache-flink/1.6.0/ å¯åŠ¨Flinkä¸€é”®å¯åŠ¨ 12345â†’ cd $FLINK_HOME/libexec [ac229f9]deletee [apache-flink/1.6.0/libexec]$: bin/start-cluster.sh [ac229f9]Starting cluster.Starting standalonesession daemon on host localhost.Starting taskexecutor daemon on host localhost. æ˜¯çš„ï¼Œå¯ä»¥é€šè¿‡$FLINK_HOME/libexec è·¯å¾„ä¸‹ binç›®å½•ä¸‹ å¯åŠ¨è„šæœ¬æ¥å¯åŠ¨ flink æ­¤æ—¶å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®: http://localhost:8081 è®¿é—®flink webç•Œé¢ æ„å»ºFlink Maven å·¥ç¨‹ (flink-java)ç®€è¦è¯´æ˜ â€‹ Demoæ˜¯æ¥æ”¶å¥—æ¥å­—è¾“å…¥æµè¿›è¡Œåˆ†è¯è®¡æ•°ã€‚ å·¥ç¨‹ä¿¡æ¯ 123&lt;groupId&gt;org.hz.deletee&lt;/groupId&gt;&lt;artifactId&gt;flink-learning&lt;/artifactId&gt;&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; pom.xml 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://maven.apache.org/POM/4.0.0" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;org.hz.deletee&lt;/groupId&gt; &lt;artifactId&gt;flink-learning&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;flink.version&gt;1.6.0&lt;/flink.version&gt; &lt;scala.binary.version&gt;2.11&lt;/scala.binary.version&gt; &lt;scala.version&gt;2.11.12&lt;/scala.version&gt; &lt;maven.build.timestamp.format&gt;yyyyMMddHHmmss&lt;/maven.build.timestamp.format&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.flink&lt;/groupId&gt; &lt;artifactId&gt;flink-java&lt;/artifactId&gt; &lt;version&gt;$&#123;flink.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.flink&lt;/groupId&gt; &lt;artifactId&gt;flink-streaming-java_2.11&lt;/artifactId&gt; &lt;version&gt;$&#123;flink.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.flink&lt;/groupId&gt; &lt;artifactId&gt;flink-clients_2.11&lt;/artifactId&gt; &lt;version&gt;$&#123;flink.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Add connector dependencies here. They must be in the default scope (compile). --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.flink&lt;/groupId&gt; &lt;artifactId&gt;flink-connector-kafka-0.11_2.11&lt;/artifactId&gt; &lt;version&gt;$&#123;flink.version&#125;&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;*&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;exclusion&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;!-- Add logging framework, to produce console output when running in the IDE. --&gt; &lt;!-- These dependencies are excluded from the application JAR by default. --&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;version&gt;1.7.7&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;1.2.17&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647package org.hz.detelee.x01;import org.apache.flink.api.common.functions.FlatMapFunction;import org.apache.flink.api.java.tuple.Tuple2;import org.apache.flink.streaming.api.datastream.DataStreamSource;import org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;import org.apache.flink.util.Collector;public class SocketTextStreamWordCount &#123; public static void main(String[] args) throws Exception &#123; //å‚æ•°æ£€æŸ¥ if (args.length != 2) &#123; System.err.println("USAGE:\nSocketTextStreamWordCount &lt;hostname&gt; &lt;port&gt;"); return; &#125; String hostname = args[0]; Integer port = Integer.parseInt(args[1]); // set up the streaming execution environment final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment(); //è·å–æ•°æ® DataStreamSource&lt;String&gt; stream = env.socketTextStream(hostname, port); //è®¡æ•° SingleOutputStreamOperator&lt;Tuple2&lt;String, Integer&gt;&gt; sum = stream.flatMap(new LineSplitter()) .keyBy(0) .sum(1); sum.print(); env.execute("Java WordCount from SocketTextStream Example"); &#125; public static final class LineSplitter implements FlatMapFunction&lt;String, Tuple2&lt;String, Integer&gt;&gt; &#123; @Override public void flatMap(String s, Collector&lt;Tuple2&lt;String, Integer&gt;&gt; collector) &#123; String[] tokens = s.toLowerCase().split("\\W+"); for (String token: tokens) &#123; if (token.length() &gt; 0) &#123; collector.collect(new Tuple2&lt;String, Integer&gt;(token, 1)); &#125; &#125; &#125; &#125;&#125; ç¼–è¯‘ 1mvn clean package -Dmaven.skpi.test=true æ‰§è¡Œå¼€å¯æ•°æ®å…¥ç›‘å¬ 12# å¼€å¯è¾“å…¥æµ ç«¯å£ç›‘å¬nc -kl 9000 è¿è¡Œç¨‹åº1flink run -c org.hz.detelee.x01.SocketTextStreamWordCount flink-learning-1.0-SNAPSHOT.jar 127.0.0.1 9000 æŸ¥çœ‹ç»“æœæ—¥å¿—12cd $FLINK_HOME/libexec/log/tail -f flink-deletee-taskexecutor-0-localhost.out]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x2 æŠ€æœ¯å¹³å°</category>
        <category>1x23 Flink</category>
      </categories>
      <tags>
        <tag>flink</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gitåˆ›å»ºä¸åˆå¹¶åˆ†æ”¯]]></title>
    <url>%2F2019%2F04%2F11%2Fgit-repository%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯ç‰ˆæœ¬åº“å‘¢ï¼Ÿç‰ˆæœ¬åº“åˆåä»“åº“ï¼Œè‹±æ–‡årepositoryï¼Œä½ å¯ä»¥ç®€å•ç†è§£æˆä¸€ä¸ªç›®å½•ï¼Œè¿™ä¸ªç›®å½•é‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶éƒ½å¯ä»¥è¢«Gitç®¡ç†èµ·æ¥ï¼Œæ¯ä¸ªæ–‡ä»¶çš„ä¿®æ”¹ã€åˆ é™¤ï¼ŒGitéƒ½èƒ½è·Ÿè¸ªï¼Œä»¥ä¾¿ä»»ä½•æ—¶åˆ»éƒ½å¯ä»¥è¿½è¸ªå†å²ï¼Œæˆ–è€…åœ¨å°†æ¥æŸä¸ªæ—¶åˆ»å¯ä»¥â€œè¿˜åŸâ€ã€‚ æ‰€ä»¥ï¼Œåˆ›å»ºä¸€ä¸ªç‰ˆæœ¬åº“éå¸¸ç®€å•ï¼Œé¦–å…ˆï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„åœ°æ–¹ï¼Œåˆ›å»ºä¸€ä¸ªç©ºç›®å½•ï¼š 1234$ mkdir learngit$ cd learngit$ pwd/Users/michael/learngit pwdå‘½ä»¤ç”¨äºæ˜¾ç¤ºå½“å‰ç›®å½•ã€‚åœ¨æˆ‘çš„Macä¸Šï¼Œè¿™ä¸ªä»“åº“ä½äº/Users/michael/learngitã€‚ å¦‚æœä½ ä½¿ç”¨Windowsç³»ç»Ÿï¼Œä¸ºäº†é¿å…é‡åˆ°å„ç§è«åå…¶å¦™çš„é—®é¢˜ï¼Œè¯·ç¡®ä¿ç›®å½•åï¼ˆåŒ…æ‹¬çˆ¶ç›®å½•ï¼‰ä¸åŒ…å«ä¸­æ–‡ã€‚ ç¬¬äºŒæ­¥ï¼Œé€šè¿‡git initå‘½ä»¤æŠŠè¿™ä¸ªç›®å½•å˜æˆGitå¯ä»¥ç®¡ç†çš„ä»“åº“ï¼š 12$ git initInitialized empty Git repository in /Users/michael/learngit/.git/ ç¬é—´Gitå°±æŠŠä»“åº“å»ºå¥½äº†ï¼Œè€Œä¸”å‘Šè¯‰ä½ æ˜¯ä¸€ä¸ªç©ºçš„ä»“åº“ï¼ˆempty Git repositoryï¼‰ï¼Œç»†å¿ƒçš„è¯»è€…å¯ä»¥å‘ç°å½“å‰ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ª.gitçš„ç›®å½•ï¼Œè¿™ä¸ªç›®å½•æ˜¯Gitæ¥è·Ÿè¸ªç®¡ç†ç‰ˆæœ¬åº“çš„ï¼Œæ²¡äº‹åƒä¸‡ä¸è¦æ‰‹åŠ¨ä¿®æ”¹è¿™ä¸ªç›®å½•é‡Œé¢çš„æ–‡ä»¶ï¼Œä¸ç„¶æ”¹ä¹±äº†ï¼Œå°±æŠŠGitä»“åº“ç»™ç ´åäº†ã€‚ å¦‚æœä½ æ²¡æœ‰çœ‹åˆ°.gitç›®å½•ï¼Œé‚£æ˜¯å› ä¸ºè¿™ä¸ªç›®å½•é»˜è®¤æ˜¯éšè—çš„ï¼Œç”¨ls -ahå‘½ä»¤å°±å¯ä»¥çœ‹è§ã€‚ ä¹Ÿä¸ä¸€å®šå¿…é¡»åœ¨ç©ºç›®å½•ä¸‹åˆ›å»ºGitä»“åº“ï¼Œé€‰æ‹©ä¸€ä¸ªå·²ç»æœ‰ä¸œè¥¿çš„ç›®å½•ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ä¸è¿‡ï¼Œä¸å»ºè®®ä½ ä½¿ç”¨è‡ªå·±æ­£åœ¨å¼€å‘çš„å…¬å¸é¡¹ç›®æ¥å­¦ä¹ Gitï¼Œå¦åˆ™é€ æˆçš„ä¸€åˆ‡åæœæ¦‚ä¸è´Ÿè´£ã€‚ æŠŠæ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“é¦–å…ˆè¿™é‡Œå†æ˜ç¡®ä¸€ä¸‹ï¼Œæ‰€æœ‰çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå…¶å®åªèƒ½è·Ÿè¸ªæ–‡æœ¬æ–‡ä»¶çš„æ”¹åŠ¨ï¼Œæ¯”å¦‚TXTæ–‡ä»¶ï¼Œç½‘é¡µï¼Œæ‰€æœ‰çš„ç¨‹åºä»£ç ç­‰ç­‰ï¼ŒGitä¹Ÿä¸ä¾‹å¤–ã€‚ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¯ä»¥å‘Šè¯‰ä½ æ¯æ¬¡çš„æ”¹åŠ¨ï¼Œæ¯”å¦‚åœ¨ç¬¬5è¡ŒåŠ äº†ä¸€ä¸ªå•è¯â€œLinuxâ€ï¼Œåœ¨ç¬¬8è¡Œåˆ äº†ä¸€ä¸ªå•è¯â€œWindowsâ€ã€‚è€Œå›¾ç‰‡ã€è§†é¢‘è¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè™½ç„¶ä¹Ÿèƒ½ç”±ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿç®¡ç†ï¼Œä½†æ²¡æ³•è·Ÿè¸ªæ–‡ä»¶çš„å˜åŒ–ï¼Œåªèƒ½æŠŠäºŒè¿›åˆ¶æ–‡ä»¶æ¯æ¬¡æ”¹åŠ¨ä¸²èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯åªçŸ¥é“å›¾ç‰‡ä»100KBæ”¹æˆäº†120KBï¼Œä½†åˆ°åº•æ”¹äº†å•¥ï¼Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸çŸ¥é“ï¼Œä¹Ÿæ²¡æ³•çŸ¥é“ã€‚ ä¸å¹¸çš„æ˜¯ï¼ŒMicrosoftçš„Wordæ ¼å¼æ˜¯äºŒè¿›åˆ¶æ ¼å¼ï¼Œå› æ­¤ï¼Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ˜¯æ²¡æ³•è·Ÿè¸ªWordæ–‡ä»¶çš„æ”¹åŠ¨çš„ï¼Œå‰é¢æˆ‘ä»¬ä¸¾çš„ä¾‹å­åªæ˜¯ä¸ºäº†æ¼”ç¤ºï¼Œå¦‚æœè¦çœŸæ­£ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå°±è¦ä»¥çº¯æ–‡æœ¬æ–¹å¼ç¼–å†™æ–‡ä»¶ã€‚ å› ä¸ºæ–‡æœ¬æ˜¯æœ‰ç¼–ç çš„ï¼Œæ¯”å¦‚ä¸­æ–‡æœ‰å¸¸ç”¨çš„GBKç¼–ç ï¼Œæ—¥æ–‡æœ‰Shift_JISç¼–ç ï¼Œå¦‚æœæ²¡æœ‰å†å²é—ç•™é—®é¢˜ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨æ ‡å‡†çš„UTF-8ç¼–ç ï¼Œæ‰€æœ‰è¯­è¨€ä½¿ç”¨åŒä¸€ç§ç¼–ç ï¼Œæ—¢æ²¡æœ‰å†²çªï¼Œåˆè¢«æ‰€æœ‰å¹³å°æ‰€æ”¯æŒã€‚ ä½¿ç”¨Windowsçš„ç«¥é‹è¦ç‰¹åˆ«æ³¨æ„ï¼š åƒä¸‡ä¸è¦ä½¿ç”¨Windowsè‡ªå¸¦çš„è®°äº‹æœ¬ç¼–è¾‘ä»»ä½•æ–‡æœ¬æ–‡ä»¶ã€‚åŸå› æ˜¯Microsoftå¼€å‘è®°äº‹æœ¬çš„å›¢é˜Ÿä½¿ç”¨äº†ä¸€ä¸ªéå¸¸å¼±æ™ºçš„è¡Œä¸ºæ¥ä¿å­˜UTF-8ç¼–ç çš„æ–‡ä»¶ï¼Œä»–ä»¬è‡ªä½œèªæ˜åœ°åœ¨æ¯ä¸ªæ–‡ä»¶å¼€å¤´æ·»åŠ äº†0xefbbbfï¼ˆåå…­è¿›åˆ¶ï¼‰çš„å­—ç¬¦ï¼Œä½ ä¼šé‡åˆ°å¾ˆå¤šä¸å¯æ€è®®çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼Œç½‘é¡µç¬¬ä¸€è¡Œå¯èƒ½ä¼šæ˜¾ç¤ºä¸€ä¸ªâ€œ?â€ï¼Œæ˜æ˜æ­£ç¡®çš„ç¨‹åºä¸€ç¼–è¯‘å°±æŠ¥è¯­æ³•é”™è¯¯ï¼Œç­‰ç­‰ï¼Œéƒ½æ˜¯ç”±è®°äº‹æœ¬çš„å¼±æ™ºè¡Œä¸ºå¸¦æ¥çš„ã€‚å»ºè®®ä½ ä¸‹è½½Notepad++ä»£æ›¿è®°äº‹æœ¬ï¼Œä¸ä½†åŠŸèƒ½å¼ºå¤§ï¼Œè€Œä¸”å…è´¹ï¼è®°å¾—æŠŠNotepad++çš„é»˜è®¤ç¼–ç è®¾ç½®ä¸ºUTF-8 without BOMå³å¯ï¼š è¨€å½’æ­£ä¼ ï¼Œç°åœ¨æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªreadme.txtæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 12Git is a version control system.Git is free software. ä¸€å®šè¦æ”¾åˆ°learngitç›®å½•ä¸‹ï¼ˆå­ç›®å½•ä¹Ÿè¡Œï¼‰ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªGitä»“åº“ï¼Œæ”¾åˆ°å…¶ä»–åœ°æ–¹Gitå†å‰å®³ä¹Ÿæ‰¾ä¸åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚ å’ŒæŠŠå¤§è±¡æ”¾åˆ°å†°ç®±éœ€è¦3æ­¥ç›¸æ¯”ï¼ŒæŠŠä¸€ä¸ªæ–‡ä»¶æ”¾åˆ°Gitä»“åº“åªéœ€è¦ä¸¤æ­¥ã€‚ ç¬¬ä¸€æ­¥ï¼Œç”¨å‘½ä»¤git addå‘Šè¯‰Gitï¼ŒæŠŠæ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ï¼š 1$ git add readme.txt æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œæ²¡æœ‰ä»»ä½•æ˜¾ç¤ºï¼Œè¿™å°±å¯¹äº†ï¼ŒUnixçš„å“²å­¦æ˜¯â€œæ²¡æœ‰æ¶ˆæ¯å°±æ˜¯å¥½æ¶ˆæ¯â€ï¼Œè¯´æ˜æ·»åŠ æˆåŠŸã€‚ ç¬¬äºŒæ­¥ï¼Œç”¨å‘½ä»¤git commitå‘Šè¯‰Gitï¼ŒæŠŠæ–‡ä»¶æäº¤åˆ°ä»“åº“ï¼š 1234$ git commit -m &quot;wrote a readme file&quot;[master (root-commit) eaadf4e] wrote a readme file 1 file changed, 2 insertions(+) create mode 100644 readme.txt ç®€å•è§£é‡Šä¸€ä¸‹git commitå‘½ä»¤ï¼Œ-måé¢è¾“å…¥çš„æ˜¯æœ¬æ¬¡æäº¤çš„è¯´æ˜ï¼Œå¯ä»¥è¾“å…¥ä»»æ„å†…å®¹ï¼Œå½“ç„¶æœ€å¥½æ˜¯æœ‰æ„ä¹‰çš„ï¼Œè¿™æ ·ä½ å°±èƒ½ä»å†å²è®°å½•é‡Œæ–¹ä¾¿åœ°æ‰¾åˆ°æ”¹åŠ¨è®°å½•ã€‚ å«Œéº»çƒ¦ä¸æƒ³è¾“å…¥-m &quot;xxx&quot;è¡Œä¸è¡Œï¼Ÿç¡®å®æœ‰åŠæ³•å¯ä»¥è¿™ä¹ˆå¹²ï¼Œä½†æ˜¯å¼ºçƒˆä¸å»ºè®®ä½ è¿™ä¹ˆå¹²ï¼Œå› ä¸ºè¾“å…¥è¯´æ˜å¯¹è‡ªå·±å¯¹åˆ«äººé˜…è¯»éƒ½å¾ˆé‡è¦ã€‚å®åœ¨ä¸æƒ³è¾“å…¥è¯´æ˜çš„ç«¥é‹è¯·è‡ªè¡ŒGoogleï¼Œæˆ‘ä¸å‘Šè¯‰ä½ è¿™ä¸ªå‚æ•°ã€‚ git commitå‘½ä»¤æ‰§è¡ŒæˆåŠŸåä¼šå‘Šè¯‰ä½ ï¼Œ1 file changedï¼š1ä¸ªæ–‡ä»¶è¢«æ”¹åŠ¨ï¼ˆæˆ‘ä»¬æ–°æ·»åŠ çš„readme.txtæ–‡ä»¶ï¼‰ï¼›2 insertionsï¼šæ’å…¥äº†ä¸¤è¡Œå†…å®¹ï¼ˆreadme.txtæœ‰ä¸¤è¡Œå†…å®¹ï¼‰ã€‚ ä¸ºä»€ä¹ˆGitæ·»åŠ æ–‡ä»¶éœ€è¦addï¼Œcommitä¸€å…±ä¸¤æ­¥å‘¢ï¼Ÿå› ä¸ºcommitå¯ä»¥ä¸€æ¬¡æäº¤å¾ˆå¤šæ–‡ä»¶ï¼Œæ‰€ä»¥ä½ å¯ä»¥å¤šæ¬¡addä¸åŒçš„æ–‡ä»¶ï¼Œæ¯”å¦‚ï¼š 123$ git add file1.txt$ git add file2.txt file3.txt$ git commit -m &quot;add 3 files.&quot; å°ç»“ç°åœ¨æ€»ç»“ä¸€ä¸‹ä»Šå¤©å­¦çš„ä¸¤ç‚¹å†…å®¹ï¼š åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“ï¼Œä½¿ç”¨git initå‘½ä»¤ã€‚ æ·»åŠ æ–‡ä»¶åˆ°Gitä»“åº“ï¼Œåˆ†ä¸¤æ­¥ï¼š ä½¿ç”¨å‘½ä»¤git add &lt;file&gt;ï¼Œæ³¨æ„ï¼Œå¯åå¤å¤šæ¬¡ä½¿ç”¨ï¼Œæ·»åŠ å¤šä¸ªæ–‡ä»¶ï¼› ä½¿ç”¨å‘½ä»¤git commit -m &lt;message&gt;ï¼Œå®Œæˆã€‚]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x0 å¼€å‘è¯­è¨€</category>
        <category>1x02 Gitç®¡ç†</category>
      </categories>
      <tags>
        <tag>shell</tag>
        <tag>awk</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gitç®€ä»‹]]></title>
    <url>%2F2019%2F04%2F11%2Fgit-brief%2F</url>
    <content type="text"><![CDATA[Gitæ˜¯ä»€ä¹ˆï¼Ÿ Gitæ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆæ²¡æœ‰ä¹‹ä¸€ï¼‰ã€‚ Gitæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿç®€å•æ¥è¯´å°±æ˜¯ï¼šé«˜ç«¯å¤§æ°”ä¸Šæ¡£æ¬¡ï¼ é‚£ä»€ä¹ˆæ˜¯ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Ÿ å¦‚æœä½ ç”¨Microsoft Wordå†™è¿‡é•¿ç¯‡å¤§è®ºï¼Œé‚£ä½ ä¸€å®šæœ‰è¿™æ ·çš„ç»å†ï¼š æƒ³åˆ é™¤ä¸€ä¸ªæ®µè½ï¼Œåˆæ€•å°†æ¥æƒ³æ¢å¤æ‰¾ä¸å›æ¥æ€ä¹ˆåŠï¼Ÿæœ‰åŠæ³•ï¼Œå…ˆæŠŠå½“å‰æ–‡ä»¶â€œå¦å­˜ä¸ºâ€¦â€¦â€ä¸€ä¸ªæ–°çš„Wordæ–‡ä»¶ï¼Œå†æ¥ç€æ”¹ï¼Œæ”¹åˆ°ä¸€å®šç¨‹åº¦ï¼Œå†â€œå¦å­˜ä¸ºâ€¦â€¦â€ä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œè¿™æ ·ä¸€ç›´æ”¹ä¸‹å»ï¼Œæœ€åä½ çš„Wordæ–‡æ¡£å˜æˆäº†è¿™æ ·ï¼š è¿‡äº†ä¸€å‘¨ï¼Œä½ æƒ³æ‰¾å›è¢«åˆ é™¤çš„æ–‡å­—ï¼Œä½†æ˜¯å·²ç»è®°ä¸æ¸…åˆ é™¤å‰ä¿å­˜åœ¨å“ªä¸ªæ–‡ä»¶é‡Œäº†ï¼Œåªå¥½ä¸€ä¸ªä¸€ä¸ªæ–‡ä»¶å»æ‰¾ï¼ŒçœŸéº»çƒ¦ã€‚ çœ‹ç€ä¸€å †ä¹±ä¸ƒå…«ç³Ÿçš„æ–‡ä»¶ï¼Œæƒ³ä¿ç•™æœ€æ–°çš„ä¸€ä¸ªï¼Œç„¶åæŠŠå…¶ä»–çš„åˆ æ‰ï¼Œåˆæ€•å“ªå¤©ä¼šç”¨ä¸Šï¼Œè¿˜ä¸æ•¢åˆ ï¼ŒçœŸéƒé—·ã€‚ æ›´è¦å‘½çš„æ˜¯ï¼Œæœ‰äº›éƒ¨åˆ†éœ€è¦ä½ çš„è´¢åŠ¡åŒäº‹å¸®åŠ©å¡«å†™ï¼Œäºæ˜¯ä½ æŠŠæ–‡ä»¶Copyåˆ°Uç›˜é‡Œç»™å¥¹ï¼ˆä¹Ÿå¯èƒ½é€šè¿‡Emailå‘é€ä¸€ä»½ç»™å¥¹ï¼‰ï¼Œç„¶åï¼Œä½ ç»§ç»­ä¿®æ”¹Wordæ–‡ä»¶ã€‚ä¸€å¤©åï¼ŒåŒäº‹å†æŠŠWordæ–‡ä»¶ä¼ ç»™ä½ ï¼Œæ­¤æ—¶ï¼Œä½ å¿…é¡»æƒ³æƒ³ï¼Œå‘ç»™å¥¹ä¹‹ååˆ°ä½ æ”¶åˆ°å¥¹çš„æ–‡ä»¶æœŸé—´ï¼Œä½ ä½œäº†å“ªäº›æ”¹åŠ¨ï¼Œå¾—æŠŠä½ çš„æ”¹åŠ¨å’Œå¥¹çš„éƒ¨åˆ†åˆå¹¶ï¼ŒçœŸå›°éš¾ã€‚ äºæ˜¯ä½ æƒ³ï¼Œå¦‚æœæœ‰ä¸€ä¸ªè½¯ä»¶ï¼Œä¸ä½†èƒ½è‡ªåŠ¨å¸®æˆ‘è®°å½•æ¯æ¬¡æ–‡ä»¶çš„æ”¹åŠ¨ï¼Œè¿˜å¯ä»¥è®©åŒäº‹åä½œç¼–è¾‘ï¼Œè¿™æ ·å°±ä¸ç”¨è‡ªå·±ç®¡ç†ä¸€å †ç±»ä¼¼çš„æ–‡ä»¶äº†ï¼Œä¹Ÿä¸éœ€è¦æŠŠæ–‡ä»¶ä¼ æ¥ä¼ å»ã€‚å¦‚æœæƒ³æŸ¥çœ‹æŸæ¬¡æ”¹åŠ¨ï¼Œåªéœ€è¦åœ¨è½¯ä»¶é‡Œç„ä¸€çœ¼å°±å¯ä»¥ï¼Œå²‚ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Ÿ è¿™ä¸ªè½¯ä»¶ç”¨èµ·æ¥å°±åº”è¯¥åƒè¿™ä¸ªæ ·å­ï¼Œèƒ½è®°å½•æ¯æ¬¡æ–‡ä»¶çš„æ”¹åŠ¨ï¼š ç‰ˆæœ¬ æ–‡ä»¶å ç”¨æˆ· è¯´æ˜ æ—¥æœŸ 1 service.doc å¼ ä¸‰ åˆ é™¤äº†è½¯ä»¶æœåŠ¡æ¡æ¬¾5 7/12 10:38 2 service.doc å¼ ä¸‰ å¢åŠ äº†Licenseäººæ•°é™åˆ¶ 7/12 18:09 3 service.doc æå›› è´¢åŠ¡éƒ¨é—¨è°ƒæ•´äº†åˆåŒé‡‘é¢ 7/13 9:51 4 service.doc å¼ ä¸‰ å»¶é•¿äº†å…è´¹å‡çº§å‘¨æœŸ 7/14 15:17 è¿™æ ·ï¼Œä½ å°±ç»“æŸäº†æ‰‹åŠ¨ç®¡ç†å¤šä¸ªâ€œç‰ˆæœ¬â€çš„å²å‰æ—¶ä»£ï¼Œè¿›å…¥åˆ°ç‰ˆæœ¬æ§åˆ¶çš„20ä¸–çºªã€‚ Gitçš„è¯ç”Ÿ å¾ˆå¤šäººéƒ½çŸ¥é“ï¼ŒLinusåœ¨1991å¹´åˆ›å»ºäº†å¼€æºçš„Linuxï¼Œä»æ­¤ï¼ŒLinuxç³»ç»Ÿä¸æ–­å‘å±•ï¼Œå·²ç»æˆä¸ºæœ€å¤§çš„æœåŠ¡å™¨ç³»ç»Ÿè½¯ä»¶äº†ã€‚ Linusè™½ç„¶åˆ›å»ºäº†Linuxï¼Œä½†Linuxçš„å£®å¤§æ˜¯é å…¨ä¸–ç•Œçƒ­å¿ƒçš„å¿—æ„¿è€…å‚ä¸çš„ï¼Œè¿™ä¹ˆå¤šäººåœ¨ä¸–ç•Œå„åœ°ä¸ºLinuxç¼–å†™ä»£ç ï¼Œé‚£Linuxçš„ä»£ç æ˜¯å¦‚ä½•ç®¡ç†çš„å‘¢ï¼Ÿ äº‹å®æ˜¯ï¼Œåœ¨2002å¹´ä»¥å‰ï¼Œä¸–ç•Œå„åœ°çš„å¿—æ„¿è€…æŠŠæºä»£ç æ–‡ä»¶é€šè¿‡diffçš„æ–¹å¼å‘ç»™Linusï¼Œç„¶åç”±Linusæœ¬äººé€šè¿‡æ‰‹å·¥æ–¹å¼åˆå¹¶ä»£ç ï¼ ä½ ä¹Ÿè®¸ä¼šæƒ³ï¼Œä¸ºä»€ä¹ˆLinusä¸æŠŠLinuxä»£ç æ”¾åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿé‡Œå‘¢ï¼Ÿä¸æ˜¯æœ‰CVSã€SVNè¿™äº›å…è´¹çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå—ï¼Ÿå› ä¸ºLinusåšå®šåœ°åå¯¹CVSå’ŒSVNï¼Œè¿™äº›é›†ä¸­å¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸ä½†é€Ÿåº¦æ…¢ï¼Œè€Œä¸”å¿…é¡»è”ç½‘æ‰èƒ½ä½¿ç”¨ã€‚æœ‰ä¸€äº›å•†ç”¨çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œè™½ç„¶æ¯”CVSã€SVNå¥½ç”¨ï¼Œä½†é‚£æ˜¯ä»˜è´¹çš„ï¼Œå’ŒLinuxçš„å¼€æºç²¾ç¥ä¸ç¬¦ã€‚ ä¸è¿‡ï¼Œåˆ°äº†2002å¹´ï¼ŒLinuxç³»ç»Ÿå·²ç»å‘å±•äº†åå¹´äº†ï¼Œä»£ç åº“ä¹‹å¤§è®©Linuså¾ˆéš¾ç»§ç»­é€šè¿‡æ‰‹å·¥æ–¹å¼ç®¡ç†äº†ï¼Œç¤¾åŒºçš„å¼Ÿå…„ä»¬ä¹Ÿå¯¹è¿™ç§æ–¹å¼è¡¨è¾¾äº†å¼ºçƒˆä¸æ»¡ï¼Œäºæ˜¯Linusé€‰æ‹©äº†ä¸€ä¸ªå•†ä¸šçš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»ŸBitKeeperï¼ŒBitKeeperçš„ä¸œå®¶BitMoverå…¬å¸å‡ºäºäººé“ä¸»ä¹‰ç²¾ç¥ï¼ŒæˆæƒLinuxç¤¾åŒºå…è´¹ä½¿ç”¨è¿™ä¸ªç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚ å®‰å®šå›¢ç»“çš„å¤§å¥½å±€é¢åœ¨2005å¹´å°±è¢«æ‰“ç ´äº†ï¼ŒåŸå› æ˜¯Linuxç¤¾åŒºç‰›äººèšé›†ï¼Œä¸å…æ²¾æŸ“äº†ä¸€äº›æ¢å±±å¥½æ±‰çš„æ±Ÿæ¹–ä¹ æ°”ã€‚å¼€å‘Sambaçš„Andrewè¯•å›¾ç ´è§£BitKeeperçš„åè®®ï¼ˆè¿™ä¹ˆå¹²çš„å…¶å®ä¹Ÿä¸åªä»–ä¸€ä¸ªï¼‰ï¼Œè¢«BitMoverå…¬å¸å‘ç°äº†ï¼ˆç›‘æ§å·¥ä½œåšå¾—ä¸é”™ï¼ï¼‰ï¼Œäºæ˜¯BitMoverå…¬å¸æ€’äº†ï¼Œè¦æ”¶å›Linuxç¤¾åŒºçš„å…è´¹ä½¿ç”¨æƒã€‚ Linuså¯ä»¥å‘BitMoverå…¬å¸é“ä¸ªæ­‰ï¼Œä¿è¯ä»¥åä¸¥æ ¼ç®¡æ•™å¼Ÿå…„ä»¬ï¼Œå—¯ï¼Œè¿™æ˜¯ä¸å¯èƒ½çš„ã€‚å®é™…æƒ…å†µæ˜¯è¿™æ ·çš„ï¼š LinusèŠ±äº†ä¸¤å‘¨æ—¶é—´è‡ªå·±ç”¨Cå†™äº†ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œè¿™å°±æ˜¯Gitï¼ä¸€ä¸ªæœˆä¹‹å†…ï¼ŒLinuxç³»ç»Ÿçš„æºç å·²ç»ç”±Gitç®¡ç†äº†ï¼ç‰›æ˜¯æ€ä¹ˆå®šä¹‰çš„å‘¢ï¼Ÿå¤§å®¶å¯ä»¥ä½“ä¼šä¸€ä¸‹ã€‚ Gitè¿…é€Ÿæˆä¸ºæœ€æµè¡Œçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå°¤å…¶æ˜¯2008å¹´ï¼ŒGitHubç½‘ç«™ä¸Šçº¿äº†ï¼Œå®ƒä¸ºå¼€æºé¡¹ç›®å…è´¹æä¾›Gitå­˜å‚¨ï¼Œæ— æ•°å¼€æºé¡¹ç›®å¼€å§‹è¿ç§»è‡³GitHubï¼ŒåŒ…æ‹¬jQueryï¼ŒPHPï¼ŒRubyç­‰ç­‰ã€‚ å†å²å°±æ˜¯è¿™ä¹ˆå¶ç„¶ï¼Œå¦‚æœä¸æ˜¯å½“å¹´BitMoverå…¬å¸å¨èƒLinuxç¤¾åŒºï¼Œå¯èƒ½ç°åœ¨æˆ‘ä»¬å°±æ²¡æœ‰å…è´¹è€Œè¶…çº§å¥½ç”¨çš„Gitäº†ã€‚]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x0 å¼€å‘è¯­è¨€</category>
        <category>1x02 Gitç®¡ç†</category>
      </categories>
      <tags>
        <tag>shell</tag>
        <tag>awk</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[è½¬]èŒåœºæ™‹å‡è¿›é˜¶å®å…¸ï¼šéƒ½æ˜¯çŸ¥è¯†ç‚¹]]></title>
    <url>%2F2019%2F01%2F26%2Fpromotion-reply%2F</url>
    <content type="text"><![CDATA[æ—¶é—´çœ¨çœ¼åˆ°äº†5æœˆï¼Œé˜¿é‡Œäººæœ€è¿‘éƒ½åœ¨å¿™ä»€ä¹ˆå‘¢ï¼Ÿæ©™å­å»å…¬å¸å†…ç½‘çœ‹äº†çœ‹ï¼Œå‘ç°â€œæ™‹å‡â€å·²ç»æˆäº†çƒ­æœè¯ã€‚ æ™‹å‡ï¼Œå¯ä¸æ˜¯ä½ æƒ³è±¡ä¸­ç®€å•çš„å‡èŒåŠ è–ªå“¦ã€‚ å®ƒæ—¢æ˜¯è®¤å¯ï¼Œä¹Ÿæ˜¯æœŸæœ›ã€‚æ˜¯å¯¹è¿‡å»ä¸€æ®µæ—¶é—´å†…ï¼Œä¸ªäººçš„èƒ½åŠ›æˆé•¿å’Œä¸šåŠ¡äº§å‡ºçš„è®¤å¯ï¼›ä¹Ÿæ˜¯å¯¹ä»Šåçš„è´£ä»»ã€ä»˜å‡ºæå‡ºäº†æ›´é«˜çš„è¦æ±‚å’ŒæœŸæœ›ã€‚å¬è¯´é¢å¯¹å‹åŠ›ï¼Œä¸å°‘åŒå­¦è¿˜æ˜¯æŒºç´§å¼ çš„ï¼Œè¿™ç§å…³é”®æ—¶å€™ï¼Œè´´å¿ƒçš„æ©™å­è‡ªç„¶ä¼šæƒ³æ–¹è®¾æ³•åŠ©å¤§å®¶ä¸€è‡‚ä¹‹åŠ›å’¯~ä½ çœ‹ï¼Œæˆ‘åƒæ–¹ç™¾è®¡æ‰¾åˆ°äº†å‡ å¤§ç»æ‹›å“¦ï¼è¯è¯´è¿™ç»æ‹›ä»å“ªå„¿å­¦æ¥çš„ï¼Ÿ ã€Šæ™‹å‡ç­”è¾©çš„7ä¸ªå°æŠ€å·§ã€‹æ˜¯ç‰é¡ºï¼ˆç‰é¡ºï¼Œé£çŒªï¼ˆé˜¿é‡Œé›†å›¢æ——ä¸‹æ—…è¡Œå“ç‰Œï¼‰äº§å“æ€»ç›‘ï¼Œæ›¾å°±èŒäºç¾å›½å¾®è½¯Bingã€è…¾è®¯ã€‚ï¼‰åœ¨2016å¹´å†™çš„ï¼ŒåŒæ­¥å‘è¡¨åœ¨æŸç¤¾äº¤å¹³å°ï¼Œå½“æ—¶å°±è¢«è¯„ä¸ºè‡ªåª’ä½“çƒ­æ–‡ã€‚ä»Šå¹´è¿™ä¸ªæ—¶å€™æ°é€¢æ™‹å‡å­£ï¼Œä»–å°±æ‹¿å‡ºæ¥è·Ÿå°ä¼™ä¼´ä»¬åˆ†äº«ï¼Œæœ¬æ–‡ç•¥æœ‰åˆ å‡ ã€‚ 01 å±•ç¤ºä½ çš„æ ¸å¿ƒèƒ½åŠ›ã€‚(Show your core competency, through projects) å¥½å¤šåŒå­¦çš„ç­”è¾©PPTéƒ½æ˜¯æŒ‰ç…§æ—¶é—´æ’åºï¼ŒæŠŠè‡ªå·±åšè¿‡çš„å¤§å¤§å°å°çš„é¡¹ç›®ç½—åˆ—ä¸€éã€‚è¿™æ ·åšæœ€å¤§çš„é—®é¢˜æ˜¯ç›®çš„ä¸æ¸…æ¥šï¼Œç­”è¾©æœ¬èº«ä¸æ˜¯è¯„ä¼°é¡¹ç›®ï¼Œè€Œæ˜¯è¯„ä¼°ä½ è¿™ä¸ªäººï¼Œè¯„ä¼°ä½ è¿™ä¸ªäººçš„èƒ½åŠ›ã€‚ æˆ‘é¦–å…ˆè¦é—®ä½ çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œâ€œä½ æƒ³è¦å±•ç¤ºå“ªäº›æ ¸å¿ƒèƒ½åŠ›ï¼Ÿâ€ åœ¨ç­”è¾©çš„å‡†å¤‡ä¸Šï¼Œä½ ä¸€å®šä¸èƒ½æ²‰æ²¡åˆ°é¡¹ç›®çš„ç»†èŠ‚é‡Œé¢ï¼Œè¦è·³å‡ºé¡¹ç›®ï¼Œä»”ç»†è€ƒè™‘è‡ªå·±çš„æ ¸å¿ƒèƒ½åŠ›æœ‰å“ªäº›æå‡ï¼Œå¦‚ä½•æŠŠè‡ªå·±çš„æ ¸å¿ƒèƒ½åŠ›è¡¨ç°å‡ºæ¥ã€‚ 02 å±•ç¤ºä½ çš„é¢†å¯¼åŠ›ã€‚(Show leadership in small wins) æ¯”å¦‚ï¼Œä½ å¦‚æœæƒ³åœ¨ä»»ä½•ä¸€ä¸ªå²—ä½ä¸Šæœ‰å‡ºè‰²çš„æˆç»©ï¼Œå•é å®Œæˆå·¥ä½œæ˜¯ä¸å¤Ÿçš„ï¼Œä½ éœ€è¦å±•ç°â€œé¢†å¯¼åŠ›â€ï¼šä¸»åŠ¨æ‰¿æ‹…ã€ç§¯ææ¨åŠ¨ã€‚è¿™èƒ½è®©é¢è¯•å®˜ç›¸ä¿¡ï¼Œä½ å¯ä»¥æ‰¿æ‹…æ›´å¤§æ›´é‡è¦çš„è´£ä»»ã€‚ æœ‰åŒå­¦è®¤ä¸ºé¢†å¯¼åŠ›æ˜¯éœ€è¦titleæ‰èƒ½å‘æŒ¥å‡ºæ¥çš„ï¼Œä¸ï¼Œä½ ä¸ä¸€å®šæ˜¯Leaderçš„titleï¼Œå„ä¸ªé€šé“çš„åŒå­¦åœ¨å¹³å¸¸çš„å·¥ä½œä¸­ï¼Œéƒ½å¯ä»¥å±•ç°é¢†å¯¼åŠ›ã€‚ æ¯”å¦‚å¼€å‘åŒå­¦å¹¶æ²¡æœ‰ç­‰ç€äº§å“ç»ç†æ¥å‚¬è¿›åº¦ã€åè°ƒèµ„æºï¼Œè€Œæ˜¯ä¸»åŠ¨å’Œäº§å“ã€å‰ç«¯ã€iOSã€å®‰å“çš„è´Ÿè´£åŒå­¦æ²Ÿé€šï¼Œæ¨åŠ¨é¡¹ç›®çš„è¿›å±•å’Œé—®é¢˜çš„è§£å†³ï¼Œç›®æ ‡æ˜¯åœ¨ç»†åˆ†é¢†åŸŸåšåˆ°ä¸šç•Œç¬¬ä¸€ï¼Œè¿™å°±æ˜¯é¢†å¯¼åŠ›ã€‚ 03 æ·±å…¥æ€è€ƒã€‚(Think twice on â€œwhyâ€) æˆ‘å‘ç°åœ¨é¢è¯•ä¸­ï¼Œæœ‰ä¸€ç±»åŒå­¦å®¹æ˜“è„±é¢–è€Œå‡ºï¼Œä»–ä»¬å¾€å¾€åœ¨åšè¿‡çš„é¡¹ç›®ä¸­æœ‰è‡ªå·±è¾ƒæ·±å…¥çš„æ€è€ƒã€‚ æ¯”å¦‚åŒæ ·ä¸€ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªæŠ€æœ¯åŒå­¦å¯èƒ½åªè®°å¾—å†™äº†å¤šå°‘è¡Œä»£ç ï¼Œå®Œæˆäº†ä»€ä¹ˆåŠŸèƒ½ï¼›å¦ä¸€ä¸ªåŒå­¦å¯ä»¥æ¸…æ™°åœ°åˆ†ææ¶æ„è®¾è®¡ã€å¯æ‰©å±•æ€§ã€å®¹é”™ï¼Œä»¥åŠä¸åŒå®ç°æ¡†æ¶çš„å¯¹æ¯”ï¼Œå±•ç°å‡ºäº†æå¼ºçš„æ€è€ƒèƒ½åŠ›ã€‚ è¿™ç±»æ·±å…¥æ€è€ƒçš„åŒå­¦ï¼Œæ¯”å•çº¯åªæ˜¯æ‰§è¡Œçš„åŒå­¦ï¼Œèƒ½å¤Ÿæ‰¿æ‹…æ›´å¤æ‚å’Œæ›´é‡è¦çš„é¡¹ç›®ã€‚ ä¾‹å¦‚ï¼Œæ¯ä¸ªäº§å“åˆ›æ–°ï¼Œéƒ½éœ€è¦äº§å“ç»ç†ç«™åœ¨æ•´ä¸ªè¡Œä¸šç”Ÿæ€çš„è§’åº¦å»è€ƒè™‘å’Œå¸ƒå±€ï¼Œåœ¨åšå…·ä½“åŠŸèƒ½ä¹‹å‰æƒ³æ¸…æ¥šä»·å€¼é“¾çš„å„ä¸ªç¯èŠ‚å’Œä»·å€¼æ´¼åœ°ï¼Œæƒ³æ¸…æ¥šäº†ä¹‹åå†æ¥è®¾è®¡å…·ä½“çš„åœºæ™¯å’ŒåŠŸèƒ½ã€‚ â€œKeep your feet on the ground, head above the cloudâ€ ï¼Œè¿™æ˜¯æˆ‘å¾ˆå–œæ¬¢ä¸€å¥è¯ï¼Œä¹Ÿæ˜¯é¼“åŠ±å¤§å®¶å¤šå¤šæ€è€ƒï¼Œç«™åœ¨æ›´é«˜çš„è§’åº¦å’Œæ ¼å±€ä¸Šå»æ€è€ƒå’Œæé«˜ã€‚ 04 å¼ºè°ƒæ•°æ®åº¦é‡ã€‚ (Emphasize more on metrics, less on idea) åœ¨ä½ çš„é¡¹ç›®ä¸­ï¼Œä½ å¦‚ä½•é‡‡é›†æ•°æ®ã€å»ºç«‹åº¦é‡ã€åˆ†ææ•°æ®ï¼Œæ˜¯è¡¨ç°ä½ ç§‘å­¦æ€è€ƒçš„é‡è¦æ‰‹æ®µã€‚ æœ‰ä¸€äº›åŒå­¦ä»å¿ƒé‡Œä¼šæœ‰ç‚¹ç§ä¸èµ·åšæ•°æ®çš„å·¥ä½œï¼Œè§‰å¾—æ›´å–œæ¬¢åšäº§å“åŠŸèƒ½å¼€å‘ï¼Œä½†æ˜¯ï¼Œæ•°æ®åˆ†æå’Œå†³ç­–èƒ½åŠ›æ˜¯ä¸€ç§éå¸¸é‡è¦çš„èƒ½åŠ›ã€‚ç°ä»£çš„äº’è”ç½‘å¼€å‘è®²ç©¶çš„æ˜¯Growth hackingï¼Œå®ƒçš„æ ¸å¿ƒæ˜¯æŒç»­çš„æ•°æ®é©±åŠ¨çš„äº§å“è®¾è®¡å’Œå¼€å‘æµç¨‹ã€‚Big data, A/B testingéƒ½æ˜¯è¶Šæ¥è¶Šæ™®åŠçš„å·¥å…·ã€‚ æœ‰æ—¶å€™æœ‰çš„åŒå­¦æ‰¾åˆ°æˆ‘ï¼Œè¯·æˆ‘åšä¸€ä¸ªä¸¤éš¾çš„å†³ç­–ï¼Œæˆ‘é—®äº†å‡ ä¸ªé—®é¢˜å¾€å¾€å°±å‘ç°ï¼Œä»–å¯¹æ•°æ®çš„åˆ†æå’Œé‡‡é›†ä¸å¤Ÿï¼›åè¿‡æ¥ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œè¿™äº›æ•°æ®å‡ºæ¥äº†ï¼Œä¸éœ€è¦é—®æˆ‘å°±å·²ç»å¯ä»¥æ‰¾åˆ°æ¸…æ™°åˆç†çš„æ–¹æ¡ˆäº†ã€‚ æ¨èä¸€æœ¬ä¹¦å«åšâ€œHow To Measure Anythingâ€ ï¼Œå¯ä»¥å¸®åŠ©å»ºç«‹ä¸€å¥—ä»¥æ•°æ®é©±åŠ¨çš„å†³ç­–ä½“ç³»ï¼Œä¸ç®¡ä½ æ˜¯ä»€ä¹ˆå²—ä½ï¼Œè¯»ä¸€ä¸‹éƒ½æ˜¯å¾ˆæœ‰å¥½å¤„çš„ã€‚ 05 çŸ¥è¡Œåˆä¸€ã€‚(Walk the talk, talk the walk) è™½ç„¶æ¯å¹´çš„æ™‹å‡æœºä¼šæ˜¯æœ‰é™çš„ï¼Œä½†èŒä¸šèƒ½åŠ›çš„æå‡æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ã€‚æ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹ï¼Œ3ä¸ªæœˆä¹‹åå°±ä¼šå¤§ä¸ä¸€æ ·ã€‚ è¿™é‡Œé¢çš„å…³é”®æ˜¯ï¼Œå…‰çŸ¥é“æ˜¯ä¸å¤Ÿçš„ï¼Œè¦å»åšï¼Œä¸æ–­åœ°åšï¼Œä¸æ–­åœ°æ€è€ƒã€‚åšæŠ•èµ„æœ‰ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µæ˜¯å¤åˆ©ï¼Œæé«˜è‡ªå·±ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œä¸æ–­åœ°ç§¯ç´¯ï¼Œå“ªæ€•æ¯æ¬¡åªæœ‰ä¸€ç‚¹ç‚¹ï¼Œè¿™ä¸ªç§¯ç´¯çš„åŠ›é‡æ˜¯æƒŠäººçš„ã€‚ è¿™é‡Œçš„è‹±æ–‡æ ‡é¢˜æˆ‘ç”¨çš„æ˜¯Walk the talk, talk the walk. å®ƒæœ‰ä¸¤å±‚æ„æ€ï¼ŒWalk the talk, æ˜¯å®è·µä½ æ‰€çŸ¥é“çš„ï¼Œtalk the walkæ˜¯è®²ä½ å®è·µè¿‡çš„ã€‚å¹³æ—¶ä½ éœ€è¦walk the talk,æ™‹å‡è¯„å®¡çš„æ—¶å€™talk the walkï¼Œä¸€åˆ‡å°±å˜å¾—å¾ˆå®¹æ˜“äº†ã€‚ 06 é™ˆè¿°è¦ç®€æ´ã€‚(KISS: Keep it Simple, Stupid) æˆ‘çœ‹å¾ˆå¤šåŒå­¦è®²PPTæœ‰ä¸€ä¸ªä¸»è¦çš„é—®é¢˜ï¼Œå°±æ˜¯æ— å…³çš„å†…å®¹å¤ªå¤šã€‚å›åˆ°ç¬¬ä¸€ç‚¹ï¼Œç½—åˆ—å†…å®¹å’Œé¡¹ç›®æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå…³é”®æ˜¯ä½ æ˜¯å¦å±•ç¤ºäº†ä½ çš„æ ¸å¿ƒèƒ½åŠ›ã€‚ ç½‘ç»œæ¥å£è®¾è®¡ä¸­æœ‰ä¸€ä¸ªé‡è¦çš„åŸåˆ™æ˜¯KISS: Keep it simple, stupid. ä½ åœ¨è®²PPTçš„æ—¶å€™ä¹Ÿéœ€è¦éå¸¸ç®€æ´ï¼Œ åªçªå‡ºä½ çš„æ ¸å¿ƒèƒ½åŠ›ï¼Œæ•´ä¸ªPPTéƒ½æ˜¯å›´ç»•ä½ çš„æ ¸å¿ƒèƒ½åŠ›ç»„ç»‡å’Œå±•å¼€ï¼Œä½ è®²çš„æ¯ä¸€å¥è¯éƒ½æ˜¯å›´ç»•è¿™ä¸€ä¸ªç›®æ ‡ã€‚ 07 ç»ƒä¹ ï¼Œç»ƒä¹ ï¼Œç»ƒä¹ ã€‚(Practice, practice, practice) å†å¥½çš„æ¼”è®²è€…ä¹Ÿéœ€è¦ä¸æ–­ç»ƒä¹ ã€‚ä¹”å¸ƒæ–¯æ¯æ¬¡è‹¹æœå‘å¸ƒä¼šéƒ½è¦ç»ƒä¹ å‡ åæ¬¡ï¼Œç²¾ç›Šæ±‚ç²¾ã€‚å¯¹æˆ‘ä»¬è¿™äº›å¹³æ—¶ä¸å¤ªæœ‰æœºä¼šæ¼”è®²çš„äº§å“å’ŒæŠ€æœ¯åŒå­¦ä»¬ï¼Œæ›´åŠ éœ€è¦åŠ å€çš„ç»ƒä¹ ã€‚ Stanfordå¤§å­¦çš„æ•™æˆAndrew Ngï¼Œæ˜¯ä¸ªç¾ç±åäººï¼ŒåˆšåŠ å…¥Stanfordçš„æ—¶å€™ï¼Œå› ä¸ºä¸å–„è¨€è°ˆï¼Œè®²è¯¾æ’åå«åº•ï¼Œåæ¥é ä¸æ–­çš„æœ‰æ„è¯†çš„ç»ƒä¹ ï¼Œå˜æˆäº†æœ€å—æ¬¢è¿çš„è€å¸ˆä¹‹ä¸€ï¼›ä»–çš„æœºå™¨å­¦ä¹ è¯¾ç¨‹ä¹Ÿæ˜¯Courseraä¸Šçš„æœ€å—æ¬¢è¿çš„è¯¾ç¨‹ä¹‹ä¸€ã€‚æˆ‘ä¸Šè¿‡ä»–çš„æœºå™¨å­¦ä¹ ï¼Œè®²è§£ç”ŸåŠ¨æœ‰è¶£ï¼Œä¹Ÿè®©æˆ‘åšå®šåœ°ç›¸ä¿¡ï¼Œæ¯ä¸€ä¸ªåŒå­¦éƒ½å¯ä»¥æˆä¸ºä¸€ä¸ªå‡ºè‰²çš„æ¼”è®²è€…ï¼Œåªæ˜¯éœ€è¦â€œç»ƒä¹ ï¼Œç»ƒä¹ ï¼Œç»ƒä¹ â€ã€‚ åœ¨é˜¿é‡Œæœ‰å¥è€è¯ï¼šæˆé•¿æ˜¯è‡ªå·±çš„äº‹å„¿ã€‚ å¦‚æœæ¯ä¸€å¤©éƒ½åœ¨é‡å¤ç€æ˜¨å¤©ï¼Œæ²¡æœ‰æ€è€ƒã€æ€»ç»“å’Œæå‡ï¼Œé‚£ä¹ˆä½ çš„äººç”Ÿå°±åƒè¡ç§‹åƒï¼Œåªæ˜¯åœ¨é‡å¤æ‘‡æ‘†è€Œå·²ã€‚ è¹²ä¸‹æ¥ï¼Œæ˜¯ä¸ºäº†è·³å¾—æ›´é«˜ã€‚ å¦‚æœå¯¹ç…§ç€â€œèªæ˜ã€ä¹è§‚ã€çš®å®ã€è‡ªçœâ€è¿™â€œå››å¥½é’å¹´â€æ ‡å‡†ï¼Œä½ æ ·æ ·éƒ½è¾¾æ ‡å¾ˆä¼˜ç§€äº†ï¼Œé‚£ä¹ˆæ™‹å‡å°±æ˜¯ä¸€ä¸ªæ°´åˆ°æ¸ æˆçš„ç»“æœã€‚ æ²¡æœ‰æ¯”è„šæ›´é•¿çš„è·¯ï¼Œæ²¡æœ‰æ¯”äººæ›´é«˜çš„å±±ï¼Œä¸ºäº†æ›´å¥½çš„è‡ªå·±ï¼Œä½ æˆ‘å…±å‹‰ã€‚]]></content>
      <categories>
        <category>3x èŒåœºç¯‡</category>
        <category>3x1 èŒåœºå®å…¸</category>
      </categories>
      <tags>
        <tag>èŒåœº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2018å¹´ï¼Œè‡ªå·±åšäº†ä»€ä¹ˆï¼Ÿ]]></title>
    <url>%2F2019%2F01%2F26%2F2018-summary%2F</url>
    <content type="text"><![CDATA[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å›æƒ³2018å¹´ï¼Œå¤§éƒ¨åˆ†æ—¥å¸¸å·¥ä½œæ˜¯æ—¥å¿—æ”¶é›†ã€æ•°æ®ç»Ÿè®¡ã€æ•°æ®åˆ†æç­‰å·¥ä½œï¼Œå¤ªè¿‡é›¶ç¢æœ‰ä¸èƒ½å¥½å¥½çš„å±•å¼€ï¼Œæ‰€ä»¥è¿˜æ˜¯è›®çº ç»“çš„ã€‚æ‰€ä»¥æ‰“ç®—ä»å¯ä»¥æç‚¼çš„æ—¥å¸¸ä»¥åŠå”¯ä¸€ä¸€ä¸ªå€¼å¾—è¯´é“çš„é¡¹ç›®ï¼šæ•°æ®ä»“åº“æœºæˆ¿è¿ç§»ä½œä¸º2018å¹´å®Œæˆçš„æ€»ç»“ã€‚ 0x1 æ•°æ®ä»“åº“æœºæˆ¿è¿ç§»0x2 æ•°æ®å¼€å‘çš„æ—¥å¸¸æœªå®Œå¾…ç»­]]></content>
      <categories>
        <category>3x èŒåœºç¯‡</category>
        <category>3x0 æ€»ç»“ä¸è§„åˆ’</category>
        <category>3x00 2018å¹´æ€»ç»“</category>
      </categories>
      <tags>
        <tag>å·¥ä½œæ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€èµ·æ¥å­¦Scala(4)-å¾ªç¯]]></title>
    <url>%2F2019%2F01%2F22%2Fscala-programing-loop%2F</url>
    <content type="text"><![CDATA[&ensp;&ensp;&ensp;&ensp;&ensp;ä»Šå¤©å­¦ä¹ çš„å†…å®¹æ˜¯å¾ªç¯ï¼Œå¾ªç¯è¯­å¥å…è®¸æˆ‘ä»¬å¤šæ¬¡æ‰§è¡Œä¸€ä¸ªè¯­å¥æˆ–è¯­å¥ç»„ï¼Œä¸‹é¢æ˜¯å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸­å¾ªç¯è¯­å¥çš„æµç¨‹å›¾ï¼š&ensp;&ensp;&ensp;&ensp;&ensp;Scalaä¸­çš„å¾ªç¯ä¸Javaä¸­å¾ªç¯è¡¨ç°ä¸ä¸€æ ·ï¼Œä¸»è¦ä½“ç°åœ¨å†™æ³•åŠå«è¯­å¥æ”¯æŒã€‚ä¸‹é¢çœ‹ä¸€æ®µä¼ªä»£ç ï¼š 1234567for(line &lt;- source.getLines)&#123; for (char &lt;- line)&#123; if char.isLetter&#123; // your code &#125; &#125;&#125; Scalaå¯ä»¥è¿™æ ·ç®€å†™â€¦ 12345for&#123;line &lt;- source.getLines)&#123; char &lt;- line if char.isLetter // your code&#125; Scalaå¯ä½¿å¾—å¾ªç¯çš„å†™æ³•éå¸¸ç®€æ´ã€‚ 0x1 å¾ªç¯ç±»å‹0x10 forå¾ªç¯è¡¨è¾¾å¼: 123for(x &lt;- Range )&#123; statement(x);&#125; ä¸¾ä¸ªä¾‹å­ã€ŒğŸŒ°ã€ä¾‹1ï¼š 1234567891011scala&gt; var r = Range(1,4,1)r: scala.collection.immutable.Range = Range(1, 2 ,3)scala&gt; for( x&lt;- r)&#123; | println(x) | &#125;123scala&gt; éå†ä¸€ä¸ªMapï¼Œä¾‹2 1234val names = Map("fname" -&gt; "Robert","lname"-&gt;"Goren")for((k,v)&lt;-names)&#123; println(s"key:$k,value:$v")&#125; å¤šç§å¾ªç¯ï¼š 123for(x &lt;- Range; y&lt;- Range )&#123; statement(x,y);&#125; 0x11 whileå¾ªç¯è¡¨è¾¾å¼å¦‚ä¸‹: 123while(condition)&#123; statement(x);&#125; ä¾‹å­ï¼š 123456789101112scala&gt; var i = 0i: Int = 0scala&gt; while(i&lt;10)&#123; | println(i) | i += 1 | &#125;0123scala&gt; å¤šé‡å¾ªç¯æ¡ä»¶: 1234while(condition1)&#123; while(condition2) statement(x);&#125; 0x12 doâ€¦whileå¾ªç¯while ä¸ doâ€¦whileå¾ªç¯ç±»ä¼¼ è¡¨è¾¾å¼å¦‚ä¸‹ï¼š 123do&#123; statement(x);&#125;while(condition) 0x2 å¾ªç¯ä¸­çš„å«è¯­å¥&ensp;&ensp;&ensp;&ensp;&ensp;å¾ªç¯ä¸­çš„å«è¯­å¥å³åœ¨forå¾ªç¯ä¸­åµŒå…¥ifè¯­å¥ï¼Œæˆ‘ä»¬åœ¨ä¸šåŠ¡å¼€å‘ä¸­ï¼Œåœ¨éå†è¿‡ç¨‹ä¸­éœ€è¦æ ¹æ®if æ¡ä»¶è¿›è¡Œä¸åŒé€»è¾‘å¤„ç†ï¼Œæ¯”å¦‚è¿‡æ»¤æ‰æŸäº›é¡¹ã€‚é€šå¸¸çš„åšæ³•æ˜¯ï¼š 123456for(i &lt;- 1 to 10)&#123; if (i % 2 == 0) &#123; println(i) &#125;&#125; åœ¨Scalaä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™: 123for(i &lt;- 1 to 10 if i % 2 == 0)&#123; println(i)&#125; ä¹Ÿå¯ä»¥è¿™æ ·å†™ 1234for&#123; i &lt;- 1 to 10 if i % 2 == 0&#125; println(i) è¡¨è¾¾å¼è¯­æ³•ï¼š 123456for&#123; loop condition1 condition2 ...&#125; statement(); 0x3 yieldè¯­æ³•&ensp;&ensp;&ensp;&ensp;&ensp;é€šè¿‡yieldè¯­æ³•ç”Ÿæˆæ–°çš„é›†åˆï¼ˆPSï¼šé€šå¸¸åŸé›†åˆæ˜¯ä»€ä¹ˆç±»å‹ï¼Œç”Ÿæˆçš„é›†åˆå°±æ˜¯ä»€ä¹ˆç±»å‹ï¼‰ï¼Œå‡è®¾æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„å€¼éƒ½æ˜¯å°å†™çš„å­—ç¬¦ä¸²ï¼Œå°†å…¶è¿›è¡Œé¦–å­—æ¯å¤§å†™å¤„ç†ï¼š 123456789val arr = Array("delete","scala","zt")val arr_yield = for (i&lt;-arr) yield i.capitalizescala&gt; arr_yield.foreach(println)DeleteScalaZtscala&gt; 0x4 break &amp; continue&ensp;&ensp;&ensp;&ensp;&ensp;ä¸Javaå’Œå…¶ä»–è¯­è¨€ä¸é€šï¼Œåœ¨Scalaä¸­break ä¸€ç§æ–¹æ³•ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œåœ¨Scalaä¸­éœ€ç”¨ç”¨åˆ° breakableåŠbreakä¸¤ä¸ªæ–¹æ³•ï¼Œç”±breakæŠ›å‡ºå¼‚å¸¸ï¼Œbreakableè¿›è¡Œå¼‚å¸¸æ•è·ï¼Œç”±æ­¤å®ç°break &amp; continueåŠŸèƒ½ï¼Œä¸‹é¢çœ‹ä¸€ä¸ªä¾‹å­ï¼š ä¾‹1ï¼šbreakå®ç° 12345breakable&#123; for(i&lt;- 1 to 10)&#123; if i % 2 == 0 break # å°†è·³å‡ºå¾ªç¯ å®ç°break &#125;&#125; ä¾‹2ï¼šcontinueå®ç° 12345for(i&lt;- 1 to 10)&#123; breakable&#123; if i % 2 == 0 break # è·³å‡ºå½“å‰ï¼Œç»§ç»­ä¸‹ä¸€éå† &#125;&#125; åœ¨scala.util.control.breaksç±»ä¸­ï¼Œæœ‰éå¸¸æ¸…æ™°çš„å®šä¹‰ï¼š 123456789101112131415161718192021 /** * A block from which one can exit with a `break`. The `break` may be * executed further down in the call stack provided that it is called on the * exact same instance of `Breaks`. */ def breakable(op: =&gt; Unit) &#123; try &#123; op &#125; catch &#123; case ex: BreakControl =&gt; if (ex ne breakException) throw ex &#125; &#125;/** * Break from dynamically closest enclosing breakable block using this exact * `Breaks` instance. * * @note This might be different than the statically closest enclosing block! */ def break(): Nothing = &#123; throw breakException &#125; ç”±breakå‡½æ•°æŠ›å‡ºå¼‚å¸¸ï¼Œç”±breakableæ•è·å¼‚å¸¸ 0xF æ€»ç»“&ensp;&ensp;&ensp;&ensp;&ensp;å¾ªç¯ç»“æ„ä¸å…¶ä»–è¯­è¨€å¤§åŒå°å¼‚ï¼ŒScalaä¸­æ›´åŠ ç®€æ´çš„è¡¨è¾¾æ–¹å¼æ˜¯å…¶ä¸€å¤§äº®ç‚¹ï¼Œå­¦ä¹ Scalaå¯èƒ½éœ€è¦å¤šé€‚åº”Scalaè¯­è¨€çš„è¡¨è¾¾æ–¹å¼æ‰èƒ½ç†è§£ï¼Œå½“ç„¶æ˜¯ç”¨å¸¸è§„çš„æ–¹å¼è¿›è¡Œè¡¨è¾¾ä¹Ÿä¸ä¼šæœ‰é—®é¢˜ã€‚]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x0 å¼€å‘è¯­è¨€</category>
        <category>1x01 ä¸€èµ·æ¥å­¦Scala</category>
      </categories>
      <tags>
        <tag>Scala</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•ä½¿ç”¨Hiveçª—å£å‡½æ•°]]></title>
    <url>%2F2019%2F01%2F20%2Fhow-to-use-window-func%2F</url>
    <content type="text"><![CDATA[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;çª—å£å‡½æ•°å¸¸å¸¸ç”¨äºæˆ‘ä»¬ä¸šåŠ¡ä¸­çš„å¤æ‚è®¡ç®—ï¼Œæœ¬æ–‡ä»‹ç»Hiveä¸­å‡ ä¸ªå¸¸ç”¨çš„çª—å£å‡½æ•°ï¼Œå¹¶ç”¨æ¡ˆä¾‹è®²è¿°å¦‚ä½•ä½¿ç”¨ã€‚é‚£ä¹ˆæˆ‘ä»¬å¸¸ç”¨çš„çª—å£å‡½æ•°æœ‰å“ªäº›ï¼Ÿ å‡½æ•°å å¤‡æ³¨ row_number åˆ†ç»„å†…æ ¹æ®æ’åˆ—æ¡ä»¶ä»1å¼€å§‹çš„æ’åºï¼Œæ²¡æœ‰ç›¸åŒçš„åºå· rank åˆ†ç»„å†…æ ¹æ®æ’åˆ—æ¡ä»¶ä»1å¼€å§‹çš„æ’åºï¼Œæ’åç›¸ç­‰ä¼šåœ¨åæ¬¡ä¸­ç•™ä¸‹ç©ºä½ï¼Œä¾‹å¦‚ï¼š1ï¼Œ2ï¼Œ2ï¼Œ4 dense_rank åˆ†ç»„å†…æ ¹æ®æ’åˆ—æ¡ä»¶ä»1å¼€å§‹çš„æ’åºï¼Œæ’åç›¸ç­‰ä¼šåœ¨åæ¬¡ä¸­ä¸ä¼šç•™ä¸‹ç©ºä½ï¼Œä¾‹å¦‚ï¼š1ï¼Œ2ï¼Œ2ï¼Œ3 lag åˆ†ç»„å†…æ ¹æ®æ’åˆ—æ¡ä»¶å–å‰ç¬¬nä¸ªå€¼ lead åˆ†ç»„å†…æ ¹æ®æ’åˆ—æ¡ä»¶å–åç¬¬nä¸ªå€¼ï¼Œä¸ lagç›¸å first_value åˆ†ç»„å†…æ ¹æ®æ’åˆ—æ¡ä»¶å»åˆ†ç»„ç¬¬ä¸€ä¸ªå€¼ last_value åˆ†ç»„å†…æ ¹æ®æ’åˆ—æ¡ä»¶å»åˆ†ç»„æœ€åä¸€ä¸ªå€¼ min åˆ†ç»„å†…å–æœ€å°å€¼ max åˆ†ç»„å†…å–æœ€å¤§å€¼ sum åˆ†ç»„å†…å–åˆ†ç»„å€¼çš„å’Œ â€¦ â€¦ PS: æ‰€æœ‰çš„çª—å£å‡½æ•°éƒ½å°†æ˜¯ç”Ÿæˆçš„ä¸€ä¸ªæ–°åˆ—ï¼Œå¹¶ä¸ä¼šå¯¹åŸæœ‰æ•°æ®åˆ—é€ æˆå½±å“ ä¸‹é¢å°†ä¸€ä¸€è¿™äº›å‡½æ•°çš„ä½¿ç”¨ã€‚ 0x0 row_numberrow_number å¯ä»¥è¯´æ˜¯æœ€å¸¸ç”¨çš„ä¸€ä¸ªçª—å£å‡½æ•°ã€‚ ä¸¾ä¸ªæ —å­ã€ŒğŸŒ°ã€ï¼šæˆ‘ä»¬æœ‰ä¸€ç»„æ•°æ®ï¼Œæ˜¯ä¸€ä¸ªç­çº§ä¸€å­¦æœŸ4æ¬¡æ•°å­¦æœˆè€ƒçš„æˆç»©è¡¨ score å­¦ç”ŸID(sid) ç¬¬å‡ æ¬¡æœˆè€ƒï¼ˆexam_timeï¼‰ æˆç»©(score) s001 1 83 s001 2 87 s001 3 84 s001 4 89 s002 1 90 s002 2 75 s002 3 89 s002 4 82 é‚£ä¹ˆQuestionï¼šè¯·é—®æ¯ä¸ªå­¦ç”Ÿ4æ¬¡æœˆè€ƒæˆç»©ä¸­æœ€å¥½çš„ä¸€æ¬¡æ˜¯å“ªä¸€æ¬¡æœˆè€ƒï¼Ÿ æ­¤æ—¶ï¼Œmaxçš„æ‰‹æ³•æ˜¯ä¸èƒ½å¤Ÿä½¿ç”¨äº†ï¼Œå¦‚æœè§£å†³ä¸Šè¿°é—®é¢˜ï¼Ÿå®é™…ä¸Šæ˜¯å°†æ ¹æ®æ¯ä¸ªå­¦ç”Ÿè¿›è¡Œåˆ†ç»„ï¼Œå³æ¯ä¸ªå­¦ç”Ÿçš„4æ¬¡æœˆè€ƒä¸ºä¸€ç»„ï¼Œé‚£ä¹ˆè®¡ç®—è¿™ä¸ªåˆ†ç»„æˆç»©ä¸­çš„æœ€å¤§å€¼å³å¯ 12345678910111213select sid ,exam_time ,scorefrom ( select sid ,exam_time ,score ,row_number() over(partition by sid order by score desc) as r_idx from score)t where t.r_idx = 1 è¯´æ˜ï¼š æˆ‘ä»¬ç§° row_number ä¸ºçª—å£å‡½æ•°ï¼Œoverä¸ºä»å¥ï¼Œçª—å£å‡½æ•°ä¸overé…åˆä½¿ç”¨ 1ã€ä½¿ç”¨PARTITION BYè¯­å¥ï¼Œä½¿ç”¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªåŸå§‹æ•°æ®ç±»å‹çš„åˆ—è¿›è¡Œåˆ†ç»„2ã€ä½¿ç”¨ORDER BYè¯­å¥ï¼Œä½¿ç”¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ•°æ®ç±»å‹çš„æ’åºåˆ— åè¿‡æ¥over ä¸­è‹¥ä¸æŒ‡å®š partition by çš„æ•°æ®åˆ—ï¼Œé‚£ä¹ˆæ•´ä¸ªè¡¨ä½œä¸ºä¸€ä¸ªé»˜è®¤åˆ†ç»„ï¼ŒåŒç†ä¸æŒ‡å®š order by é‚£ä¹ˆé»˜è®¤å½“å‰é¡ºåºï¼Œå¤§å®¶å…ˆåªéœ€äº†è§£è¿™ä¸¤ç‚¹ï¼Œç†Ÿç»ƒä¹‹åå¯ä»¥å­¦ä¹ ç¬¬ä¸‰ç‚¹ã€‚ 3ã€ä½¿ç”¨çª—å£è§„èŒƒï¼Œçª—å£è§„èŒƒæ”¯æŒä»¥ä¸‹æ ¼å¼ï¼š (ROWS | RANGE) BETWEEN (UNBOUNDED | [num]) PRECEDING AND ([num] PRECEDING | CURRENT ROW | (UNBOUNDED | [num]) FOLLOWING)(ROWS | RANGE) BETWEEN CURRENT ROW AND (CURRENT ROW | (UNBOUNDED | [num]) FOLLOWING)(ROWS | RANGE) BETWEEN [num] FOLLOWING AND (UNBOUNDED | [num]) FOLLOWING è¯¦ç»†å‚è€ƒæ–‡æ¡£ï¼šHiveå®˜æ–¹å‚è€ƒæ–‡æ¡£]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x2 æŠ€æœ¯å¹³å°</category>
        <category>1x21 Hive</category>
      </categories>
      <tags>
        <tag>Hive</tag>
        <tag>SQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ftpä¸Šä¼ ç›®å½•çš„æ–¹æ³•]]></title>
    <url>%2F2019%2F01%2F16%2Fftp-upload-folder%2F</url>
    <content type="text"><![CDATA[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¼—æ‰€å‘¨çŸ¥ï¼Œä½¿ç”¨ftpå‘½ä»¤æ˜¯ä¸èƒ½å¤Ÿç›´æ¥ä¸Šä¼ æ–‡ä»¶å¤¹çš„ï¼Œç„¶åå·¥ä½œä¸­æœ‰å¾ˆå¤šéœ€è¦ä¸Šä¼ ç›®å½•çš„åœºæ™¯ï¼Œé€šå¸¸å¤§å®¶æƒ³åˆ°çš„å°±æ˜¯å…ˆåˆ›å»ºæ–‡ä»¶å¤¹ï¼Œç„¶åå†é€šè¿‡éå†çš„æ–¹å¼ä¸Šä¼ æ–‡ä»¶ï¼Œå…¶ä¸­æ¯”è¾ƒç¹ççš„æ˜¯ï¼Œftpé‡Œä¸æ”¯æŒï¼Œå¤šå±‚çº§ç›®å½•ç›´æ¥åˆ›å»ºï¼Œ1deletee:$ mkdir -p $&#123;dir&#125;/$&#123;subdir&#125; è¿™æ ·çš„æ–¹å¼ï¼Œåªèƒ½é€çº§åˆ›å»ºï¼Œå°†é€ æˆå¾ˆå¤šå·¥ä½œé‡ã€‚ä¸‹é¢å°†åˆ†äº«ä¸‹å¦‚ä½•å¿«é€Ÿæœ‰æ•ˆçš„å®ç°ä¸Šä¼ ftpæ–‡ä»¶å¤¹ 0x0 ç”Ÿæˆåˆ›å»ºå¤šçº§æ–‡ä»¶å¤¹å‘½ä»¤1234567891011export mkdir_cmds=`find $&#123;upload_folder&#125; -type d -printf '%P\n' \ |awk '&#123; \ split($0,a,"/"); \ for (i in a) &#123; \ cmds ="mkdir "; \ for (j=1;j&lt;=i;j++) &#123; \ cmds = cmds"/"a[j] \ &#125; print cmds \ &#125; \ &#125;' \ |sort|uniq` æ•ˆæœå¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829deletee@pig_house:~/logon_log/bin$ ls -lhtotal 48K-rwxr-xr-x 1 delete pig_house 324 Jan 9 14:59 clearftpfile.sh-rwxr-xr-x 1 delete pig_house 2.2K Jan 11 12:19 contact_send.sh-rwxr-xr-x 1 delete pig_house 5.7K Jan 9 14:59 handle_file_repair.sh-rwxr-xr-x 1 delete pig_house 7.9K Jan 10 10:29 handle_file.shdrwxr-xr-x 3 delete pig_house 4.0K Jan 14 15:59 logon-rwxr-xr-x 1 delete pig_house 2.2K Jan 11 12:18 mail_send.sh-rwxr-xr-x 1 delete pig_house 2.2K Jan 11 12:18 news_send.shdrwxr-xr-x 3 delete pig_house 4.0K Jan 11 12:19 reg-rwxr-xr-x 1 delete pig_house 1.4K Jan 9 14:59 repair_login.sh-rwxr-xr-x 1 delete pig_house 2.8K Jan 16 14:50 send_news.shdeletee@pig_house:~/logon_log/bin$ upload_folder="bin"deletee@pig_house:~/logon_log/bin$ find $&#123;upload_folder&#125; -type d -printf '%P\n' \&gt; |awk '&#123; \&gt; split($0,a,"/"); \&gt; for (i in a) &#123; \&gt; cmds ="mkdir /$&#123;upload_folder&#125;"; \&gt; for (j=1;j&lt;=i;j++) &#123; \&gt; cmds = cmds"/"a[j] \&gt; &#125; print cmds \&gt; &#125; \&gt; &#125;' \&gt; |sort|uniqmkdir /bin/logonmkdir /bin/logon/bakmkdir /bin/regmkdir /bin/reg/bak 0x1 ç”Ÿæˆputæ–‡ä»¶å‘½ä»¤&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŸç†ä¸åˆ›å»ºæ–‡ä»¶å¤¹å‘½ä»¤ç±»ä¼¼1export put_cmds=`find $&#123;upload_folder&#125; -type f -printf 'put %p $&#123;ftp_target_folder&#125;/%P\n'` 123456789deletee@pig_house:upload_path='~/logon_log/bin'deletee@pig_house:upload_folder='bin'deletee@pig_house:ftp_target_path='/ftp'deletee@pig_house:find $&#123;upload_path&#125; -type f -printf 'put %p $&#123;ftp_target_path&#125;/%P\n'put ./bin/logon/bak/police-logon.jar.bak /ftp/bin/logon/bak/police-logon.jar.bakput ./bin/logon/bak/run.sh /ftp/bin/logon/bak/run.shput ./bin/logon/bak/stop.sh /ftp/bin/logon/bak/stop.sh... 0x2 ä¸€ä¸ªæ —å­123456789101112131415161718192021222324252627282930313233#!/bin/bashupload_path=$1 # å¾…ä¸Šä¼ ç›®å½•ftp_target_path=$2 # ftpç›®æ ‡ç›®å½•upload_folder=`basename $&#123;upload_path&#125;`export mkdir_cmds=`find $&#123;upload_path&#125; -type d -printf '%P\n' \ |awk '&#123; \ split($0,a,"/"); \ for (i in a) &#123; \ cmds ="mkdir $&#123;upload_folder&#125;"; \ for (j=1;j&lt;=i;j++) &#123; \ cmds = cmds"/"a[j] \ &#125; print cmds \ &#125; \ &#125;' \ |sort|uniq`export put_cmds=`find $&#123;upload_path&#125; -type f -printf 'put %p $&#123;ftp_target_folder&#125;/%P\n'`ftp_host=ftp_port=ftp_username=ftp_password=ftp -i -n &lt;&lt; EOFopen $ftp_host $ftp_portuser $ftp_username $ftp_passwordbi$&#123;mkdir_cmds&#125;$&#123;put_cmds&#125;byeEOF 0XF æ€»ç»“&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ©ç”¨ç”Ÿæˆftpå‘½ä»¤çš„æ–¹å¼ï¼Œé¿å…å¤šå±‚çº§åŠä¸å®šå±‚çº§ç›®å½•çš„åˆ›å»ºftpç›®å½•çš„ç¹çã€‚&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¤§å®¶è§‰å¾—æ€ä¹ˆæ ·ï¼Ÿæˆ–æ˜¯æœ‰æ›´å¥½çš„æ–¹æ³•ï¼]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x0 å¼€å‘è¯­è¨€</category>
        <category>1x00 ä¸€èµ·æ¥å­¦Shell</category>
      </categories>
      <tags>
        <tag>shell</tag>
        <tag>awk</tag>
        <tag>ftp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€èµ·æ¥å­¦Scala(3)-å­—ç¬¦ä¸²]]></title>
    <url>%2F2019%2F01%2F10%2Fscala-programing-string%2F</url>
    <content type="text"><![CDATA[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸Šæ–‡ä¸­å·²ç»ä»‹ç»äº†Scalaè¯­è¨€ä¸­çš„åŸºæœ¬ç±»å‹ï¼Œæœ¬æ–‡ç€é‡ä»‹ç»ä¸‹å­—ç¬¦ä¸²çš„ç”¨æ³•ï¼Œå­—ç¬¦ä¸²åœ¨æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ç»å¸¸ç”¨åˆ°ï¼Œå­—ç¬¦ä¸²åœ¨Scalaä¸­çš„ç±»å‹Stringï¼Œé‚£ä¹ˆScalaä¸­çš„Stringå’ŒJavaä¸­çš„Stringæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ 1234scala&gt; "Scala".getClass.getNameres0: String = java.lang.Stringscala&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ¬ä»¥ä¸ºScalaæ˜¯æ€æ ·å®ç°äº†Stringï¼Œä¸Šè¿°ä»£ç ä¸­å‘Šè¯‰æˆ‘ä»¬Scalaä¸­çš„Stringç«Ÿå°±æ˜¯Javaä¸­çš„Stringã€‚æˆ‘ä»¬æ¥ä¸‹æ›´æ·±å±‚æ¬¡çš„å­¦ä¹ Stringã€‚ 0x0 åŸºæœ¬ç”¨æ³•0x00 é•¿åº¦ .length1234567scala&gt; val str = "Scala"str: String = Scalascala&gt; str.lengthres3: Int = 5scala&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šè¿‡ .lengthçš„æ–¹å¼å¯è·å–å˜é‡strçš„é•¿åº¦ 0x01 éå†ç¬¬ä¸€ç§æ–¹å¼: é€šè¿‡éå†å­—ç¬¦ä¸²çš„æ¯ä¸€ä¸ªå­—ç¬¦ 12345678scala&gt; for(c &lt;- str) &#123; println(c) &#125;Scalascala&gt; ç¬¬äºŒç§æ–¹å¼: é€šè¿‡è°ƒç”¨.foreachæ–¹æ³•ï¼Œå…¥å‚ printlnå‡½æ•°å®ç° 12345678scala&gt; str.foreach(println)Scalascala&gt; ç¬¬ä¸‰ç§æ–¹å¼: é€šè¿‡è°ƒç”¨.mapæ–¹æ³•ï¼Œå…¥å‚ printlnå‡½æ•°å®ç° 12345678scala&gt; str.map(println)Scalascala&gt; 0x02 è¿‡æ»¤ .filter1234scala&gt; str.filter(_ != 'a')res10: String = Sclscala&gt; 0x03 Bytesæ•°ç»„ .getBytes1234scala&gt; str.getBytesres11: Array[Byte] = Array(83, 99, 97, 108, 97)scala&gt; 0x0F å°ç»“ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stringæœ‰å¾ˆå¤šçš„æ–¹æ³•ï¼Œä¾‹å¦‚ .drop(n) åˆ é™¤å‰é¢nä¸ªå­—ç¬¦,.take(n)å–å‰nä¸ªå­—ç¬¦ï¼Œ.captitalize å°†å­—ç¬¦ä¸²è½¬ä¸ºå¤§å†™(ä¸ .toUpperCase åŠŸèƒ½ç­‰åŒ)ç­‰ç­‰ã€‚ 0x1 å­—ç¬¦ä¸²ç›¸ç­‰æ€§&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚ä½•æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ 12345678910scala&gt; val str1 = "Scala"str1: String = Scalascala&gt; val str2 = "S" + "cala"str2: String = Scalascala&gt; str1 == str2res12: Boolean = truescala&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚ä¸Šï¼Œä¸¤ä¸ªå­—ç¬¦ä¸²å†…å®¹æ˜¯ç›¸ç­‰çš„,é€šè¿‡== å¯åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼Œè¿™ä¸Javaä¸­ä½¿ç”¨equalçš„æ–¹æ³•æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡ä¸åŒã€‚åœ¨Javaä¸­éœ€è¦å…ˆåˆ¤æ–­è°ƒç”¨çš„å¯¹è±¡æ˜¯å¦ä¸ºnullï¼Œå³åœ¨AnyRefç±»ä½¿ç”¨æ—¶ï¼ŒScalaä¹Ÿä¼šåˆ¤æ–­è°ƒç”¨æ˜¯å¦æ˜¯nullï¼Œå…¶ä»–æƒ…å†µä¸‹æ˜¯ä¸éœ€è¦åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºnullã€‚å®é™…ä¸Šåœ¨Scalaå¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸æ¨èå®šä¹‰nullï¼Œ 0x2 åˆ›å»ºå¤šè¡Œå­—ç¬¦ä¸²&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™ä¸€ç‚¹ä¸Pythonç±»ä¼¼ï¼Œå¯ä»¥é€šè¿‡ä¸‰ä¸ªåŒå¼•å·æ¥å®šä¹‰ï¼Œä¾‹å¦‚ï¼š 1234567scala&gt; val multi_line_str = """Hello, | I love Scala"""multi_line_str: String =Hello, I love Scalascala&gt; æ˜¾ç¤ºç¬¬äºŒè¡Œæ˜¯ä¸€è¿ä¸²çš„ç©ºæ ¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç®¡é“çš„æ–¹å¼ï¼Œä¸Pythonç±»ä¼¼ 123456789scala&gt; val multi_line_str = """Hello, | I love Scala | """multi_line_str: String ="Hello,I love Scala"scala&gt; æˆ–è€… 123456789scala&gt; val multi_line_str = """Hello, | I love Scala | """.stripMarginmulti_line_str: String ="Hello,I love Scala"scala&gt; å¦‚æœä¸å–œæ¬¢ä½¿ç”¨ç®¡é“ |å¯ä»¥ä½¿ç”¨å…¶ä»–ç¬¦å·è¡¨ç¤ºï¼Œä¾‹å¦‚: 123456789scala&gt; val multi_line_str = """Hello, @ I love Scala @ """.stripMargin('@')multi_line_str: String ="Hello,I love Scala"scala&gt; 0x3 å˜é‡ä»£æ¢&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ç±»ä¼¼äºPythonä¸€æ ·ï¼Œä½¿ç”¨å˜é‡çš„å€¼ä»£æ¢è¿›å¦ä¸€ä¸ªå­—ç¬¦ä¸² 0x30 sæ˜¯ä¸€ä¸ªæ–¹æ³•1234567scala&gt; val name = "deleee"name: String = deleeescala&gt; val setence = s"My name is $name"setence: String = My name is deleeescala&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ•´å½¢å˜é‡å¯ä»¥åšè®¡ç®—ï¼Œä¾‹å¦‚ï¼š 1234567scala&gt; var age = 2age: Int = 2scala&gt; val setence1 = s"My age is $&#123;age + 1&#125;"setence1: String = My age is 3scala&gt; 0x31 å­—ç¬¦ä¸²å·®å€¼(printf)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; å³æˆ‘ä»¬å¸¸åœ¨Cè¯­è¨€æˆ–è€…Pythonä¸­çš„æ•°å€¼æ ¼å¼åŒ–ï¼Œéœ€è¦åœ¨å­—ç¬¦ä¸²å‰ä½¿ç”¨fæ ‡è¯† 1234scala&gt; val setence2 = f"My age is $&#123;age + 1&#125;%.2f"setence2: String = My age is 3.00scala&gt; %.2fè¡¨ç¤ºå°†æ•°å€¼è¿›è¡Œå°æ•°ç‚¹å2ä½ç²¾åº¦ æ ¼å¼åŒ–ç¬¦å· æè¿° %c å­—ç¬¦ %d æ•´æ•° ä¸ %i ç›¸åŒ %e æŒ‡æ•°æµ®ç‚¹å‹ %f æµ®ç‚¹å‹ %i æ•´æ•° %o å…«è¿›åˆ¶ %s å­—ç¬¦ä¸² %u æ— ç¬¦å·æ•´å½¢ %x åå…­è¿›åˆ¶ %% æˆ–è€… \% è¾“å‡ºä¸€ä¸ªç™¾åˆ†å· 0x4 æ­£åˆ™è¡¨è¾¾å¼0x40 åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨å­—ç¬¦ä¸²æœ«å°¾ä½¿ç”¨.rå³è¡¨ç¤ºåˆ›å»ºçš„ä¸ºä¸€ä¸ªRegexå¯¹è±¡ï¼Œéšåå¯ä»¥ç”¨.findFirstInåŒ¹é…ç¬¬ä¸€ä¸ªï¼Œ.findAllInæ¥åŒ¹é…æ‰€æœ‰çš„ã€‚ ä¾‹å¦‚: 1234567891011121314scala&gt; var numPatten = "[0-9]+".rnumPatten: scala.util.matching.Regex = [0-9]+scala&gt; val str = "123 is not 321"str: String = 123 is not 321scala&gt; val match1 = numPatten.findFirstIn(str)match1: Option[String] = Some(123)scala&gt; numPatten.findAllIn(str).foreach(println)123321scala&gt; æˆ–è€…ï¼š 1234567scala&gt; import scala.util.matching.Regeximport scala.util.matching.Regexscala&gt; val pattern = new Regex("(S|s)cala")pattern: scala.util.matching.Regex = (S|s)calascala&gt; PS:å…³æ³¨ä¸‹è¿”å›ç±»å‹ ï¼ˆ1ï¼‰.findFirstIn è¿”å›çš„ä¸€ä¸ªæ˜¯Someç±»å‹çš„å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„è®¤ä¸ºSomeæ˜¯ä¸€ä¸ªå®¹å™¨ï¼ŒåŒ¹é…æˆåŠŸåˆ™è¿”å›æ•°å­—ï¼ŒåŒ¹é…ä¸æˆåŠŸå°±è¿”å›None 12345678910scala&gt; var numPatten = "[0-9]+".rnumPatten: scala.util.matching.Regex = [0-9]+scala&gt; val str = "not number"str: String = not numberscala&gt; val match1 = numPatten.findFirstIn(str)match1: Option[String] = Nonescala&gt; ï¼ˆ2ï¼‰.findAllInè¿”å›çš„æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå¯ä½¿ç”¨foreachæ–¹æ³•è¿›è¡Œéå†ï¼Œä¹Ÿå¯ä»¥å°†è¿­ä»£å™¨è½¬ä¸ºæ•°ç»„,ä¾‹å¦‚: 123456789101112scala&gt; var matchArr = numPatten.findAllIn(str).toArraymatchArr: Array[String] = Array(123, 321)scala&gt; for ( a &lt;- matchArr) println(a)123321scala&gt; matchArr.foreach(println)123321scala&gt; 0x41 å­—ç¬¦ä¸²æ›¿æ¢å¸¸è§„çš„æ›¿æ¢æ‰‹æ³•å­—ç¬¦ä¸²è°ƒç”¨æ–¹æ³•.replaceAll 1234567scala&gt; val str = "123 is not 321"str: String = 123 is not 321scala&gt; str.replaceAll("[1-9]+","sss")res12: String = sss is not sssscala&gt; ä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºå¯¹è±¡è°ƒç”¨æ–¹æ³• .replaceAllInåŠ.replaceFirstIn 123456789scala&gt; var numPatten = "[0-9]+".rscala&gt; val str = "123 is not 321"str: String = 123 is not 321scala&gt; numPatten.replaceAllIn(str,"sss")res13: String = sss is not sssscala&gt; 0x42 å­—ç¬¦ä¸²æŠ½å–æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨() è¡¨ç¤º åŒ¹é…çš„ç»„ï¼Œä¸å…¶ä»–ï¼ˆPerlã€Pythonè¡¨è¾¾å¼ç›¸åŒï¼‰ ä¾‹å¦‚ï¼š 12345678910111213scala&gt; import scala.util.matching.Regeximport scala.util.matching.Regexscala&gt; val numberPattern: Regex = "[0-9]".rnumberPattern: scala.util.matching.Regex = [0-9]scala&gt; numberPattern.findFirstMatchIn("awesomepassword") match &#123; | case Some(_) =&gt; println("Password OK") | case None =&gt; println("Password must contain a number") | &#125;Password must contain a numberscala&gt; 123456789101112131415161718192021222324scala&gt;import scala.util.matching.Regexscala&gt;val keyValPattern: Regex = "([0-9a-zA-Z-#() ]+): ([0-9a-zA-Z-#() ]+)".rscala&gt;val input: String = """background-color: #A03300; |background-image: url(img/header100.png); |background-position: top center; |background-repeat: repeat-x; |background-size: 2160px 108px; |margin: 0; |height: 108px; |width: 100%;""".stripMarginscala&gt;for (patternMatch &lt;- keyValPattern.findAllMatchIn(input)) | println(s"key: $&#123;patternMatch.group(1)&#125; value: $&#123;patternMatch.group(2)&#125;")key: background-color value: #A03300key: background-image value: url(imgkey: background-position value: top centerkey: background-repeat value: repeat-xkey: background-size value: 2160px 108pxkey: margin value: 0key: height value: 108pxkey: width value: 100scala&gt; æ›´å¤šæ›´è¯¦ç»†çš„å†…å®¹è¯·å‚è€ƒScalaä¹‹æ—…-æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼å’Œæå–å™¨å¯¹è±¡ï¼ˆEXTRACTOR OBJECTSï¼‰ 0x4E æ­£åˆ™è¡¨è¾¾å¼Scala çš„æ­£åˆ™è¡¨è¾¾å¼ç»§æ‰¿äº† Java çš„è¯­æ³•è§„åˆ™ï¼ŒJava åˆ™å¤§éƒ¨åˆ†ä½¿ç”¨äº† Perl è¯­è¨€çš„è§„åˆ™ã€‚ ä¸‹è¡¨æˆ‘ä»¬ç»™å‡ºäº†å¸¸ç”¨çš„ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼è§„åˆ™ï¼š è¡¨è¾¾å¼ åŒ¹é…è§„åˆ™ ^ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²å¼€å§‹çš„ä½ç½®ã€‚ $ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²ç»“å°¾çš„ä½ç½®ã€‚ . åŒ¹é…é™¤â€\r\nâ€ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚ [â€¦] å­—ç¬¦é›†ã€‚åŒ¹é…åŒ…å«çš„ä»»ä¸€å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€[abc]â€åŒ¹é…â€plainâ€ä¸­çš„â€aâ€ã€‚ ... åå‘å­—ç¬¦é›†ã€‚åŒ¹é…æœªåŒ…å«çš„ä»»ä½•å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€abcâ€œåŒ¹é…â€plainâ€ä¸­â€pâ€ï¼Œâ€lâ€ï¼Œâ€iâ€ï¼Œâ€nâ€ã€‚ \\A åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²å¼€å§‹çš„ä½ç½®ï¼ˆæ— å¤šè¡Œæ”¯æŒï¼‰ \\z å­—ç¬¦ä¸²ç»“å°¾(ç±»ä¼¼$ï¼Œä½†ä¸å—å¤„ç†å¤šè¡Œé€‰é¡¹çš„å½±å“) \\Z å­—ç¬¦ä¸²ç»“å°¾æˆ–è¡Œå°¾(ä¸å—å¤„ç†å¤šè¡Œé€‰é¡¹çš„å½±å“) re* é‡å¤é›¶æ¬¡æˆ–æ›´å¤šæ¬¡ re+ é‡å¤ä¸€æ¬¡æˆ–æ›´å¤šæ¬¡ re? é‡å¤é›¶æ¬¡æˆ–ä¸€æ¬¡ re{ n} é‡å¤næ¬¡ re{ n,} re{ n, m} é‡å¤nåˆ°mæ¬¡ a\ b åŒ¹é… a æˆ–è€… b (re) åŒ¹é… re,å¹¶æ•è·æ–‡æœ¬åˆ°è‡ªåŠ¨å‘½åçš„ç»„é‡Œ (?: re) åŒ¹é… re,ä¸æ•è·åŒ¹é…çš„æ–‡æœ¬ï¼Œä¹Ÿä¸ç»™æ­¤åˆ†ç»„åˆ†é…ç»„å· (?&gt; re) è´ªå©ªå­è¡¨è¾¾å¼ \\w åŒ¹é…å­—æ¯æˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿æˆ–æ±‰å­— \\W åŒ¹é…ä»»æ„ä¸æ˜¯å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œæ±‰å­—çš„å­—ç¬¦ \\s åŒ¹é…ä»»æ„çš„ç©ºç™½ç¬¦,ç›¸ç­‰äº [\t\n\r\f] \\S åŒ¹é…ä»»æ„ä¸æ˜¯ç©ºç™½ç¬¦çš„å­—ç¬¦ \\d åŒ¹é…æ•°å­—ï¼Œç±»ä¼¼ [0-9] \\D åŒ¹é…ä»»æ„éæ•°å­—çš„å­—ç¬¦ \\G å½“å‰æœç´¢çš„å¼€å¤´ \\n æ¢è¡Œç¬¦ \\b é€šå¸¸æ˜¯å•è¯åˆ†ç•Œä½ç½®ï¼Œä½†å¦‚æœåœ¨å­—ç¬¦ç±»é‡Œä½¿ç”¨ä»£è¡¨é€€æ ¼ \\B åŒ¹é…ä¸æ˜¯å•è¯å¼€å¤´æˆ–ç»“æŸçš„ä½ç½® \\t åˆ¶è¡¨ç¬¦ \\Q å¼€å§‹å¼•å·ï¼š\Q(a+b)*3\E å¯åŒ¹é…æ–‡æœ¬ â€œ(a+b)*3â€ã€‚ \\E ç»“æŸå¼•å·ï¼š\Q(a+b)*3\E å¯åŒ¹é…æ–‡æœ¬ â€œ(a+b)*3â€ã€‚ 0x4F æ­£åˆ™è¡¨è¾¾å¼å®ä¾‹ å®ä¾‹ æè¿° . åŒ¹é…é™¤â€\r\nâ€ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚ [Rr]uby åŒ¹é… â€œRubyâ€ æˆ– â€œrubyâ€ rub[ye] åŒ¹é… â€œrubyâ€ æˆ– â€œrubeâ€ [aeiou] åŒ¹é…å°å†™å­—æ¯ ï¼šaeiou [0-9] åŒ¹é…ä»»ä½•æ•°å­—ï¼Œç±»ä¼¼ [0123456789] [a-z] åŒ¹é…ä»»ä½• ASCII å°å†™å­—æ¯ [A-Z] åŒ¹é…ä»»ä½• ASCII å¤§å†™å­—æ¯ [a-zA-Z0-9] åŒ¹é…æ•°å­—ï¼Œå¤§å°å†™å­—æ¯ aeiou åŒ¹é…é™¤äº† aeiou å…¶ä»–å­—ç¬¦ 0-9 åŒ¹é…é™¤äº†æ•°å­—çš„å…¶ä»–å­—ç¬¦ \\d åŒ¹é…æ•°å­—ï¼Œç±»ä¼¼: [0-9] \\D åŒ¹é…éæ•°å­—ï¼Œç±»ä¼¼: 0-9 \\s åŒ¹é…ç©ºæ ¼ï¼Œç±»ä¼¼: [ \t\r\n\f] \\S åŒ¹é…éç©ºæ ¼ï¼Œç±»ä¼¼: \t\r\n\f \\w åŒ¹é…å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œç±»ä¼¼: [A-Za-z0-9_] \\W åŒ¹é…éå­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œç±»ä¼¼: A-Za-z0-9_ ruby? åŒ¹é… â€œrubâ€ æˆ– â€œrubyâ€: y æ˜¯å¯é€‰çš„ ruby* åŒ¹é… â€œrubâ€ åŠ ä¸Š 0 ä¸ªæˆ–å¤šä¸ªçš„ yã€‚ ruby+ åŒ¹é… â€œrubâ€ åŠ ä¸Š 1 ä¸ªæˆ–å¤šä¸ªçš„ yã€‚ \\d{3} åˆšå¥½åŒ¹é… 3 ä¸ªæ•°å­—ã€‚ \\d{3,} åŒ¹é… 3 ä¸ªæˆ–å¤šä¸ªæ•°å­—ã€‚ \\d{3,5} åŒ¹é… 3 ä¸ªã€4 ä¸ªæˆ– 5 ä¸ªæ•°å­—ã€‚ \\D\\d+ æ— åˆ†ç»„ï¼š + é‡å¤ \d (\\D\\d)+/ åˆ†ç»„ï¼š + é‡å¤ \D\d å¯¹ ([Rr]uby(, )?)+ åŒ¹é… â€œRubyâ€ã€â€Ruby, ruby, rubyâ€ï¼Œç­‰ç­‰ 0x5 è‡ªå®šä¹‰æ–¹æ³•&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨Javaä¸­é€šå¸¸æˆ‘ä»¬æ˜¯å»ºç«‹ç±»ä¼¼StringUtilsè¿™ç§çš„é€šç”¨ç±»åº“ï¼Œæƒ³è¦åœ¨Stringç±»ä¸­å¢åŠ ä¸€äº›è‡ªå®šä¹‰çš„æ–¹æ³•è¦æ€ä¹ˆåšï¼ŸJavaä¸­æ˜¯æ— æ³•åŠåˆ°çš„ï¼Œåœ¨Scala 2.1.0ä¸­å¯ä»¥å®šä¹‰éšå¼è½¬æ¢çš„ç±»ï¼Œåœ¨è¿™ä¸ªç±»ä¸­å®šä¹‰è‡ªå·±çš„æ–¹æ³•æ¥å®ç°æœŸæœ›çš„åŠŸèƒ½ã€‚ 123456789scala&gt; implicit class StringImprovement(s:String) &#123; | def increment = s.map(c =&gt; (c.toByte + 1).toChar) | &#125;defined class StringImprovementscala&gt; "abc".incrementres16: String = bcdscala&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ‰€ä»¥ä»»åŠ¡Stringè°ƒç”¨çš„æ–¹æ³•éƒ½ä¸å¥‡æ€ªï¼Œå¯èƒ½æŸå¤„å¼•ç”¨çš„åŒ…ä¸­å®šä¹‰äº†æŸä¸ªéšå¼è½¬æ¢çš„ç±»åŠè‡ªå®šä¹‰æ–¹æ³•ã€‚åœ¨Scala2.1.0ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè‹¥æƒ³è¦å®ç°è¿™æ ·çš„åŠŸèƒ½ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªéšå¼è½¬æ¢çš„æ–¹æ³•ï¼š 12345678910111213scala&gt; class StringImprovement(s:String) &#123; | def increment = s.map(c =&gt; (c.toByte + 1).toChar) | &#125;defined class StringImprovementscala&gt; implicit def stringToString(s:String) = new StringImprovement(s)warning: there was one feature warning; re-run with -feature for detailsstringToString: (s: String)StringImprovementscala&gt; "abc".incrementres0: String = bcdscala&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚ä½ æ‰€è§ï¼Œåœ¨Scalaä¸­å¯ä»¥åˆ›å»ºä¸€ä¸ªéšå¼è½¬æ¢çš„ç±»ï¼Œå°†ä»–ä»¬å¼•å…¥éœ€è¦çš„èŒƒå›´ä¸­å»ï¼Œè€Œä¸éœ€è¦è¿›è¡Œç»§æ‰¿ï¼Œå®šä¹‰ä¸€ä¸ªMyXxxxçš„æ–°ç±»ã€‚&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸‹é¢ç®€è¦æè¿°ä¸‹å…¶å·¥ä½œåŸç†ï¼š ç¼–è¯‘å™¨æ‰¾åˆ°â€abcâ€çš„å­—ç¬¦ä¸²å¸¸é‡ ç¼–è¯‘å™¨å‘ç°è¦åœ¨Stringè°ƒç”¨incrementæ–¹æ³• å› ä¸ºStringç±»ä¸­æ²¡æœ‰incrementæ–¹æ³•ï¼Œå®ƒå¼€å§‹åœ¨å½“å‰èŒƒå›´å†…æœç´¢ä¸€ä¸ªæ¥å—Stringä½œä¸ºå‚æ•°çš„éšå¼è½¬æ¢ã€‚ å¦‚æ­¤ç¼–è¯‘å™¨ä¼šæ‰¾åˆ°StringImprovementç±»ï¼Œåœ¨è¿™ä¸ªç±»ä¸­æ‰¾åˆ°äº†incrementæ–¹æ³•]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x0 å¼€å‘è¯­è¨€</category>
        <category>1x01 ä¸€èµ·æ¥å­¦Scala</category>
      </categories>
      <tags>
        <tag>Scala</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€èµ·æ¥å­¦Scala(2)-åŸºæœ¬ç±»å‹]]></title>
    <url>%2F2019%2F01%2F09%2Fscala-programing-basictype%2F</url>
    <content type="text"><![CDATA[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸Šæ–‡ä¸­å·²ç»ä»‹ç»äº†Scalaè¯­è¨€çš„å…¥é—¨æ¦‚è¦ï¼Œæœ¬æ–‡å°†ä»‹ç»Scalaçš„åŸºæœ¬è¯­æ³•ï¼ŒScalaä¸­æœ‰å˜é‡ã€å¯¹è±¡ã€ç±»ã€æ–¹æ³•ï¼Œåœ¨é¢å‘å¯¹è±¡æ–¹é¢Scalaä¸Javaå¾ˆåƒï¼Œåœ¨ä»£ç ç¼–å†™é£æ ¼ä¸Pythonåˆå¾ˆåƒï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå¤§å®¶ä¹Ÿä¼šç¢°åˆ°ä¸€äº›æœªæ›¾æ¥è§¦çš„è¯­æ³•ï¼Œä¾‹å¦‚ _ . ç­‰ï¼Œæœ¬æ–‡å°†é€æ­¥ä»‹ç»è¿™äº›æ¦‚å¿µã€‚ 0x0 åŸºæœ¬ç±»å‹&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬äº†è§£Scalaä¸­æœ‰å“ªäº›åŸºæœ¬ç±»å‹ï¼š æ•°æ®ç±»å‹ æè¿° Byte 8ä½æœ‰ç¬¦å·è¡¥ç æ•´æ•°ã€‚æ•°å€¼åŒºé—´ä¸º -128 åˆ° 127 Short 16ä½æœ‰ç¬¦å·è¡¥ç æ•´æ•°ã€‚æ•°å€¼åŒºé—´ä¸º -32768 åˆ° 32767 Int 32ä½æœ‰ç¬¦å·è¡¥ç æ•´æ•°ã€‚æ•°å€¼åŒºé—´ä¸º -2147483648 åˆ° 2147483647 Long 64ä½æœ‰ç¬¦å·è¡¥ç æ•´æ•°ã€‚æ•°å€¼åŒºé—´ä¸º -9223372036854775808 åˆ° 9223372036854775807 Float 32 ä½, IEEE 754 æ ‡å‡†çš„å•ç²¾åº¦æµ®ç‚¹æ•° Double 64 ä½ IEEE 754 æ ‡å‡†çš„åŒç²¾åº¦æµ®ç‚¹æ•° Char 16ä½æ— ç¬¦å·Unicodeå­—ç¬¦, åŒºé—´å€¼ä¸º U+0000 åˆ° U+FFFF String å­—ç¬¦åºåˆ— Boolean trueæˆ–false Unit è¡¨ç¤ºæ— å€¼ï¼Œå’Œå…¶ä»–è¯­è¨€ä¸­voidç­‰åŒã€‚ç”¨ä½œä¸è¿”å›ä»»ä½•ç»“æœçš„æ–¹æ³•çš„ç»“æœç±»å‹ã€‚Unitåªæœ‰ä¸€ä¸ªå®ä¾‹å€¼ï¼Œå†™æˆ()ã€‚ Null null æˆ–ç©ºå¼•ç”¨ Nothing Nothingç±»å‹åœ¨Scalaçš„ç±»å±‚çº§çš„æœ€ä½ç«¯ï¼›å®ƒæ˜¯ä»»ä½•å…¶ä»–ç±»å‹çš„å­ç±»å‹ã€‚ Any Anyæ˜¯æ‰€æœ‰å…¶ä»–ç±»çš„è¶…ç±» AnyRef AnyRefç±»æ˜¯Scalaé‡Œæ‰€æœ‰å¼•ç”¨ç±»(reference class)çš„åŸºç±» (æ‘˜è‡ªScalaåŸºæœ¬ç±»å‹) ä¸‹å›¾å±•ç¤ºäº†åŸºæœ¬ç±»å‹ä¹‹é—´çš„æ‹“æ‰‘å…³ç³»å›¾ï¼ŒScalaä¸­ä¸€åˆ‡çš†å¯¹è±¡ï¼š 12val str:String = "Hello Scala"var i:Int = 10 ä¸Šè¿°å®ä¾‹ä¸­å£°æ˜äº†å˜é‡strç±»å‹æ˜¯Stringå‹ï¼Œå˜é‡å€¼ä¸ºâ€Hello Scalaâ€å½“ä¸ºå˜é‡åˆ†é…åˆå§‹å€¼æ—¶ï¼ŒScalaç¼–è¯‘å™¨å¯ä»¥æ ¹æ®åˆ†é…ç»™å®ƒçš„å€¼æ¥æ¨æ–­å˜é‡çš„ç±»å‹ã€‚è¿™è¢«ç§°ä¸ºå˜é‡ç±»å‹æ¨æ–­ã€‚ å› æ­¤ï¼Œå¯ä»¥ç¼–å†™è¿™æ ·çš„å˜é‡å£°æ˜ 12val str = "Hello Scala"var i = 10 0x1 å£°æ˜å˜é‡0x10 å£°æ˜å…³é”®å­—: val,var&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val ç”¨äºå®šä¹‰å¸¸é‡ï¼Œç›¸å½“äºJavaä¸­ä½¿ç”¨finalå®šä¹‰ä¸€æ ·ï¼Œval æ˜¯valueçš„ç¼©å†™&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var ç”¨äºå®šä¹‰å˜é‡ï¼Œval æ˜¯variableçš„ç¼©å†™&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨Scalaè¯­è¨€ä¸­ï¼Œä½¿ç”¨valå®šä¹‰çš„å˜é‡ï¼Œæ˜¯ä¸èƒ½å¤Ÿé‡æ–°èµ‹å€¼çš„ï¼Œè€Œvarå®šä¹‰çš„å˜é‡æ˜¯å¯ä»¥é‡æ–°è¿›è¡Œèµ‹å€¼ 12345678scala&gt; val str = "Hello World"str: String = Hello Worldscala&gt; str = "Hello Scala"&lt;console&gt;:12: error: reassignment to val str = "Hello Scala" ^scala&gt; 1234567scala&gt; var str = "Hello World"str: String = Hello Worldscala&gt; str = "Hello Scala"str: String = Hello Scalascala&gt; 0x11 å¤šä¸ªèµ‹å€¼&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Scalaæ”¯æŒå¤šä¸ªèµ‹å€¼ã€‚å¦‚æœä»£ç å—æˆ–æ–¹æ³•è¿”å›ä¸€ä¸ªå…ƒç»„(Tuple - ä¿æŒä¸åŒç±»å‹çš„å¯¹è±¡çš„é›†åˆ)ï¼Œåˆ™å¯ä»¥å°†å…ƒç»„åˆ†é…ç»™ä¸€ä¸ªvalå˜é‡ã€‚ æ³¨ï¼šæˆ‘ä»¬å°†åœ¨éšåçš„ç« èŠ‚å­¦ä¹ å…ƒç»„ã€‚ 12val (myVar1: Int, myVar2: String) = Pair(40, "Foo")Scala ç±»å‹æ¨æ–­å¾—åˆ°æ­£ç¡®çš„ç±»å‹ - 1val (myVar1, myVar2) = Pair(40, "Foo") 0x2 å˜é‡çš„ä½œç”¨åŸŸ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Scalaä¸­å˜é‡åŒå…¶ä»–è¯­è¨€ç±»ä¼¼ï¼Œæœ‰ä¸åŒçš„ä½œç”¨åŸŸï¼Œå…·ä½“å–å†³äºå®ƒä»¬è¢«ä½¿ç”¨çš„ä½ç½®ã€‚å®ƒä»¬å¯ä»¥ä½œä¸ºå­—æ®µå­˜åœ¨ï¼Œä½œä¸ºæ–¹æ³•å‚æ•°å’Œå±€éƒ¨å˜é‡å­˜åœ¨ã€‚ä»¥ä¸‹æ˜¯æ¯ç§ç±»å‹èŒƒå›´çš„è¯¦ç»†ä¿¡æ¯ã€‚ 0x20 å­—æ®µ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å£°æ˜ä¸ºå¯¹è±¡ä¸­çš„å­—æ®µä¿¡æ¯ï¼Œé‚£ä¹ˆæ ¹æ®éœ€è¦å¯ä½¿ç”¨valæˆ–è€…varï¼Œå¯¹è±¡ä¸­çš„å­—æ®µå¯ä»¥è¢«å¯¹è±¡ä¸­å…¶ä»–æ–¹æ³•è®¿é—®ï¼Œé…åˆè®¿é—®ä¿®é¥°ç¬¦ï¼Œå¯ä»¥è®¾ç½®å¤–éƒ¨å˜é‡æˆ–è€…å¯¹è±¡è®¿é—® 0x21 æ–¹æ³•å‚æ•°&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ–¹æ³•æˆ–å‡½æ•°å…¥å‚éƒ½æ˜¯å¸¸é‡ï¼Œæ‰€ä»¥å®šä¹‰å‡½æ•°æ—¶éƒ½æ˜¯ä½¿ç”¨valå…³é”®å­—å®šä¹‰ï¼Œæ–¹æ³•çš„å‚æ•°æ˜¯ä¸å¯å˜çš„ã€‚ 0x22 å±€éƒ¨å˜é‡&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å±€éƒ¨å˜é‡æ˜¯åœ¨æ–¹æ³•ä¸­å£°æ˜çš„å˜é‡ã€‚å±€éƒ¨å˜é‡åªèƒ½ä»æ–¹æ³•å†…éƒ¨è®¿é—®ï¼Œä½†å¦‚æœä»æ–¹æ³•è¿”å›ï¼Œåˆ™æ‚¨åˆ›å»ºçš„å¯¹è±¡å¯èƒ½ä¼šè½¬ä¹‰è¯¥æ–¹æ³•ã€‚å±€éƒ¨å˜é‡å¯ä»¥æ˜¯å¯å˜çš„å’Œä¸å¯å˜çš„ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨varæˆ–valå®šä¹‰ã€‚ 0xF æ€»ç»“&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ¬æ–‡ä¸»è¦ä»‹ç»äº†Scalaä¸­åŸºæœ¬æ•°æ®ç±»å‹åŠå˜é‡çš„å£°æ˜æ–¹æ³•ï¼Œæ ¹æ®éœ€è¦é€‰æ‹©åˆé€‚çš„å…³é”®å­—è¿›è¡Œå˜é‡å®šä¹‰ã€‚var ä¿®é¥°çš„å¯¹è±¡å¼•ç”¨å¯ä»¥æ”¹å˜ï¼Œvalä¿®é¥°çš„åˆ™ä¸å¯æ”¹å˜ï¼Œä½†å¯¹è±¡çš„çŠ¶æ€å´æ˜¯å¯ä»¥æ”¹å˜çš„ï¼Œå³è¡¨ç¤ºå¯¹äºä¸€ä¸ªå¯¹è±¡ï¼Œé€šè¿‡ val åˆå§‹åŒ–å¯¹è±¡åï¼Œè¯¥å¯¹è±¡æ˜¯ä¸èƒ½å¤Ÿæ”¹å˜çš„ï¼Œä½†æ˜¯å¦‚æœå¯¹è±¡ä¸­æœ‰varå£°æ˜çš„å­—æ®µï¼Œé‚£ä¹ˆæ˜¯å¯ä»¥ä¿®æ”¹å¯¹è±¡å­—æ®µå€¼ï¼Œå®ç°å¯¹è±¡çŠ¶æ€çš„æ”¹å˜ã€‚ 123456789101112131415161718192021class A(n: Int) &#123; var value = n&#125;class B(n: Int) &#123; val value = new A(n)&#125;object Test &#123; def main(args: Array[String]) &#123; val x = new B(5) x = new B(6) // é”™è¯¯ï¼Œå› ä¸º x ä¸º val ä¿®é¥°çš„ï¼Œå¼•ç”¨ä¸å¯æ”¹å˜ x.value = new A(6) // é”™è¯¯ï¼Œå› ä¸º x.value ä¸º val ä¿®é¥°çš„ï¼Œå¼•ç”¨ä¸å¯æ”¹å˜ x.value.value = 6 // æ­£ç¡®ï¼Œx.value.value ä¸ºvar ä¿®é¥°çš„ï¼Œå¯ä»¥é‡æ–°èµ‹å€¼ &#125;&#125;// --------------------- // ä½œè€…ï¼šGuaKin_Huang // æ¥æºï¼šCSDN // åŸæ–‡ï¼šhttps://blog.csdn.net/a1234h/article/details/77962536 // ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œè½¬è½½è¯·é™„ä¸Šåšæ–‡é“¾æ¥ï¼]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x0 å¼€å‘è¯­è¨€</category>
        <category>1x01 ä¸€èµ·æ¥å­¦Scala</category>
      </categories>
      <tags>
        <tag>Scala</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¸ç”¨çš„ä¸€äº›SQLè¯­å¥]]></title>
    <url>%2F2019%2F01%2F09%2Fuseful-sql%2F</url>
    <content type="text"><![CDATA[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®é™…å·¥ä½œè¿‡ç¨‹ä¸­ï¼Œç»å¸¸ç”¨çš„å‡ ä¸ªSQLï¼Œå¸¸å¸¸å› ä¸ºæŸäº›å…³é”®å­—å¿˜è®°ï¼Œä»è€Œç»å¸¸éœ€è¦æ‰¾å·¥å…·ä¹¦æˆ–è€…ä¹‹å‰åšçš„å·¥ç¨‹ï¼Œæœ¬æ–‡å°†è‡ªå·±å·¥ä½œä¸­å¸¸å¸¸å®¹æ˜“å¿˜è®°çš„SQLæ•´ç†å‡ºæ¥ï¼Œæ–¹ä¾¿ç›´æ¥å®šä½ã€‚ 0x0 å»ºè¡¨DDL(æŒ‡å®šåˆ†éš”ç¬¦ã€åˆ†åŒº)12345678910create table dim.dim_sms_rate_standard( contry_code string comment 'å›½å®¶ç ' ,contry_en_name string comment 'å›½å®¶è‹±æ–‡å' ,contry_brief_name string comment 'å›½å®¶ç®€ç ' ,sms_price float comment 'çŸ­ä¿¡å•ä»·')row format delimited fields terminated by '\t'partition(dt string comment 'æ—¥æœŸ'); 0x1 è®¾ç½®å‹ç¼©æ ¼å¼12set hive.exec.compress.output=true;set mapred.output.compression.codec=com.hadoop.compression.lzo.LzopCodec; 0x2 æŸ¥çœ‹å¤–è¡¨åˆ†åŒºè·¯å¾„1desc formatted dim.dim_sms_rate_standard partition(dt='2019-01-08'); 0x3 åŠ¨æ€åˆ†åŒº1234set hive.exec.dynamic.partition=true;set hive.exec.dynamic.partition.mode=nonstrict; SET hive.exec.max.dynamic.partitions=100000;SET hive.exec.max.dynamic.partitions.pernode=100000; 0xF æœªå®Œå¾…ç»­]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x2 æŠ€æœ¯å¹³å°</category>
        <category>1x21 Hive</category>
      </categories>
      <tags>
        <tag>Hive</tag>
        <tag>SQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€èµ·æ¥å­¦Scala(1)-å…¥é—¨æ¦‚è¦]]></title>
    <url>%2F2019%2F01%2F07%2Fscala-programing-brief%2F</url>
    <content type="text"><![CDATA[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸ºä»€ä¹ˆè¦å­¦Scalaï¼ŸScalaæ˜¯å¤§æ•°æ®åˆ†æå¹³å°Sparkã€Flink å®˜æ–¹æ”¯æŒçš„è¯­è¨€ï¼Œåœ¨å­¦ä¹ Sparkå’ŒFlinkä¹‹å‰ï¼Œéœ€è¦å­¦å¥½ScalaåŸºç¡€ã€‚ScalaåŒæ ·æ˜¯ä¸€é—¨å½“å‰çƒ­é—¨çš„è¯­è¨€ï¼ŒKafkaã€Sparkå‡ç”±Scalaå¼€å‘ï¼Œç”±æ­¤å­¦ä¹ Scalaæ˜¯å­¦ä¹ è¿™äº›å¹³å°æ¯”ä¸å¯å°‘çš„æ­¥éª¤ã€‚ 0x0 ScalaåŸºæœ¬å®šä¹‰Scala æ˜¯ä¸€é—¨å¤šèŒƒå¼ï¼ˆmulti-paradigmï¼‰çš„ç¼–ç¨‹è¯­è¨€ï¼Œè®¾è®¡åˆè¡·æ˜¯è¦é›†æˆé¢å‘å¯¹è±¡ç¼–ç¨‹å’Œå‡½æ•°å¼ç¼–ç¨‹çš„å„ç§ç‰¹æ€§ã€‚Scala è¿è¡Œåœ¨Javaè™šæ‹Ÿæœºä¸Šï¼Œå¹¶å…¼å®¹ç°æœ‰çš„Javaç¨‹åºã€‚Scala æºä»£ç è¢«ç¼–è¯‘æˆJavaå­—èŠ‚ç ï¼Œæ‰€ä»¥å®ƒå¯ä»¥è¿è¡ŒäºJVMä¹‹ä¸Šï¼Œå¹¶å¯ä»¥è°ƒç”¨ç°æœ‰çš„Javaç±»åº“ï¼Œç”±è€ŒJavaåŒæ ·å¯ä»¥è°ƒç”¨Scalaçš„ç±»åº“ã€‚Scalaè¯­è¨€ ä½¿ç”¨ JDK &amp; Scala SDK 0x1 Scalaçš„è¿è¡Œæ–¹å¼å¼€å‘Scalaç¨‹åºä¹‹å‰éœ€è¦å®‰è£…Scala 0x10 è„šæœ¬è¿è¡ŒScalaä¹Ÿæ˜¯ä¸€ç§è„šæœ¬å¼è¯­è¨€ï¼Œå¯ä»¥å°†Scalaç¨‹åºå†™å…¥ä¸€ä¸ªè„šæœ¬ï¼Œç›´æ¥æ‰§è¡Œ å¦‚ä¸‹æ˜¯ç¬¬ä¸€ä¸ª Scalaç¨‹åº:HelloWorld.scala 12345object HelloWorld&#123; def main(args:Array[String])&#123; println("Hello World") &#125;&#125; ä½¿ç”¨å‘½ä»¤: 12~$:scala HelloWorld.scalaHello World 0x11 ç¼–è¯‘æ‰§è¡Œ12345~$:scalac HelloWorld.scala# å°†ä¼šå¾—åˆ°å¦‚ä¸‹ä¸¤ä¸ª classæ–‡ä»¶ï¼Œå³ä¸º Javaå­—èŠ‚ç HewlloWorld$.classHewlloWorld.class æ‰§è¡Œæ–¹å¼ä¸æ‰§è¡Œjavaclassç±»åŒ 12~$:scala HelloWorldHello World 0xF æ€»ç»“Scala çš„è¯­æ³•ç›¸å¯¹Pythonè€Œè¨€æ˜¯æ¯”è¾ƒæ™¦æ¶©ï¼Œåç»­å°½é‡ä»¥ç®€å•æ¸…æ™°çš„å®ä¾‹ï¼Œä»è€Œè¾¾åˆ°æ›´å¥½çš„æ•ˆæœã€‚]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x0 å¼€å‘è¯­è¨€</category>
        <category>1x01 ä¸€èµ·æ¥å­¦Scala</category>
      </categories>
      <tags>
        <tag>Scala</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[awkçš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•]]></title>
    <url>%2F2019%2F01%2F06%2Fawk-basic%2F</url>
    <content type="text"><![CDATA[0x0 ç®€ä»‹&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awkæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬åˆ†æå·¥å…·ï¼Œç›¸å¯¹äºgrepçš„æŸ¥æ‰¾ï¼Œsedçš„ç¼–è¾‘ï¼Œawkåœ¨å…¶å¯¹æ•°æ®åˆ†æå¹¶ç”ŸæˆæŠ¥å‘Šæ—¶ï¼Œæ˜¾å¾—å°¤ä¸ºå¼ºå¤§ã€‚ç®€å•æ¥è¯´awkå°±æ˜¯æŠŠæ–‡ä»¶é€è¡Œçš„è¯»å…¥ï¼Œä»¥ç©ºæ ¼ä¸ºé»˜è®¤åˆ†éš”ç¬¦å°†æ¯è¡Œåˆ‡ç‰‡ï¼Œåˆ‡å¼€çš„éƒ¨åˆ†å†è¿›è¡Œå„ç§åˆ†æå¤„ç†ã€‚&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awkæœ‰3ä¸ªä¸åŒç‰ˆæœ¬: awkã€nawkå’Œgawkï¼Œæœªä½œç‰¹åˆ«è¯´æ˜ï¼Œä¸€èˆ¬æŒ‡gawkï¼Œgawk æ˜¯ AWK çš„ GNU ç‰ˆæœ¬ã€‚&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awkå…¶åç§°å¾—è‡ªäºå®ƒçš„åˆ›å§‹äºº Alfred Aho ã€Peter Weinberger å’Œ Brian Kernighan å§“æ°çš„é¦–ä¸ªå­—æ¯ã€‚å®é™…ä¸Š AWK çš„ç¡®æ‹¥æœ‰è‡ªå·±çš„è¯­è¨€ï¼š AWK ç¨‹åºè®¾è®¡è¯­è¨€ ï¼Œ ä¸‰ä½åˆ›å»ºè€…å·²å°†å®ƒæ­£å¼å®šä¹‰ä¸ºâ€œæ ·å¼æ‰«æå’Œå¤„ç†è¯­è¨€â€ã€‚å®ƒå…è®¸æ‚¨åˆ›å»ºç®€çŸ­çš„ç¨‹åºï¼Œè¿™äº›ç¨‹åºè¯»å–è¾“å…¥æ–‡ä»¶ã€ä¸ºæ•°æ®æ’åºã€å¤„ç†æ•°æ®ã€å¯¹è¾“å…¥æ‰§è¡Œè®¡ç®—ä»¥åŠç”ŸæˆæŠ¥è¡¨ï¼Œè¿˜æœ‰æ— æ•°å…¶ä»–çš„åŠŸèƒ½ã€‚ 0x1 ä½¿ç”¨æ–¹æ³•1awk '&#123;pattern + action&#125;' &#123;filenames&#125; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šå¸¸ï¼Œawkæ˜¯ä»¥æ–‡ä»¶çš„ä¸€è¡Œä¸ºå¤„ç†å•ä½çš„ã€‚awkæ¯æ¥æ”¶æ–‡ä»¶çš„ä¸€è¡Œï¼Œç„¶åæ‰§è¡Œç›¸åº”çš„å‘½ä»¤ï¼Œæ¥å¤„ç†æ–‡æœ¬ã€‚awk æœ‰å¦‚ä¸‹ä¸‰ç§ä½¿ç”¨æ–¹å¼ 0x10 å‘½ä»¤è¡Œæ–¹å¼awk [-F field-separatir] 'commands' input-file 1awk [-F field-separatir] 'commands' input-file æ­¤ç§æ–¹å¼ä¸ºæœ€å¸¸ç”¨çš„ä¸€ç§æ–¹å¼ï¼Œ-F æ˜¯å°†æ–‡ä»¶æŒ‰æŒ‡å®šåˆ†éš”ç¬¦è¿›è¡Œåˆ‡å‰²ã€‚ 0x11 shellè„šæœ¬æ–¹å¼å°†æ‰€æœ‰çš„awkå‘½ä»¤æ’å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä½¿awkç¨‹åºå¯æ‰§è¡Œï¼Œç„¶åawkå‘½ä»¤è§£é‡Šå™¨ä½œä¸ºè„šæœ¬çš„é¦–è¡Œï¼Œä¸€éé€šè¿‡é”®å…¥è„šæœ¬åç§°æ¥è°ƒç”¨ã€‚ç›¸å½“äºshellè„šæœ¬é¦–è¡Œçš„ï¼š#!/bin/shå¯ä»¥æ¢æˆï¼š#!/bin/awk 0x12 å°†æ‰€æœ‰çš„awkå‘½ä»¤æ’å…¥ä¸€ä¸ªå•ç‹¬æ–‡ä»¶ï¼Œç„¶åè°ƒç”¨ï¼š1awk -f awk-script-file input-file(s) å…¶ä¸­ï¼Œ-fé€‰é¡¹åŠ è½½awk-script-fileä¸­çš„awkè„šæœ¬ï¼Œinput-file(s)è·Ÿä¸Šé¢çš„æ˜¯ä¸€æ ·çš„ã€‚ 0x2 å…¥é—¨å®ä¾‹0x20 åˆ†éš”ç¬¦ä¾‹å¦‚ï¼ša.txt 121 2 31 2 3 awk é»˜è®¤æ”¯æŒåˆ†éš”ç¬¦ï¼Œä¾‹å¦‚ ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦ï¼Œå¦‚ä¸‹ä¸¤ç§æ–¹å¼ç­‰ä»· 12awk -F&apos; &apos; &apos;&#123;print $1&#125;&apos; a.txtawk &apos;&#123;print $1&#125;&apos; a.txt $0å˜é‡æ˜¯æŒ‡æ•´æ¡è®°å½•ã€‚$1è¡¨ç¤ºå½“å‰è¡Œçš„ç¬¬ä¸€ä¸ªåŸŸ,$2è¡¨ç¤ºå½“å‰è¡Œçš„ç¬¬äºŒä¸ªåŸŸ,â€¦â€¦ä»¥æ­¤ç±»æ¨ã€‚ ä¾‹å¦‚ï¼š b.txt 121,2,33,4,5 123awk -F&apos;,&apos; &apos;&#123;print $1&#125;&apos;13 0x21 BEGIN &amp; END123456789cat /etc/passwd \|awk -F ':' 'BEGIN &#123;print "name,shell"&#125; &#123;print $1","$7&#125; END &#123;print "blue,/bin/nosh"&#125;'name,shellroot,/bin/bashdaemon,/bin/shbin,/bin/shsys,/bin/sh....blue,/bin/nosh BEGIN æ˜¯åœ¨å¤„ç†æ•°æ®è¡Œä¹‹å‰è¿›è¡Œçš„æ“ä½œ END åˆ™æ˜¯åœ¨æ•°æ®è¡Œå¤„ç†ä¹‹åè¿›è¡Œçš„æ“ä½œ ä¾‹å¦‚ï¼šc.txt æ±‚ç¬¬ä¸€åˆ—çš„æ€»å’Œ 12341,2,33,4,54,5,67,8,9 å‘½ä»¤å¦‚ä¸‹ï¼š 1awk -F',' 'BEGIN &#123;sum=0&#125; sum+=$1 END &#123;print "sum = "sum&#125;' BEGIN å£°æ˜ä¸€ä¸ªsum åˆå§‹åŒ–å€¼ä¸º0 çš„å˜é‡ï¼ŒEND å°†å˜é‡è¾“å‡º 0x3 awkå†…ç½®å˜é‡1234567891011ARGC å‘½ä»¤è¡Œå‚æ•°ä¸ªæ•°ARGV å‘½ä»¤è¡Œå‚æ•°æ’åˆ—ENVIRON æ”¯æŒé˜Ÿåˆ—ä¸­ç³»ç»Ÿç¯å¢ƒå˜é‡çš„ä½¿ç”¨FILENAME awkæµè§ˆçš„æ–‡ä»¶åFNR æµè§ˆæ–‡ä»¶çš„è®°å½•æ•°FS è®¾ç½®è¾“å…¥åŸŸåˆ†éš”ç¬¦ï¼Œç­‰ä»·äºå‘½ä»¤è¡Œ -Fé€‰é¡¹NF æµè§ˆè®°å½•çš„åŸŸçš„ä¸ªæ•°NR å·²è¯»çš„è®°å½•æ•°OFS è¾“å‡ºåŸŸåˆ†éš”ç¬¦ORS è¾“å‡ºè®°å½•åˆ†éš”ç¬¦RS æ§åˆ¶è®°å½•åˆ†éš”ç¬¦ 0x4 awk ç¼–ç¨‹awk å¯åœ¨å†…éƒ¨å®ç°ä¸°å¯Œçš„ç¼–ç¨‹ æ¡ä»¶è¯­å¥ awkä¸­çš„æ¡ä»¶è¯­å¥æ˜¯ä»Cè¯­è¨€ä¸­å€Ÿé‰´æ¥çš„ï¼Œè§å¦‚ä¸‹å£°æ˜æ–¹å¼ï¼š 12345678910111213141516171819if (expression) &#123; statement; statement; ... ...&#125;if (expression) &#123; statement;&#125; else &#123; statement2;&#125;if (expression) &#123; statement1;&#125; else if (expression1) &#123; statement2;&#125; else &#123; statement3;&#125; ä¾‹å¦‚ï¼šç»Ÿè®¡æŸä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å ç”¨çš„å­—èŠ‚æ•°,è¿‡æ»¤4096å¤§å°çš„æ–‡ä»¶(ä¸€èˆ¬éƒ½æ˜¯æ–‡ä»¶å¤¹): 12ls -l |awk 'BEGIN &#123;size=0;print "[start]size is ", size&#125; &#123;if($5!=4096)&#123;size=size+$5;&#125;&#125; END&#123;print "[end]size is ", size/1024/1024,"M"&#125;' [end]size is 8.22339 M å¾ªç¯è¯­å¥ awkä¸­çš„å¾ªç¯è¯­å¥åŒæ ·å€Ÿé‰´äºCè¯­è¨€ï¼Œæ”¯æŒwhileã€do/whileã€forã€breakã€continueï¼Œè¿™äº›å…³é”®å­—çš„è¯­ä¹‰å’ŒCè¯­è¨€ä¸­çš„è¯­ä¹‰å®Œå…¨ç›¸åŒã€‚ æ•°ç»„ å› ä¸ºawkä¸­æ•°ç»„çš„ä¸‹æ ‡å¯ä»¥æ˜¯æ•°å­—å’Œå­—æ¯ï¼Œæ•°ç»„çš„ä¸‹æ ‡é€šå¸¸è¢«ç§°ä¸ºå…³é”®å­—(key)ã€‚å€¼å’Œå…³é”®å­—éƒ½å­˜å‚¨åœ¨å†…éƒ¨çš„ä¸€å¼ é’ˆå¯¹key/valueåº”ç”¨hashçš„è¡¨æ ¼é‡Œã€‚ç”±äºhashä¸æ˜¯é¡ºåºå­˜å‚¨ï¼Œå› æ­¤åœ¨æ˜¾ç¤ºæ•°ç»„å†…å®¹æ—¶ä¼šå‘ç°ï¼Œå®ƒä»¬å¹¶ä¸æ˜¯æŒ‰ç…§ä½ é¢„æ–™çš„é¡ºåºæ˜¾ç¤ºå‡ºæ¥çš„ã€‚æ•°ç»„å’Œå˜é‡ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨ä½¿ç”¨æ—¶è‡ªåŠ¨åˆ›å»ºçš„ï¼Œawkä¹ŸåŒæ ·ä¼šè‡ªåŠ¨åˆ¤æ–­å…¶å­˜å‚¨çš„æ˜¯æ•°å­—è¿˜æ˜¯å­—ç¬¦ä¸²ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œawkä¸­çš„æ•°ç»„ç”¨æ¥ä»è®°å½•ä¸­æ”¶é›†ä¿¡æ¯ï¼Œå¯ä»¥ç”¨äºè®¡ç®—æ€»å’Œã€ç»Ÿè®¡å•è¯ä»¥åŠè·Ÿè¸ªæ¨¡æ¿è¢«åŒ¹é…çš„æ¬¡æ•°ç­‰ç­‰ã€‚ 12345678awk -F ':' 'BEGIN &#123;count=0;&#125; &#123;name[count] = $1;count++;&#125;; END&#123;for (i = 0; i &lt; NR; i++) print i, name[i]&#125;' /etc/passwd0 root1 daemon2 bin3 sys4 sync5 games...... awkç¼–ç¨‹çš„å†…å®¹æå¤šï¼Œè¿™é‡Œåªç½—åˆ—ç®€å•å¸¸ç”¨çš„ç”¨æ³•ï¼Œæ›´å¤šè¯·å‚è€ƒï¼šgawk]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x0 å¼€å‘è¯­è¨€</category>
        <category>1x00 ä¸€èµ·æ¥å­¦Shell</category>
      </categories>
      <tags>
        <tag>shell</tag>
        <tag>awk</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®ä»“åº“å·¥ç¨‹å¸ˆå­¦ä¹ è·¯çº¿]]></title>
    <url>%2F2019%2F01%2F05%2Fedw-need-learning%2F</url>
    <content type="text"><![CDATA[åˆšçœ‹äº†æœ¨ä¸œå±…å£«å…³äºã€ŠèŠä¸€èŠå¦‚ä½•é¢å‘ç®€å†å­¦ä¹ ã€‹ï¼Œæœ‰ä¸€äº›æ„Ÿè§¦ï¼Œæ¯æ¯æ€è€ƒåˆ°èŒä¸šå‘å±•æ€»æ˜¯æœ‰ä¸€ç§ææ…Œï¼Œå› ä¸ºæˆ‘ä»¬å¾ˆå¤šæ—¶å€™éƒ½å¿˜äº†æ¢¦æƒ³ï¼Œç”šè‡³æ ¹æœ¬æ²¡æœ‰æ¢¦æƒ³ï¼Œä¹Ÿå°±è°ˆä¸ä¸Šè§„åˆ’ï¼Œä»Šå¤©æ˜¯æ€è€ƒå’Œæ•´ç†ä¸‹è‡ªå·±çš„å­¦ä¹ è·¯çº¿ã€‚å†™ä¸‹è‡ªå·±çš„æƒ³æ³•åŠè§„åˆ’ã€‚ ä½ æ˜¯å¦æ‹…å¿ƒäº’è”ç½‘å¯’å†¬ä¸­é¦–å…ˆæ·˜æ±°çš„é‚£æ³¢äººå°±æœ‰è‡ªå·±ï¼Ÿä½ æ˜¯å¦æ„Ÿè§‰åˆ°è‡ªå·±ç¼ºä¹æ ¸å¿ƒç«äº‰åŠ›ï¼Ÿæ˜¯å¦æ„Ÿè§‰å·²ç»å¾ˆä¹…æ²¡æœ‰å­¦ä¹ æˆé•¿ï¼Ÿ &nbsp; &nbsp; &nbsp; &nbsp;ä¸€ä¸ªæ•°æ®ä»“åº“å·¥ç¨‹å¸ˆæˆ–è€…æ•°æ®å¼€å‘äººå‘˜ï¼Œéœ€è¦æŒæ¡ä»€ä¹ˆæŠ€èƒ½ï¼Ÿæ•°æ®ä»“åº“åº”è¯¥åˆ†ä¸ºå››ç±»ï¼šå»ºæ¨¡æ–¹æ³•è®ºï¼Œå®æ–½æ–¹æ³•è®ºã€æ•°æ®ç®¡ç†æ–¹æ³•è®ºã€æ•°æ®åº”ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†æœ¨ä¸œå±…å£«çš„å†…å®¹æ•´ç†äº†ä¸€ä¸‹ï¼Œå¦‚ä¸‹ï¼š ä¸»é¢˜ å†…å®¹ æ—¶é—´ æ•°æ®å»ºæ¨¡ å¸¸ç”¨æ•°æ®ä»“åº“æ¨¡å‹åŸç†æ€»ç»“ 1 å‘¨ æ•°æ®å»ºæ¨¡ ç»´åº¦å»ºæ¨¡åŸç† 1 å‘¨ æ•°æ®å»ºæ¨¡ ä»¥æ·˜å®çš„åœºæ™¯ä¸ºä¾‹è®¾è®¡ä¸€å¥—æ•°æ®æ¨¡å‹ 1 å‘¨ æ•°æ®å»ºæ¨¡ æ—¶é—´ç»´è¡¨è®¾è®¡ 1 å‘¨ æ•°æ®ç®¡ç† å…ƒæ•°æ®ç®¡ç† 1 å‘¨ æ•°æ®ç®¡ç† æ•°æ®è´¨é‡ç›‘æ§è®¾è®¡ 1 å‘¨ æ•°æ®ç®¡ç† æ•°æ®è¡€ç¼˜åˆ†æ 1 å‘¨ æ•°æ®ç®¡ç† ä½œä¸šç›‘æ§è®¾è®¡ 1 å‘¨ æ•°æ®åº”ç”¨ OLapåˆ†æåŸç†+Kylinå®è·µ 3 å‘¨ æ•°æ®åº”ç”¨ æ•°æ®åˆ†å±‚è®¾è®¡ 1 å‘¨ å¤§æ•°æ®å¹³å° Hiveï¼ˆåŸºæœ¬ç”¨æ³•ã€é«˜é˜¶å‡½æ•°ç”¨æ³•ã€Hiveä¼˜åŒ–ï¼‰ 2 å‘¨ å¤§æ•°æ®å¹³å° Hive æ‰§è¡Œè¿‡ç¨‹åŸç† 1 å‘¨ å¤§æ•°æ®å¹³å° Hadoop å¸¸ç”¨å‘½ä»¤ 1 å‘¨ å¤§æ•°æ®å¹³å° HBase åŸºæœ¬ç”¨æ³•ï¼ŒåŸç† 2 å‘¨ å¤§æ•°æ®å¹³å° Spark å¸¸ç”¨å‘½ä»¤ 1 å‘¨ å¤§æ•°æ®å¹³å° Flink åŸºæœ¬ç”¨æ³•ï¼ŒåŸç† 2 å‘¨ å¤§æ•°æ®å¹³å° Kafka åŸºæœ¬ç”¨æ³•ï¼ŒåŸç† 2 å‘¨ è„šæœ¬è¯­è¨€ Python 2 å‘¨ è„šæœ¬è¯­è¨€ Scala 2 å‘¨ è®ºæ–‡é˜…è¯» Google çš„ Goods è®ºæ–‡é˜…è¯»ï¼ˆæ•°æ®ç®¡ç†ï¼‰ 1 å‘¨ åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰æŠ€æœ¯éƒ½æœ‰åœ¨ä½¿ç”¨ï¼Œå¾€å¾€æ²¡æœ‰ä½¿ç”¨çš„æŠ€æœ¯æˆ–æ–¹æ³•è®ºï¼Œåˆ™å®¹æ˜“è¢«æˆ‘ä»¬å¿˜è®°ï¼Œæ‰€ä»¥æœ€å¥½çš„æ–¹å¼ï¼Œå°±æ˜¯å†™åšå®¢æˆ–è€…å†™PPTï¼Œä»¥è‡ªå·±ç†è§£çš„è¯æœ¯è¡¨è¾¾å‡ºæ¥ï¼Œç›¸ä¿¡è¿™æ ·çš„æ¨¡å¼ä¼šæ¯”å•çº¯çš„è®°å¿†ä¸€äº›æ¦‚å¿µè¦å¥½å¾ˆå¤šã€‚ æ„Ÿè°¢@æœ¨ä¸œå±…å£«çš„åˆ†äº«]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x1 æ•°æ®ä»“åº“</category>
        <category>1x12 å…¶ä»–</category>
      </categories>
      <tags>
        <tag>æ•°æ®ä»“åº“</tag>
        <tag>å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[awkçš„é«˜çº§åº”ç”¨-å¤šç›®å½•è¾“å‡º]]></title>
    <url>%2F2018%2F12%2F31%2Fawk-application%2F</url>
    <content type="text"><![CDATA[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awkæ˜¯Shellä¸­ä¸‰å‰‘å®¢ä¹‹ä¸€ï¼ŒåŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œæœ¬æ–‡åˆ†äº«çš„é€šè¿‡ä¸€ä»½ç®¡é“è¾“å…¥ï¼Œå®ç°å¤šç›®å½•è¾“å‡ºã€‚åŸç†ï¼šawkå†…éƒ¨å¯å®ç°ç¼–ç¨‹ï¼Œåœ¨awkå†…éƒ¨å°†è¾“å…¥æµè¿›è¡Œé¢„å¤„ç†åï¼Œåˆ©ç”¨ print ${content} &gt;&gt; ${path}çš„æ–¹å¼å°†æ•°æ®è¿›è¡Œåˆ†æµã€‚ ä¸‹é¢ä¸€ä¸ªå®ä¾‹ï¼š é€šè¿‡HDFS æ ‡å‡†è¾“å…¥æµï¼Œåœ¨awkä¸­æ ¹æ®æ•°æ®æ—¥æœŸæ—¶é—´åˆ†æµè‡³ä¸åŒçš„æ—¥æœŸæ–‡ä»¶å¤¹ä¸­ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115#!/usr/bin/env bash#***********************************************************************#è„šæœ¬åŠŸèƒ½: è¿½è¡¥å†å²æ¨é€æ•°æ®#åˆ›å»ºæ—¥æœŸ: 2016-05-16#ä¿®æ”¹çºªå½•ï¼š ä¿®æ”¹äºº ä¿®æ”¹æ—¥æœŸ ä¿®æ”¹æè¿°#----+-----------------+--------------------+--------------------------+# 1 deletee 2017-10-12 åˆ›å»º#***********************************************************************# ç¯å¢ƒå˜é‡è®¾ç½®#-------------------------------------------------------# JOB_HOMEï¼šä½œä¸šç›®å½•# HDFS_PATH :HDFSç›®å½•#-------------------------------------------------------# LocalJOB_HOME=$(cd "$(dirname "$0")"; pwd)JOB_DATA_PATH=$&#123;JOB_HOME&#125;/dataPROCESSED_FILE_PATH=$&#123;JOB_HOME&#125;/proSECRETS_CONF_PATH=$&#123;JOB_HOME&#125;/confmkdir -p $&#123;JOB_HOME&#125;/&#123;data,pro,conf&#125;# HDFSHADOOP_HOME=/home/$&#123;USER&#125;/software/hadoopHDFS_PATH=/hdfs/*/some_log/#---------------------------# å‡½æ•°å:genTargetFileModel# åŠŸèƒ½:ç”Ÿæˆç›®æ ‡æ–‡ä»¶æ¨¡å¼,éå†HDFSç›®å½•ï¼Œç”Ÿæˆæ—¥ã€æ—¶ã€åˆ†# å‚æ•°: $1 æ—¥æœŸï¼Œæ ¼å¼ yyyy-MM-dd# è¿”å›:æ— #---------------------------function genTargetFileModel() &#123; # éå†æ—¥æœŸ ETL_DT=$1 CUR_HDFS_PATH=`echo $&#123;HDFS_PATH&#125;|sed "s:*:$&#123;ETL_DT&#125;:"` for (( i = 0; i &lt; 24; i++ )); do for (( j = 0; j &lt; 12; j++ )); do hour=`printf "%02d" $i` minutes=$((j*5)) minutes=`printf "%02d" $minutes` mkdir -p $&#123;JOB_DATA_PATH&#125;/$&#123;ETL_DT&#125;/$&#123;hour&#125;/$&#123;minutes&#125; done done for path in `$&#123;HADOOP_HOME&#125;/bin/hadoop fs -ls $&#123;CUR_HDFS_PATH&#125; \ |awk '&#123;print $8&#125;'`;do echo "$&#123;ETL_DT&#125;:$&#123;path&#125;" &gt;&gt; $&#123;PROCESSED_FILE_PATH&#125;/pro_$&#123;ETL_DT&#125;.txt $&#123;HADOOP_HOME&#125;/bin/hadoop fs -text $&#123;path&#125; |awk '&#123; split($0,a," "); datestr=substr(a[1],11,10); hourstr=substr(a[2],1,2); minutestr=substr(a[2],4,2); minutestr=int(minutestr/5)*5; if(minutestr&lt;10)&#123; minutestr=("0"minutestr) &#125; gsub("\"","",a[3]) split(a[3],b,","); gsub("&#123;|&#125;","",b[3]) gsub("fields:HOSTNAME:","",b[3]) gsub("\\\\t","\t",b[1]) gsub(";","\t",b[1]) lens=split(b[1],tA,"\t") if(lens==12)&#123; re=(b[1]"\t\t\t\t\t\t\t\t\t\t\t\t"b[3]) &#125; if(lens==15)&#123; re=(b[1]"\t\t\t\t\t\t\t\t\t"b[3]) &#125; path=(datestr"/"hourstr"/"minutestr"/log_"datestr"_"hourstr"_"minutestr".txt") print re &gt;&gt; path &#125;' done unset ETL_DT&#125;#---------------------------# å‡½æ•°å:genTargetFileModel# åŠŸèƒ½:ç”Ÿæˆç›®æ ‡æ–‡ä»¶æ¨¡å¼,éå†HDFSç›®å½•ï¼Œç”Ÿæˆæ—¥ã€æ—¶ã€åˆ†# å‚æ•°: $1 æ—¥æœŸï¼Œæ ¼å¼ yyyy-MM-dd# è¿”å›:æ— #---------------------------function sendByRysnc() &#123; ETL_DT=$1 nohup /usr/bin/rsync -avz \ --bwlimit=30720 \ --port=873 \ --progress \ --password-file=$&#123;SECRETS_CONF_PATH&#125;/secret.conf $&#123;JOB_DATA_PATH&#125;/$&#123;ETL_DT&#125; $&#123;user&#125;@$&#123;ip&#125;::$&#123;module&#125;/$&#123;path&#125;/ &gt;&gt; rysnc_send_$(date +%Y%m%d).log 2&gt;&amp;1 &amp; unset ETL_DT&#125;function mainStart() &#123; ETL_DT=$1 genTargetFileModel $&#123;ETL_DT&#125; sendByRysnc $&#123;ETL_DT&#125;&#125;mainStart 2017-09-29]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x0 å¼€å‘è¯­è¨€</category>
        <category>1x00 ä¸€èµ·æ¥å­¦Shell</category>
      </categories>
      <tags>
        <tag>shell</tag>
        <tag>awk</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®ä»“åº“ä¸“é¢˜(5)-ç»´åº¦è®¾è®¡]]></title>
    <url>%2F2018%2F12%2F29%2Fdim-design%2F</url>
    <content type="text"><![CDATA[å‰è¨€&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;éƒ½è¯´ç»´åº¦è®¾è®¡æ˜¯ç»´åº¦å»ºæ¨¡çš„çµé­‚ï¼Œåœ¨ç»´åº¦å»ºæ¨¡ä¸­ï¼Œæˆ‘ä»¬å°†åº¦é‡æˆä¸ºã€Œäº‹å®ã€ï¼Œå°†ç¯å¢ƒæè¿°ä¸ºã€Œç»´åº¦ã€ï¼Œä½†æ˜¯å¦‚ä½•è®¾è®¡ä¸€ä¸ªå¥½çš„ç»´åº¦æ¨¡å‹ï¼Œæˆ‘ä»¬éœ€è¦éµå¾ªä¸€å®šçš„æŠ€å·§å’Œæ–¹æ³•ã€‚ å¦‚ä½•æ ‡è¯†ç»´åº¦ï¼Ÿ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šå¸¸æˆ‘ä»¬éƒ½ä¼šé—®ã€Œè°ã€ä½•æ—¶ã€ä½•åœ°ã€ä¸ºä½•ã€å¦‚ä½•ã€æ¥æè¿°ä¸€ä¸ªäº‹ä»¶è¿‡ç¨‹ï¼ŒåŒæ ·ç»´åº¦å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªäº‹ä»¶æˆ–è€…ä¸šåŠ¡è¿‡ç¨‹çš„è§’åº¦ï¼Œæ¯”å¦‚å•†å“è´­ä¹°è´­ä¹°äººã€è´­ä¹°äº‹ä»¶ã€è´­ä¹°äº§å“ã€è´­ä¹°ä½¿ç”¨çš„è®¾å¤‡ã€è´­ä¹°ä½¿ç”¨çš„IPç­‰å‡ä¸ºç»´åº¦èŒƒç•´ å›´ç»•ä¸šåŠ¡æµç¨‹æ¥æ„å»ºç»´åº¦&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è€ƒè™‘åˆ°éœ€æ±‚æ€»æ˜¯å˜æ¢å¤šç«¯ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ä¸å˜ï¼šéœ€æ±‚æ€»æ˜¯å›´ç»•ç€ä¸šåŠ¡æµç¨‹ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬è®¾è®¡ç»´åº¦çš„æ—¶å€™ï¼Œå°±éœ€è¦å……åˆ†ç”Ÿæˆä¸°å¯Œçš„ç»´åº¦åŠå±æ€§ ç»´åº¦çš„åŸºæœ¬è®¾è®¡æ–¹æ³•ï¼Ÿï¼ˆ1ï¼‰æ ¹æ®ä¸šåŠ¡æµç¨‹ç¡®å®šä¸»ç»´åº¦ â€‹ å³åœ¨ä¸šåŠ¡è¿‡ç¨‹ä¸­æ‰¾å‡ºå…³é”®ç»´åº¦ä½œä¸ºä¸»ç»´åº¦ï¼Œåœ¨ä¼ä¸šçº§æ•°æ®ä»“åº“ä¸­ï¼Œå¿…éœ€ç»´åº¦çš„ç»Ÿä¸€å£å¾„ï¼Œä»¥å•†å“ä¸ºä¾‹ï¼Œæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç»´åº¦å®šä¹‰ ï¼ˆ2ï¼‰ç¡®å®šç›¸å…³ç»´åº¦ ï¼ˆ3ï¼‰ç¡®å®šç»´åº¦å±æ€§ å°½å¯èƒ½ç”Ÿæˆä¸°å¯Œçš„ç»´åº¦å±æ€§ å°½å¯èƒ½å¤šåœ°ç»™å‡ºåŒ…æ‹¬ä¸€äº›å¯Œæœ‰æ„ä¹‰çš„æ–‡å­—æ€§æè¿°â€‹ ç»´åº¦å»ºæ¨¡ä¸­è¾ƒå¤šç»´åº¦ä»¥IDå½¢æ€å­˜åœ¨ï¼Œä¾‹å¦‚ï¼šå•†å“IDï¼Œä½†æ˜¯å•ä¸€çš„IDåœ¨ä¸šåŠ¡æè¿°éå¸¸æ¬ ç¼ºï¼Œé€šå¸¸IDçš„å«ä¹‰æè¿°ä¹ŸéšIDä½œä¸ºç»´åº¦è®¾è®¡ä¸­çš„ä¸€éƒ¨åˆ† åŒºåˆ†æ•°å€¼å‹å±æ€§å’Œäº‹å®â€‹ åœ¨ä¸€äº›ä¸šåŠ¡æ•°æ®ä¸­ï¼Œä¸€äº›æ•°å€¼å‹å­—æ®µæ˜¯ä½œä¸ºç»´åº¦è¿˜æ˜¯ä½œä¸ºåº¦é‡ï¼ˆäº‹å®ï¼‰ å°½é‡æ²‰æ·€å‡ºé€šç”¨çš„ç»´åº¦å±æ€§â€‹ æœ‰äº›ç»´åº¦å±æ€§å€¼è·å–æ˜¯ç»è¿‡äº†å¤æ‚çš„é€»è¾‘å¤„ç†ï¼Œæˆ–è€…æ˜¯é€šè¿‡è§£ææŸä¸ªå­—æ®µå¾—åˆ°ï¼Œæˆ–æ˜¯å¤šå¼ è¡¨å…³è”å¾—åˆ°ï¼Œå½“è®¾è®¡å‡ºè´Ÿè´£çš„ç»´åº¦æ—¶ï¼Œè‹¥ä¸ä¿ç•™åŸç”Ÿç»´åº¦ï¼Œå°†éš¾ä»¥è¦†ç›–ä¸šåŠ¡çš„å˜åŒ–â€‹ å¹¶ä¸”å±æ€§å€¼æ ¼å¼åšåˆ°ç»Ÿä¸€ï¼Œæ¯”å¦‚æŸæ¨¡å‹Aæ—¶é—´æ ¼å¼ä¸º yyyy-MM-dd HH:mm:ssï¼Œè€Œæ¨¡å‹Bä¸­çš„æ—¶é—´æ ¼å¼ åˆ™æ˜¯ Unix Timestampï¼ŒåŒæ ·ä¹Ÿå°†é€ æˆå£å¾„ä¸ä¸€è‡´ ç†è§£å…³é”®å­—ï¼šç»´åº¦è®¾è®¡éœ€è¦ä¸¥æ ¼éµå¾ªå¼€å‘è§„èŒƒï¼Œå¯¹å­—æ®µå‘½åã€å«ä¹‰ã€å£å¾„ã€å±æ€§å€¼æ ¼å¼çš„è§„èŒƒï¼Œéœ€ä¸¥æ ¼éµå¾ªã€‚ å¸¸è§ç»´åº¦è®¾è®¡æ–¹æ³• ï¼ˆ1ï¼‰ç¼“æ…¢å˜åŒ–æˆ–å¿«é€Ÿå˜åŒ– â€‹ ç»´åº¦ç¼“æ…¢å˜åŒ– ä¿®æ”¹ç»´åº¦å±æ€§å€¼ ä¸ä¿ç•™å†å²æ“ä½œï¼Œé€‚ç”¨äºæ— éœ€å…³å¿ƒå†å²ç»´åº¦å€¼çš„æƒ…å½¢ã€‚ æ’å…¥ä¸€è¡Œ ä¿ç•™å†å²æ“ä½œï¼Œç”±äºå¤šäº†æ–°è®°å½•ï¼Œä½¿å¾—ç»´åº¦å…³è”æ—¶ï¼Œä¼šäº§ç”Ÿå†—ä½™è®°å½•ï¼Œå¢åŠ é¢å¤–å­¦ä¹ æˆæœ¬ æ’å…¥ä¸€åˆ— é¢„ç•™ä¸€åˆ—ä½œä¸ºä¸Šä¸€æ¬¡ç»´åº¦å€¼çš„ä¿ç•™ï¼Œé€‚ç”¨äºåªéœ€è¦æŸ¥çœ‹ä¸Šä¸€æ¬¡çš„ç»´åº¦å€¼æƒ…å½¢ å¿«ç…§ç»´åº¦ å³å°†æ¯å¤©çš„å˜æ›´å­˜å‚¨ä¸ºä¸€ä¸ªå¿«ç…§ï¼Œåœ¨ç»´åº¦è¡¨è¾ƒå°æ—¶ï¼Œå¯ä»¥å¿½ç•¥å­˜å‚¨ æé™å­˜å‚¨ é€šè¿‡æ‹‰é“¾è¡¨çš„å½¢å¼ï¼Œè®°å½•ç»´åº¦çš„ç¼“æ…¢å˜åŒ–ï¼Œä½†æ˜¯æ³¨æ„ï¼Œç»´åº¦è¡¨ä¸­æœ‰é¢‘ç¹å˜åŒ–çš„å­—æ®µã€‚ â€‹ ç»´åº¦å¿«é€Ÿå˜åŒ– â€‹ æ­¤ç±»é—®é¢˜åˆç§°å¾®å‹ç»´åº¦ï¼Œä¸»è¦æ˜¯ä¸ºäº†è§£å†³å¿«å˜è¶…å¤§ç»´åº¦ï¼ˆrapidly changing monster dimensionï¼‰,é¡¾åæ€ä¹‰ï¼Œåœ¨æŸäº›ç»´åº¦è¡¨ä¸­ï¼Œå¤§é‡ç»´åº¦è¿›è¡Œç¼“æ…¢å˜åŒ–ç”šè‡³æ²¡æœ‰å˜åŒ–ï¼Œä½†æ˜¯æœ‰å°‘é‡çš„ç»´åº¦é¢‘ç¹çš„å‘ç”Ÿå˜åŒ–ï¼Œæ­¤ç§æƒ…å½¢ä¸‹ï¼Œè‹¥ä½¿ç”¨ç¼“æ…¢å˜åŒ–çš„æ–¹å¼è¿›è¡Œå¤„ç†çš„è¯ï¼Œå°†æ¶ˆè€—å¤§é‡èµ„æºã€‚ç”±æ­¤è§£å†³åŠæ³•æ˜¯ï¼š â€‹ å°†ç»´åº¦å±æ€§å€¼é¢‘ç‡å˜åŒ–æ¯”è¾ƒé«˜çš„å­—æ®µæå–å‡ºæ¥ï¼Œå»ºç«‹ä¸€ä¸ªå•ç‹¬çš„ç»´åº¦è¡¨ï¼Œåªéœ€ç»´åº¦è¿™ä¸€å¼ å¿«é€Ÿå˜åŒ–çš„ç»´åº¦è¡¨å³å¯ã€‚ ï¼ˆ2ï¼‰ç»´åº¦çš„å±‚æ¬¡ç»“æ„ â€‹ ä¹Ÿæ˜¯é€šå¸¸æ‰€è¯´çš„ è§„èŒƒåŒ–å’Œåè§„èŒƒåŒ– â€‹ åœ¨ç»´åº¦è®¾è®¡çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°ç»´åº¦çš„å±‚æ¬¡é—®é¢˜ï¼Œæ¯”å¦‚ï¼šå•†å“é€šå¸¸ä¼šæœ‰ä¸€çº§åˆ†ç±»ã€äºŒçº§åˆ†ç±»ã€ä¸‰çº§åˆ†ç±»æ­¤ç§æƒ…å½¢ï¼Œå¯¹äºè¿™æ ·çš„ç»´åº¦å¤„ç†æ–¹å¼ï¼Œé€šå¸¸æœ‰ä¸¤ç§åšæ³•ï¼š æ˜Ÿç³»æ¨¡å‹ å°†ç»´åº¦å±‚æ¬¡é—®é¢˜æ‰å¹³åŒ–ï¼Œå°†å±‚æ¬¡çš„ç»´åº¦é¡¹è¿›è¡Œæ‰å¹³å¤„ç†ï¼Œä¾‹å¦‚æœ‰å¦‚ä¸‹ç»´åº¦ï¼šsku_idï¼Œcategory_lv1, category_lv2, category_lv3 â€¦ é›ªèŠ±æ¨¡å‹ å°†å±‚çº§ç»´åº¦æç‚¼å‡ºæ¥å•ç‹¬ä½œä¸ºä¸€å¼ æ–°çš„ç»´åº¦è¡¨ ä¸Šæ–‡å·²ç»é˜è¿°è¿‡ï¼Œä¸¤ç§æ¨¡å‹çš„åˆ©å¼Šï¼Œåœ¨æ–°äº’è”ç½‘çš„å¤§æ•°æ®å¹³å°åŸºç¡€ä¸Šï¼Œå­˜å‚¨ä¹Ÿå˜çš„éå¸¸å»‰ä»·ï¼Œé€šå¸¸æ˜¯é€‰ç”¨æ˜Ÿç³»æ¨¡å‹è§£å†³ç»´åº¦å±‚æ¬¡çš„é—®é¢˜ ï¼ˆ3ï¼‰ç»´åº¦ä¸€è‡´æ€§ In data warehousing, a conformed dimension is a dimension that has the same meaning to every fact with which it relates. Conformed dimensions allow facts and measures to be categorized and described in the same way across multiple facts and/or data marts, ensuring consistent reporting across the enterprise. â€‹ ç»´åº¦ä¸€è‡´æ€§æ˜¯å¦‚æ­¤è§£é‡Šçš„ï¼Œåœ¨æ•°æ®ä»“åº“ä¸­ï¼Œä¸€è‡´çš„ç»´åº¦æ˜¯ä¸å…¶ç›¸å…³çš„æ¯ä¸ªäº‹å®å…·æœ‰ç›¸åŒå«ä¹‰çš„ç»´åº¦ã€‚ ä¸€è‡´çš„ç»´åº¦å…è®¸åœ¨å¤šä¸ªäº‹å®å’Œ/æˆ–æ•°æ®é›†å¸‚ä¸­ä»¥ç›¸åŒçš„æ–¹å¼å¯¹äº‹å®å’Œåº¦é‡è¿›è¡Œåˆ†ç±»å’Œæè¿°ï¼Œä»è€Œç¡®ä¿æ•´ä¸ªä¼ä¸šçš„ä¸€è‡´æŠ¥å‘Šã€‚ â€‹ é€šå¸¸åœ¨æ•°æ®ä»“åº“å¼€å‘è¿‡ç¨‹ä¸­å¦‚ä½•ä¿è¯ç»´åº¦çš„ä¸€è‡´æ€§å‘¢ï¼Ÿ ç»´åº¦çš„å®šä¹‰éœ€è¦éµå¾ªå‘½åã€å–å€¼ç­‰è§„èŒƒ ç»´åº¦éœ€é€šè¿‡å…ƒæ•°æ®è¿›è¡Œç®¡ç† é‡‡ç”¨ç»´åº¦å»ºæ¨¡ï¼Œæ„å‘³ç€å»ºä»“è¿‡ç¨‹æ˜¯è‡ªä¸‹è€Œä¸Šçš„ï¼Œå„ä¸ªæ•°æ®é›†å¸‚å„è‡ªå¼€å‘ï¼Œé‚£ä¹ˆå¦‚ä½•ä¿è¯ä¼ä¸šçº§æ•°æ®ä»“åº“ç»´åº¦ä¸€è‡´æ€§ï¼Œåˆ™éœ€è¦ç»Ÿä¸€çš„å…ƒæ•°æ®è¿›è¡Œç®¡ç† ç»´åº¦å»ºæ¨¡çš„æ•°æ®ä»“åº“ä¸­ï¼Œæœ‰ä¸€ä¸ªæ¦‚å¿µå«Conformed Dimensionï¼Œä¸­æ–‡ä¸€èˆ¬ç¿»è¯‘ä¸ºâ€œä¸€è‡´æ€§ç»´åº¦â€ã€‚ä¸€è‡´æ€§ç»´åº¦æ˜¯Kimballçš„å¤šç»´ä½“ç³»ç»“æ„ï¼ˆMDï¼‰ä¸­çš„ä¸‰ä¸ªå…³é”®æ€§æ¦‚å¿µä¹‹ä¸€ï¼Œå¦ä¸¤ä¸ªæ˜¯æ€»çº¿æ¶æ„ï¼ˆBus Architectureï¼‰å’Œä¸€è‡´æ€§äº‹å®ï¼ˆConformed Factï¼‰ã€‚ åœ¨å¤šç»´ä½“ç³»ç»“æ„ä¸­ï¼Œæ²¡æœ‰ç‰©ç†ä¸Šçš„æ•°æ®ä»“åº“ï¼Œç”±ç‰©ç†ä¸Šçš„æ•°æ®é›†å¸‚ç»„åˆæˆé€»è¾‘ä¸Šçš„æ•°æ®ä»“åº“ã€‚è€Œä¸”æ•°æ®é›†å¸‚çš„å»ºç«‹æ˜¯å¯ä»¥é€æ­¥å®Œæˆçš„ï¼Œæœ€ç»ˆç»„åˆåœ¨ä¸€èµ·ï¼Œæˆä¸ºä¸€ä¸ªæ•°æ®ä»“åº“ã€‚å¦‚æœåˆ†æ­¥å»ºç«‹æ•°æ®é›†å¸‚çš„è¿‡ç¨‹å‡ºç°äº†é—®é¢˜ï¼Œæ•°æ®é›†å¸‚å°±ä¼šå˜æˆå­¤ç«‹çš„é›†å¸‚ï¼Œä¸èƒ½ç»„åˆæˆæ•°æ®ä»“åº“ï¼Œè€Œä¸€è‡´æ€§ç»´åº¦çš„æå‡ºæ­£å¼ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ ä¸€è‡´æ€§ç»´åº¦çš„èŒƒå›´æ˜¯æ€»çº¿æ¶æ„ä¸­çš„ç»´åº¦ï¼Œå³å¯èƒ½ä¼šåœ¨å¤šä¸ªæ•°æ®é›†å¸‚ä¸­éƒ½å­˜åœ¨çš„ç»´åº¦ï¼Œè¿™ä¸ªèŒƒå›´çš„é€‰å–éœ€è¦æ¶æ„å¸ˆæ¥å†³å®šã€‚ä¸€è‡´æ€§ç»´åº¦çš„å†…å®¹å’Œæ™®é€šç»´åº¦å¹¶æ²¡æœ‰æœ¬è´¨ä¸ŠåŒºåˆ«ï¼Œéƒ½æ˜¯ç»è¿‡æ•°æ®æ¸…æ´—å’Œæ•´åˆåçš„ç»“æœã€‚ ä¸€è‡´æ€§ç»´åº¦å»ºç«‹çš„åœ°ç‚¹æ˜¯å¤šç»´ä½“ç³»ç»“æ„çš„åå°ï¼ˆBack Roomï¼‰ï¼Œå³æ•°æ®å‡†å¤‡åŒºã€‚åœ¨å¤šç»´ä½“ç³»ç»“æ„çš„æ•°æ®ä»“åº“é¡¹ç›®ç»„å†…éœ€è¦æœ‰ä¸“é—¨çš„ç»´åº¦è®¾è®¡å¸ˆï¼Œä»–çš„èŒè´£å°±æ˜¯å»ºç«‹ç»´åº¦å’Œç»´æŠ¤ç»´åº¦çš„ä¸€è‡´æ€§ã€‚åœ¨åå°å»ºç«‹å¥½çš„ç»´åº¦åŒæ­¥å¤åˆ¶åˆ°å„ä¸ªæ•°æ®é›†å¸‚ã€‚è¿™æ ·æ‰€æœ‰æ•°æ®é›†å¸‚çš„è¿™éƒ¨åˆ†ç»´åº¦éƒ½æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚å»ºç«‹æ–°çš„æ•°æ®é›†å¸‚æ—¶ï¼Œéœ€è¦åœ¨åå°è¿›è¡Œä¸€è‡´æ€§ç»´åº¦å¤„ç†ï¼Œæ ¹æ®æƒ…å†µæ¥å†³å®šæ˜¯å¦æ–°å¢å’Œä¿®æ”¹ä¸€è‡´æ€§ç»´åº¦ï¼Œç„¶ååŒæ­¥å¤åˆ¶åˆ°å„ä¸ªæ•°æ®é›†å¸‚ã€‚è¿™æ˜¯ä¸åŒæ•°æ®é›†å¸‚ç»´åº¦ä¿æŒä¸€è‡´çš„è¦ç‚¹ã€‚ åœ¨åŒä¸€ä¸ªé›†å¸‚å†…ï¼Œä¸€è‡´æ€§ç»´åº¦çš„æ„æ€æ˜¯ä¸¤ä¸ªç»´åº¦å¦‚æœæœ‰å…³ç³»ï¼Œè¦ä¹ˆå°±æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œè¦ä¹ˆå°±æ˜¯ä¸€ä¸ªç»´åº¦åœ¨æ•°å­¦æ„ä¹‰ä¸Šæ˜¯å¦ä¸€ä¸ªç»´åº¦çš„å­é›†ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå»ºç«‹æœˆç»´åº¦è¯ï¼Œæœˆç»´åº¦çš„å„ç§æè¿°å¿…é¡»ä¸æ—¥æœŸç»´åº¦ä¸­çš„å®Œå…¨ä¸€è‡´ï¼Œæœ€å¸¸ç”¨çš„åšæ³•å°±æ˜¯åœ¨æ—¥æœŸç»´åº¦ä¸Šå»ºç«‹è§†å›¾ç”Ÿæˆæœˆç»´åº¦ã€‚è¿™æ ·æœˆç»´åº¦å°±å¯ä»¥æ˜¯æ—¥æœŸç»´åº¦çš„å­é›†ï¼Œåœ¨åç»­é’»å–ç­‰æ“ä½œæ—¶å¯ä»¥ä¿æŒä¸€è‡´ã€‚å¦‚æœç»´åº¦è¡¨ä¸­çš„æ•°æ®é‡è¾ƒå¤§ï¼Œå‡ºäºæ•ˆç‡çš„è€ƒè™‘ï¼Œåº”è¯¥å»ºç«‹ç‰©åŒ–è§†å›¾æˆ–è€…å®é™…çš„ç‰©ç†è¡¨ã€‚ è¿™æ ·ï¼Œç»´åº¦ä¿æŒä¸€è‡´åï¼Œäº‹å®å°±å¯ä»¥ä¿å­˜åœ¨å„ä¸ªæ•°æ®é›†å¸‚ä¸­ã€‚è™½ç„¶åœ¨ç‰©ç†ä¸Šæ˜¯ç‹¬ç«‹çš„ï¼Œä½†åœ¨é€»è¾‘ä¸Šç”±ä¸€è‡´æ€§ç»´åº¦ä½¿æ‰€æœ‰çš„æ•°æ®é›†å¸‚æ˜¯è”ç³»åœ¨ä¸€èµ·ï¼Œéšæ—¶å¯ä»¥è¿›è¡Œäº¤å‰æ¢å¯Ÿç­‰æ“ä½œï¼Œä¹Ÿå°±ç»„æˆäº†æ•°æ®ä»“åº“ã€‚ ï¼ˆ4ï¼‰ç»´åº¦æ•´åˆå’Œæ‹†åˆ† â€‹ å› ä¸ºæ•°æ®ä»“åº“çš„æ•°æ®æºè‡ªå„ä¸ªç³»ç»Ÿï¼Œæœ‰ä»ç§»åŠ¨ç«¯ï¼Œwebç«¯ï¼ŒPCç«¯ï¼Œæ¯ä¸ªæ®µçš„æ•°æ®ç»“æ„å·®å¼‚è¾ƒå¤§ï¼Œå³ä¾¿æ˜¯åŒä¸€ç«¯ï¼Œå¯èƒ½å› ä¸ºä¸šåŠ¡æ‹†åˆ†ï¼Œå­—æ®µçš„å±æ€§å€¼ä¹Ÿä¸å®Œå…¨ä¸€è‡´ã€‚ â€‹ ä¾‹å¦‚ï¼šAç³»ç»Ÿ æŸå­—æ®µå€¼ç”¨ 1/0è¡¨ç¤º tokenæ˜¯å¦æœ‰æ•ˆï¼ŒBç³»ç»Ÿåˆ™ä½¿ç”¨F/Tè¡¨ç¤ºæ˜¯å¦æœ‰æ•ˆ â€‹ é‚£ä¹ˆï¼Œåœ¨æ­¤ç§æƒ…å½¢ä¸‹ï¼Œéœ€è¦è¿›è¡Œç»´åº¦æ•´åˆã€‚ç»´åº¦æ•´åˆéœ€è¦éµå¾ªå¦‚ä¸‹è§„èŒƒï¼š å‘½åè§„èŒƒç»Ÿä¸€ å­—æ®µç±»å‹ç»Ÿä¸€ å±æ€§å€¼ç¼–ç å’Œå«ä¹‰ç»Ÿä¸€ â€‹ å¦å¤–æœ‰ä¸€ç§åœºæ™¯ï¼Œå› ä¸ºç³»ç»Ÿå·®å¼‚å¤ªå¤§ï¼Œè€Œæ— æ³•è¿›è¡Œç»´åº¦æ•´åˆï¼Œæ­¤æ—¶éœ€è¦è¿›è¡Œç»´åº¦çš„æ‹†åˆ† â€‹ ä¾‹å¦‚ï¼šåŠ æ²¹ç«™ä¸»è¦çš„å•†å“æ˜¯åˆ™æ˜¯æ²¹ï¼ŒåŠ æ²¹ç«™å†…åŒæ ·ä¹Ÿæœ‰é›¶å”®åº—ï¼Œå”®å–ä¸€äº›æ—¥å¸¸ç™¾è´§ï¼Œæ²¹ æœ‰ 92ï¼Œ95ï¼Œ98ç­‰ç»´åº¦å±æ€§ï¼Œæ—¥å¸¸ç™¾è´§çš„é€šå¸¸ æ¶‰åŠçš„ è¿›é”€å­˜ï¼Œå•ä»·ç­‰ â€‹ ä¸¤ç§å•†å“åœ¨ç»´åº¦å·®å¼‚è¿‡å¤§ï¼Œé€šå¸¸çš„åšæ³•ï¼ŒåŠ æ²¹ç«™çš„ä¸»è¥ä¸šåŠ¡æ˜¯å”®å–æ²¹å“ï¼Œä»è€Œå»ºç«‹ä¸»è¦çš„å•†å“ç»´åº¦è¡¨ï¼Œå¦å¤–å»ºç«‹ä¸€ä¸ªé›¶å”®å•†å“ç»´åº¦è®°å½•è¡¨ â€‹ ç†è§£å…³é”®è¯ï¼šå„ä¸ªä¸šåŠ¡å·®å¼‚ç‹¬ç‰¹æ€§è¾ƒå¤§çš„ä¸šåŠ¡å„è‡ªå»ºç«‹ç‹¬ç«‹çš„ä¸¤ä¸ªç»´åº¦è¡¨ ï¼ˆ5ï¼‰æ‚é¡¹ç»´åº¦çš„å¤„ç†æ–¹æ³• é€€åŒ–ç»´åº¦â€‹ æ‰€è°“é€€åŒ–ç»´åº¦ï¼ˆdegenerate dimensionï¼‰ï¼Œæ˜¯æŒ‡åœ¨å®æ–½è¡¨ä¸­é‚£äº›çœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªäº‹å®è¡¨çš„ä¸€ä¸ªç»´åº¦å…³é”®å­—ï¼Œä½†å®é™…ä¸Šæ²¡æœ‰å¯¹åº”çš„ç»´åº¦å­—æ®µã€‚é€€åŒ–ç»´åº¦ä¸€èˆ¬éƒ½æ˜¯äº‹åŠ¡çš„ç¼–å·ï¼Œå¦‚è´­ç‰©å°ç¥¨ç¼–å·ï¼Œå‘ç¥¨ç¼–å· è¡Œä¸ºç»´åº¦â€‹ è¡Œä¸ºç»´åº¦æ˜¯åŸºäºè¿‡å»ç»´åº¦æˆå‘˜çš„è¡Œä¸ºè¿›è¡Œåˆ†ç»„æˆ–è€…è¿‡æ»¤äº‹å®çš„åŠæ³•ã€‚è¡Œä¸ºç»´åº¦å³å°†äº‹å®è½¬åŒ–ä¸ºç»´åº¦ï¼Œä»¥ç¡®ä¿è·å¾—æ›´å¤šçš„åˆ†æèƒ½åŠ›â€‹ ä¾‹å¦‚ï¼šè´­ä¹°æ¬¡æ•°è¶…è¿‡30æ¬¡ï¼Œ30æ¬¡è‡³100æ¬¡ï¼Œè¶…è¿‡100æ¬¡ ä½œä¸ºç»´åº¦å€¼ è§’è‰²ç»´åº¦â€‹ è§’è‰²ç»´åº¦é€šå¸¸æ˜¯ä¸€ä¸ªä¸šåŠ¡æ´»åŠ¨æœ‰å¤šä¸ªè§’è‰²å‚ä¸ï¼Œä¾‹å¦‚ï¼šåŠç†é“¶è¡Œä¸šåŠ¡ï¼Œæœ‰å®¢æˆ·ç»ç†ï¼Œå®¡æ‰¹äººç­‰å‚ä¸ä¸¤ä¸ªåŠä»¥ä¸Šè§’è‰²ï¼Œè€Œè¿™äº›è§’è‰²å‡å±äºå‘˜å·¥ç»´åº¦è¡¨ï¼Œå¯¹äºæ­¤ç§æƒ…å½¢ï¼Œæ²¡æœ‰å¿…è¦æ ¹æ®è§’è‰²å»ºç«‹å¤šä¸ªç»´åº¦è¡¨ï¼Œè€Œæ˜¯å¯ä»¥é€šè¿‡å»ºç«‹è§†å›¾çš„æ–¹å¼è¾¾åˆ°ç›®çš„ã€‚ å¤šå€¼ç»´åº¦â€‹ å¤šå€¼ç»´åº¦ä¸€èˆ¬ä¼šå‡ºç°å¤šå¯¹å¤šçš„å…³ç³»ä¸­ï¼Œä¾‹å¦‚ï¼šè´­ä¹°æˆ¿äº§ï¼Œä¼šæœ‰å¤«å¦»ä¸¤äººå…±åŒæŒæœ‰ï¼Œä¸€æ¬¡ä¸‹å•ï¼Œå¤šä¸ªå­è®¢å• â€‹ æœ‰å¦‚ä¸‹ä¸‰ç§æ–¹æ³•ï¼š â€‹ 1ï¼‰é™ä½äº‹å®è¡¨çš„ç²’åº¦ æ¯ä¸€ä¸ªäº‹å®éƒ½æ ‡æ³¨æœ€å°ç²’åº¦ï¼Œä¾‹å¦‚ï¼šå‰å°ä¸šåŠ¡ä¸å•†ä¸šæ™ºèƒ½å…³æ³¨äº¤æ˜“å­è®¢å•ï¼Œæ¯ä¸€ä¸ªå­è®¢å•ä¸€ä¸ªäº‹å®ï¼Œåªä¼šæœ‰ä¸€ä¸ªå•†å“ä¸ä¹‹å¯¹åº”ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œäº‹å®è¡¨çš„ç²’åº¦æ˜¯ä¸èƒ½é™ä½çš„ï¼Œå½“å¼ºè¡Œé™ä½ä¹‹åï¼Œé‚£ä¹ˆè®¢å•äº‹å®åˆ™å‘ç”Ÿæ”¹å˜ï¼Œå¯¹äºç»Ÿè®¡æ¯æ—¥è®¢å•é‡è®¡ç®—ï¼Œåˆ™å¤æ‚åº¦å˜é«˜ï¼Œå¢åŠ å­¦ä¹ å’Œè®¡ç®—æˆæœ¬ â€‹ 2ï¼‰é‡‡ç”¨å¤šå­—æ®µ ä¾‹å¦‚ï¼šåœ¨ä¹°æˆ¿åˆåŒä¸­ï¼Œæ ‡æ³¨ç¬¬ä¸€ä¹°å—äººï¼Œç¬¬äºŒä¹°å—äººï¼Œå¯é¡ºä½å¢åŠ å†—ä½™çš„å­—æ®µä½ â€‹ 3ï¼‰ä½¿ç”¨å¸¸ç”¨çš„æ¡¥æ¥è¡¨ ä¾‹å¦‚ï¼šè®¢å•ä¸­ï¼Œç¡®å®šçˆ¶è®¢å•ä¸ºç²’åº¦ï¼Œå»ºç«‹çˆ¶è®¢å•ä¸å­è®¢å•çš„æ¡¥æ¥è¡¨ï¼Œå¦å»ºç«‹å­è®¢å•ä¸å•†å“çš„ç»´åº¦å…³ç³»è¡¨ï¼Œæ¡¥æ¥è¡¨åŒ…å«äº‹å®è¡¨å…³è”çš„åˆ†ç»„KEYï¼Œä»¥åŠä½œä¸ºä¹°å—æ–¹çš„ç»´åº¦è¡¨å¤–é”®IDï¼Œæœ‰å¤šä¸ªä¹°å—æ–¹ï¼Œåˆ™æœ‰åœ¨ç›¸åŒçš„KEYä¸‹æœ‰å¤šæ¡è®°å½•ï¼Œæ¡¥æ¥è¡¨éœ€è¦æ›´å¤šçš„è®¡ç®—ï¼Œä¹Ÿå¯èƒ½ä¼šé€ æˆåŒé‡è®¡ç®—ï¼Œä¾‹å¦‚ï¼Œä¹°å—äºº1ç±è´¯ä¸ºå±±ä¸œï¼Œä¹°å—äºº2ç±è´¯ä¸ºæµ™æ±Ÿï¼Œé‚£ä¹ˆå½“åˆ†åˆ«ç»Ÿè®¡å¤–åœ°å±±ä¸œçš„è´­æˆ¿æ•°ï¼Œå’Œæµ™æ±Ÿçš„è´­æˆ¿æ•°ï¼Œåˆ™äº§ç”Ÿäº†å¤šé‡è®¡ç®—ã€‚åŒé‡è®¡ç®—ä¸ä¸€å®šæ˜¯é”™è¯¯ï¼Œå¯¹äºä¸€äº›ä¸šåŠ¡éœ€æ±‚æ˜¯åˆç†çš„ï¼Œä½†å¯¹äºå¦ä¸€äº›ä¸šåŠ¡éœ€æ±‚ï¼Œåˆ™éœ€è¦è§„é¿ã€‚ â€‹ ç†è§£å…³é”®å­—ï¼šå½“å‰å¤§æ•°æ®å¹³å°æ”¯æŒå¤æ‚çš„æ•°æ®ç»“æ„ï¼Œå°†å¤šä¸ªä¹°å—äººå¯ä»¥ä½œä¸ºæ•°æ®ç»„ç»“æ„å­˜å…¥ä¸€ä¸ªå­—æ®µä¸­ï¼Œä½¿ç”¨key:valueçš„å½¢å¼ï¼Œå½“ç„¶æ­¤ç§æ–¹æ³•éœ€å¢åŠ ä¸€å®šçš„è®¡ç®—æˆæœ¬ï¼Œå±äºéè§„èŒƒåŒ–æ“ä½œã€‚ æ‚é¡¹ç»´åº¦ï¼ˆjunk dimensionï¼‰â€‹ æ‚é¡¹ç»´åº¦å°±æ˜¯ä¸€ç§åŒ…å«çš„æ•°æ®å…·æœ‰å¾ˆå°‘å¯èƒ½å€¼çš„ç»´åº¦â€‹ å½“å®šä¹‰å¥½å„ç§ç»´åº¦åï¼Œä¼šå‘ç°ä¸€äº›å°èŒƒå›´ç»´åº¦å–ç¦»æ•£å€¼æˆ–è€…æ ‡å¿—ä½çš„å­—æ®µï¼Œä½†æ˜¯è¿™æ ·çš„ç»´åº¦åˆå¾ˆéš¾é€€åŒ–å­˜å‚¨åœ¨äº‹å®è¡¨ä¸­ï¼Œå¯èƒ½ä¼šé€ æˆäº‹å®è¡¨è¿‡å¤§ï¼Œè‹¥æœå•ç‹¬å»ºç«‹ç»´åº¦è¡¨è¿›è¡Œå…³è”ï¼Œé€šè¿‡å¤–é”®å…³è”ï¼Œä¼šå‡ºç°ç»´åº¦è¿‡å¤šçš„æƒ…å†µï¼Œå¦‚æœå°†è¿™äº›å­—æ®µåˆ é™¤ï¼Œåˆ™ä¸šåŠ¡æ–¹ä¸åŒæ„ã€‚ è¿™æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯å»ºç«‹æ‚é¡¹ç»´åº¦ï¼Œå°†è¿™äº›å­—æ®µå»ºç«‹åˆ°ä¸€ä¸ªç»´åº¦è¡¨ä¸­ï¼Œåœ¨äº‹å®è¡¨ä¸­åªéœ€ä¿å­˜ä¸€ä¸ªå¤–é”®ã€‚å‡ ä¸ªå­—æ®µçš„ä¸åŒå–å€¼ç»„æˆä¸€æ¡è®°å½•ï¼Œç”Ÿæˆä»£ç†é”®ï¼Œå­˜å…¥ç»´åº¦è¡¨ï¼Œå¹¶å°†è¯¥ä»£ç†é”®ä¿å­˜å…¥ç›¸åº”çš„äº‹å®è¡¨å­—æ®µã€‚å»ºè®®ä¸è¦ç›´æ¥ä½¿ç”¨æ‰€æœ‰çš„ç»„åˆç”Ÿæˆå®Œæ•´çš„æ‚é¡¹ç»´åº¦è¡¨ï¼Œåœ¨æŠ½å–æ—¶é‡åˆ°æ–°çš„ç»„åˆæ—¶ç”Ÿæˆç›¸åº”è®°å½•å³å¯ã€‚æ‚é¡¹ç»´åº¦çš„ETLè¿‡ç¨‹æ¯”ä¸€èˆ¬çš„ç»´åº¦ç•¥ä¸ºå¤æ‚ã€‚ å‡ ä¸ªå­—æ®µçš„ä¸åŒå–å€¼ç»„æˆä¸€æ¡è®°å½•ï¼Œç”Ÿæˆä»£ç†é”®ï¼Œå­˜å…¥ç»´åº¦è¡¨ï¼š å³å°†å‡ ä¸ªæ‚é¡¹ç»´åº¦çš„ç»„åˆå»ºç«‹æ‚é¡¹ç»´åº¦è¡¨ï¼Œç”Ÿæˆä¸€ä¸ªä»£ç†é”®ï¼Œæ¤å…¥äº‹å®è¡¨ä¸­ å¾®å‹ç»´åº¦ ç†è§£å…³é”®å­—2ï¼š â€‹ ç¬¬ä¸€ï¼šé¿å…ç»´åº¦è¿‡åº¦å¢é•¿ æŸäº›ç»´åº¦å€¼å˜åŒ–è¿‡é«˜ï¼Œå¦‚æœç»´åº¦è¡¨ä½¿ç”¨äº†æ‹‰é“¾æé™å­˜å‚¨ï¼Œé‚£è¾¹è¿‡åº¦å¢é•¿æˆ–è€…å˜åŒ–çš„ç»´åº¦ï¼Œå°†ä½¿å¾—æé™å­˜å‚¨æ•ˆç‡å·® â€‹ ç¬¬äºŒï¼šé¿å…è€¦åˆåº¦è¿‡é«˜ ä¾‹å¦‚ï¼šå–å®¶çš„ä¸»è¥é¡¹ç›®ï¼ŒåŠ å·¥é€»è¾‘å¼‚å¸¸å¤æ‚ï¼Œå¦‚æœèåˆè¿›ç°æœ‰çš„å–å®¶ç»´è¡¨ä¸­ï¼Œé‚£ä¹ˆè¿‡å¤šçš„ä¸šåŠ¡è€¦åˆå°†ä¼šå¯¼è‡´å–å®¶ç»´åº¦éš¾ä»¥ç»´æŠ¤ï¼Œåº”é€‚å½“åšç»´åº¦æ‹†åˆ†]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x1 æ•°æ®ä»“åº“</category>
        <category>1x11 æ•°æ®å»ºæ¨¡</category>
      </categories>
      <tags>
        <tag>å»ºæ¨¡</tag>
        <tag>æ•°æ®ä»“åº“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®ä»“åº“ä¸“é¢˜(4)-ç»´åº¦å»ºæ¨¡]]></title>
    <url>%2F2018%2F12%2F28%2Fdim-modeling%2F</url>
    <content type="text"><![CDATA[1ã€ä»€ä¹ˆæ˜¯ç»´åº¦å»ºæ¨¡ï¼Ÿç†è§£å…³é”®å­—ï¼šç»´åº¦å»ºæ¨¡çš„å‡ºå‘ç‚¹æ˜¯å®ç°å¿«é€Ÿçš„æ•°æ®åˆ†æä¸å†³ç­–ï¼Œç»´åº¦å»ºæ¨¡é€šå¸¸é¢å‘ä¸šåŠ¡äººå‘˜ã€åˆ†æäººå‘˜ä½¿ç”¨ï¼Œç›¸å¯¹ERå»ºæ¨¡æ¥è¯´ä¼šæ›´åŠ å¼€æ”¾ï¼Œæ›´å®¹æ˜“ç†è§£ ç»´åº¦å»ºæ¨¡æ˜¯ä»ä¸šåŠ¡è¿‡ç¨‹ä¸­æç‚¼è€Œæ¥ï¼Œå…¸å‹ç»´åº¦å»ºè¡¨ä»£è¡¨æ˜Ÿå½¢å»ºæ¨¡å’Œé›ªèŠ±å»ºæ¨¡ 2ã€ç»´åº¦å»ºæ¨¡ä¸€èˆ¬è¿‡ç¨‹ï¼ˆæ‘˜è‡ªã€Šå¤§æ•°æ®ä¹‹è·¯ã€‹ &amp; ã€Šç¦»çº¿å’Œå®æ—¶å¤§æ•°æ®ä¹‹æˆ˜ã€‹ï¼‰&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kimballå››æ­¥å»ºæ¨¡æµç¨‹é€‚åˆä¸Šè¿°æ•°æ®ä»“åº“ç³»ç»Ÿå»ºè®¾æµç¨‹ä¸­æ¨¡å‹è®¾è®¡ç¯èŠ‚ï¼Œé‡ç‚¹è§£å†³æ•°æ®ç²’åº¦ã€ç»´åº¦è®¾è®¡å’Œäº‹å®è¡¨è®¾è®¡é—®é¢˜ã€‚ ï¼ˆ1ï¼‰é€‰æ‹©ä¸šåŠ¡è¿‡ç¨‹ â€‹ ä¸šåŠ¡è¿‡ç¨‹æè¿°çš„æ˜¯ä¼ä¸šçš„ä¸šåŠ¡æ´»åŠ¨ï¼Œä¾‹å¦‚ç”µå•†ç³»ç»Ÿç”¨æˆ·ä¸‹å•ï¼Œè´¦å·ç³»ç»Ÿç”¨æˆ·æ³¨å†Œäº†ä¸€ä¸ªè´¦å· ï¼ˆ2ï¼‰é€‰æ‹©ç²’åº¦ â€‹ é‚£ä¹ˆä»€ä¹ˆæ˜¯ç²’åº¦å‘¢ï¼Ÿç²’åº¦æ˜¯æè¿°çš„æ˜¯æ´»åŠ¨ç»†èŠ‚çš„æ¯ä¸€ä¸ªå­é¡¹ï¼Œä¾‹å¦‚ï¼Œç”¨æˆ·æ³¨å†Œä¸€ä¸ªè´¦å·ï¼ŒåŒ…å«äº†ç”¨æˆ·åã€æ—¶é—´ã€IPã€ç»ˆç«¯ç±»å‹ã€æ‰‹æœºå·ç ï¼Œå¸å·ç±»å‹ç­‰ ï¼ˆ3ï¼‰ç¡®å®šç»´åº¦ â€‹ ç¡®å®šç»´åº¦ä¹‹å‰ï¼Œéœ€è¦å…ˆæ˜ç¡®ä»€ä¹ˆæ˜¯ç»´åº¦ï¼Ÿç»´åº¦æ˜¯è¡¨ç¤ºä¸šåŠ¡æ´»åŠ¨åœ¨ä¸åŒè§’åº¦çš„è¡¨ç°æ–¹å¼ï¼Œä¾‹å¦‚ï¼šæ³¨å†Œè´¦å·çš„æ´»åŠ¨ä¸­ï¼Œä»æ—¶é—´ã€IPã€ç»ˆç«¯ç±»å‹ç­‰è§’åº¦è¿›è¡Œæè¿° â€‹ æ¯”å¦‚ï¼šç”¨æˆ·åã€æ³¨å†Œæ—¶é—´ã€æ³¨å†ŒIPã€æ³¨å†Œç»ˆç«¯ã€æ³¨å†Œæ‰‹æœºå·ç ã€æ³¨å†Œè´¦å·ç±»å‹ï¼ˆæ‰‹æœºè´¦å·ã€é‚®ç®±è´¦å·ã€ä¸‰æ–¹è´¦å·ï¼‰ ï¼ˆ4ï¼‰ç¡®å®šäº‹å® â€‹ ç¡®å®šç»´åº¦ä¹‹åï¼Œäº‹å®åˆ™å˜çš„æ¸…æ™°ï¼Œæ¯”å¦‚ï¼šæˆ‘ä»¬éœ€è¦è®¡ç®—æŸç»ˆç«¯ã€æŸå¤©çš„æ³¨å†Œé‡ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Ÿ 1ã€å¦‚ä½•ç¡®å®šç²’åº¦ï¼Ÿ â€‹ æœ€ç»†ç²’åº¦å’Œèšåˆç²’åº¦ä¹‹äº‰ï¼Ÿ åˆ°åº•æ˜¯é€‰æ‹©æœ€ç»†ç²’åº¦ï¼Œè¿˜æ˜¯èšåˆç²’åº¦ï¼Ÿ 2ã€å¦‚ä½•ç¡®å®šç»´åº¦ï¼Ÿ â€‹ æ ‡è¯†ç»´åº¦è§£å†³çš„æ˜¯ä¸šåŠ¡äººå‘˜å¦‚ä½•æè¿°æ¥è‡ªä¸šåŠ¡è¿‡ç¨‹çš„æ•°æ®ï¼Œç»´åº¦ç”¨æ¥è¡¨ç¤ºâ€œè°ã€ä»€ä¹ˆã€ä½•æ—¶ã€ä½•å¤„ã€ä¸ºä½•ã€å¦‚ä½•â€çš„é—®é¢˜ã€‚ä»¥ç«ä»·å¹¿å‘Šæ£€ç´¢æµç¨‹è€Œè¨€å°±æ˜¯å®¢æˆ·é€šè¿‡ä»€ä¹ˆæ¸ é“ã€ä»€ä¹ˆæ ·çš„å®¢æˆ·ç«¯ï¼ˆOSã€IPï¼‰ã€æ£€ç´¢äº†ä»€ä¹ˆæ ·çš„å†…å®¹ã€è¯·æ±‚æœ€ç»ˆæœ‰è°å—ç†ç­‰ã€‚ 3ã€å¦‚ä½•ç¡®å®šäº‹å®ï¼Ÿ â€‹ æ ‡è¯†äº‹å®å…¶å®æ˜¯åœ¨ç¡®å®šä¸šåŠ¡è¿‡ç¨‹çš„åº¦é‡æŒ‡æ ‡ï¼ŒæŒ‡æ ‡ä½•æ¥ï¼Ÿå“ªäº›æŒ‡æ ‡å¿…é¡»ä¿ç•™ï¼Œé‚£äº›æŒ‡æ ‡å¿…é¡»åˆ é™¤ï¼Œå¾…å®šæŒ‡æ ‡å¦‚ä½•å¤„ç†ï¼Ÿå¿…é¡»ç»¼åˆè€ƒè™‘ä¸šåŠ¡ç”¨æˆ·éœ€æ±‚å’Œç°å®æ•°æ®çš„å®é™…æƒ…å†µã€‚äº‹å®è¡¨çš„è®¾è®¡å®Œå…¨ä¾èµ–äºç‰©ç†æ´»åŠ¨ï¼Œä¸å—å¯èƒ½äº§ç”Ÿçš„æœ€ç»ˆæŠ¥è¡¨çš„å½±å“ï¼ŒæŠ¥è¡¨åªæ˜¯äº‹å®è¡¨è®¾è®¡çš„å‚è€ƒè§†è§’ã€‚ â€‹ æŒ‡æ ‡å¿…éœ€è¦è€ƒè™‘ä¸šåŠ¡çš„éœ€æ±‚å’Œæ•°æ®çš„å®é™…æƒ…å†µ 3ã€é›ªèŠ±æ¨¡å‹ ä¸ æ˜Ÿå½¢æ¨¡å‹ç†è§£å…³é”®å­—ï¼šæ—¶é—´ä¸ç©ºé—´äº¤æ¢ ï¼ˆ1ï¼‰é›ªèŠ±æ¨¡å‹æ˜¯å……åˆ†å±•å¼€ç»´åº¦ï¼Œå½“å‡ºç°ç»´åº¦å±‚æ¬¡æ—¶ï¼Œä¾‹å¦‚ï¼šæŸå•†å“åˆ†å¤§ç±»ã€ç§ç±»ã€å°ç±»ï¼Œä½¿ç”¨é›ªèŠ±æ¨¡å‹å»ºæ¨¡æ—¶ï¼Œé€šå¸¸å°†ç»´åº¦è¡¨ä¸­è®°å½•å°ç±»çš„IDï¼Œé¢å¤–è®¾è®¡ä¸€å¼ ç±»åˆ«çš„ç»´åº¦è¡¨ é›ªèŠ±æ¨¡å‹å»é™¤äº†æ•°æ®å†—ä½™ï¼ŒèŠ‚çœäº†éƒ¨åˆ†å­˜å‚¨ï¼Œä½†ä¹Ÿå¸¦æ¥äº†ä¸€å®šçš„ä¸å˜ï¼Œä½¿å¾—ä¸šåŠ¡äººå‘˜åˆ†ææŸ¥è¯¢æ—¶éœ€è¦å…³è”å¤šå¼ ç»´åº¦è¡¨ã€‚ ï¼ˆ2ï¼‰æ˜Ÿç³»æ¨¡å‹åˆ™æ˜¯å…è®¸ä¸€å®šçš„å†—ä½™ï¼Œå°†ç»´åº¦å±‚æ¬¡æ‰å¹³åŒ–ï¼Œé€šè¿‡ç‰ºç‰²ä¸€å°éƒ¨åˆ†ç©ºé—´æ¢å–æŸ¥è¯¢æ—¶å¿«æ· PS:æŸäº›æƒ…å†µä¸‹å¯ä»¥éœ€è¦ç”¨åˆ°é›ªèŠ±æ¨¡å‹]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x1 æ•°æ®ä»“åº“</category>
        <category>1x11 æ•°æ®å»ºæ¨¡</category>
      </categories>
      <tags>
        <tag>å»ºæ¨¡</tag>
        <tag>æ•°æ®ä»“åº“</tag>
        <tag>ç»´åº¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®ä»“åº“ä¸“é¢˜(3)-ERå»ºæ¨¡]]></title>
    <url>%2F2018%2F12%2F27%2Fer-modeling%2F</url>
    <content type="text"><![CDATA[1ã€ä»€ä¹ˆæ˜¯ERå»ºæ¨¡ï¼Ÿç†è§£å…³é”®å­—ï¼šERæ¨¡å‹åˆç§°å®ä½“-å…³ç³»æ¨¡å‹ï¼Œéµå¾ª3NFå»ºæ¨¡ï¼Œé‡‡ç”¨ERè¿›è¡Œæ•°æ®ä»“åº“å»ºæ¨¡éœ€è¦ä»æ•´ä¸ªä¼ä¸šçš„è§’åº¦ç†æ¸…å„ä¸šåŠ¡ä¹‹é—´çš„å…³ç³»ï¼Œå»ºæ¨¡çš„å‡ºå‘ç‚¹æ˜¯åŸºäºä¼ä¸šæ•°æ®çš„æ•´åˆï¼Œå»ºè®¾EDWéœ€è¦å»ºæ¨¡äººå‘˜å¯¹ä¼ä¸šæ•´ä½“ä¸šåŠ¡æœ‰ç²¾æ·±çš„æŠŠæ§ ä¾‹å¦‚ï¼šTeradataçš„ FS-LDMæ¨¡å‹ï¼Œå°†é‡‘èä¸šåŠ¡åˆ†ä¸º10å¤§ä¸»é¢˜ï¼Œé€šå¸¸æ˜¯å¯¹æ•´ä½“è¡Œä¸šå‘å±•çš„æ²‰æ·€ï¼Œå°†æˆç†Ÿçš„æ¨¡å‹åšé€‚å½“çš„è°ƒæ•´å³å¯å¿«é€Ÿè½åœ°å®æ–½ 2ã€ERå»ºæ¨¡çš„ä¸‰ä¸ªé˜¶æ®µç†è§£å…³é”®å­—ï¼šERæ¨¡å‹æ˜¯è‡ªä¸Šè€Œä¸‹çš„å»ºæ¨¡æ–¹å¼ï¼Œç”±æ­¤å»ºæ¨¡çš„éœ€è¦å…ˆä»ä¼ä¸šçš„æ•´ä½“æ¡†æ¶è¿›è¡Œé«˜åº¦æŠ½è±¡ ï¼ˆ1ï¼‰é«˜å±‚æ¨¡å‹â€‹ ä¸€ä¸ªé«˜åº¦æŠ½è±¡çš„æ¨¡å‹ï¼Œæè¿°ä¸»è¦çš„ä¸»é¢˜åŠä¸»ä½“é—´çš„å…³ç³»ï¼Œç”¨äºæè¿°ä¼ä¸šçš„æ€»ä½“æƒ…å†µï¼ˆ2ï¼‰ä¸­å±‚æ¨¡å‹â€‹ åœ¨é«˜å±‚æ¨¡å‹çš„åŸºç¡€ä¸Šï¼Œç»†åŒ–ä¸»é¢˜åŸŸçš„å®ä½“ã€å…³ç³»ç­‰æ•°æ®é¡¹ï¼ˆ3ï¼‰ç‰©ç†æ¨¡å‹â€‹ åœ¨ä¸­å±‚æ¨¡å‹çš„åŸºç¡€ä¸Šï¼Œé€šå¸¸ä¼šæ ¹æ®å¹³å°çš„ç‰¹æ€§è¿›è¡Œç‰©ç†å±æ€§è®¾è®¡ï¼Œä¾‹å¦‚ï¼šåˆ†è¡¨ã€åˆ†åŒºã€åˆ†åŒºç´¢å¼•ç­‰è®¾è®¡ç†è§£å…³é”®å­—2ï¼šå…ˆé€šè¿‡æ•´åˆæ•´ä¸ªä¼ä¸šçš„ä¸šåŠ¡å…³ç³»ï¼Œåˆ’åˆ†ç›¸åº”ä¸»é¢˜åŸŸåŠå¯¹åº”çš„ä¸»é¢˜ä¹‹é—´çš„å…³ç³»ï¼Œå†ç»†åŒ–æ¯ä¸ªä¸»é¢˜åŸŸä¸­çš„å†…å®¹ï¼Œæœ€åæ˜¯æ ¹æ®å¹³å°çš„ç‰¹ç‚¹è¿›è¡Œç‰©ç†è®¾è®¡]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x1 æ•°æ®ä»“åº“</category>
        <category>1x11 æ•°æ®å»ºæ¨¡</category>
      </categories>
      <tags>
        <tag>å»ºæ¨¡</tag>
        <tag>æ•°æ®ä»“åº“</tag>
        <tag>ER</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®ä»“åº“ä¸“é¢˜(2)-æ•°æ®å»ºæ¨¡]]></title>
    <url>%2F2018%2F12%2F26%2Fdata-modeling%2F</url>
    <content type="text"><![CDATA[1ã€ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®å»ºæ¨¡ï¼Ÿç†è§£å…³é”®å­—ï¼šæ•°æ®å»ºæ¨¡å°±æ˜¯æ•°æ®ç»„ç»‡å’Œå­˜å‚¨çš„æ–¹æ³•æ•°æ®æ¨¡å‹æ˜¯æ•°æ®ç»„ç»‡å’Œå­˜å‚¨æ–¹æ³•ï¼Œæ­£å¦‚æˆ‘ä»¬å¸Œæœ›å›¾ä¹¦é¦†çš„ä¹¦åˆ†é—¨åˆ«ç±»çš„æ”¾ç½®ã€‚æ•°æ®æ¨¡å‹å¼ºè°ƒä»ä¸šåŠ¡ã€æ•°æ®å­˜å–å’Œä½¿ç”¨è§’åº¦åˆç†è§„åˆ’æ•°æ® é‚£ä¹ˆä¸ºä»€ä¹ˆéœ€è¦æ•°æ®å»ºæ¨¡å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä»å»ºæ¨¡æœ‰å“ªäº›å¥½å¤„ç†è§£ ï¼ˆ1ï¼‰æ€§èƒ½ è‰¯å¥½çš„æ¨¡å‹èƒ½å¸®åŠ©æˆ‘ä»¬å¿«é€ŸæŸ¥è¯¢æ‰€éœ€è¦çš„æ•°æ®ï¼Œå‡å°‘ä¸å¿…è¦çš„æ•°æ®æŸ¥è¯¢I/Oï¼ˆ2ï¼‰æˆæœ¬ è‰¯å¥½çš„æ•°æ®æ¨¡å‹èƒ½å¤Ÿæå¤§åœ°å‡å°‘ä¸å¿…è¦çš„æ•°æ®å­˜å‚¨ï¼Œä¹Ÿèƒ½å®ç°è®¡ç®—ç»“æœçš„å¤ç”¨ï¼Œæå¤§åœ°é™ä½å¤§æ•°æ®ç³»ç»Ÿä¸­çš„å­˜å‚¨å’Œè®¡ç®—æˆæœ¬ï¼ˆ3ï¼‰æ•ˆç‡ è‰¯å¥½çš„æ•°æ®æ¨¡å‹èƒ½å¤Ÿæå¤§åœ°æé«˜ç”¨æˆ·ä½“éªŒï¼Œç”¨æˆ·å¯é€šè¿‡ä¸šåŠ¡æ²‰æ·€åçš„æ¨¡å‹å°½å¯èƒ½å‡å°‘ä¸å¿…è¦çš„æŸ¥è¯¢ï¼Œä»è€Œæé«˜æ•ˆç‡ï¼ˆ4ï¼‰è´¨é‡ è‰¯å¥½çš„æ•°æ®æ¨¡å‹å°†éµå¾ªä¸€å®šçš„æ•°æ®è§„èŒƒï¼ˆä¾‹å¦‚ï¼šå£å¾„çº¦æŸï¼Œå­—æ®µçº¦æŸç­‰ï¼‰ä»è€Œå‡å°‘æ•°æ®è®¡ç®—çš„å¤±è¯¯ï¼Œä¿éšœæ•°æ®è´¨é‡ 2ã€OLTPä¸OLAPçš„åŒºåˆ«ç†è§£å…³é”®å­—ï¼š OLTP æ˜¯è®²ç©¶äº‹åŠ¡ï¼Œåœ¨OLAPä¸­äº‹åŠ¡ä¸æ˜¯æ‰€å…³æ³¨çš„ï¼Œä¸»è¦æ˜¯æ‰¹é‡çš„è¯»å†™ï¼Œè‡´åŠ›äºè”æœºåˆ†æ ä¸€ä¸ªæ˜¯è®²ç©¶å¿«é€Ÿå“åº”ï¼Œä¸€ä¸ªæ˜¯è®²ç©¶å¤§ååOLTPé€šå¸¸ä½¿ç”¨ERæ¨¡å‹ï¼Œé‡‡ç”¨ä¸‰èŒƒå¼æ¶ˆé™¤æ•°æ®ä¸­çš„å†—ä½™ï¼Œè€ŒOLAPé‡‡ç”¨çš„æ¨¡å‹åˆ™æ¯”è¾ƒä¸°å¯Œ 3ã€æœ‰å“ªäº›å»ºæ¨¡æ–¹æ³•è®ºï¼Ÿï¼ˆ1ï¼‰ERå»ºæ¨¡ï¼ˆ2ï¼‰ç»´åº¦å»ºæ¨¡ï¼ˆ3ï¼‰Data vaultå»ºæ¨¡ï¼ˆ4ï¼‰Anchorå»ºæ¨¡]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x1 æ•°æ®ä»“åº“</category>
        <category>1x11 æ•°æ®å»ºæ¨¡</category>
      </categories>
      <tags>
        <tag>å»ºæ¨¡</tag>
        <tag>æ•°æ®ä»“åº“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hive SQLä¼˜åŒ–]]></title>
    <url>%2F2018%2F12%2F25%2Fsql-optimization%2F</url>
    <content type="text"><![CDATA[0x00 group by å¼•èµ·çš„å€¾æ–œ1|ä¼˜åŒ–æªæ–½12set hive.map.aggr = trueset hive.groupby.skewindata = true 2|åŸç†â€‹ ä½œä¸šå°†ç”Ÿæˆä¸¤ä¸ªMapReduce Job â€‹ ç¬¬ä¸€ä¸ªMapReduce Jobä¸­ Mapçš„è¾“å‡ºç»“æœä¼šéšæœºçš„åˆ†å¸ƒåˆ°Reduceä¸­ï¼Œæ¯ä¸ªReduceåšéƒ¨åˆ†èšåˆæ“ä½œå¹¶è¾“å‡ºç»“æœï¼Œè¿™æ ·å¤„ç†çš„ç»“æœ ç›¸åŒçš„group by keyä¼šåˆ†å¸ƒåˆ°ä¸åŒçš„reduceä¸­ â€‹ ç¬¬äºŒä¸ªMapReduce Jobä¸­ å†æ ¹æ® ç›¸åŒgroup by keyåˆ†å¸ƒåˆ°reduceä¸­ 0x01 count distinct ä¼˜åŒ–1|ä¾‹å­1select count(distinct ssn) from table 2|è¯´æ˜â€‹ ç”±äºå¦‚ä¸ŠSQLï¼ŒHiveä¼šå°†Mapé˜¶æ®µçš„è¾“å‡ºå…¨éƒ¨åˆ†å¸ƒåˆ°ä¸€ä¸ªReduceä¸­ï¼Œå¾ˆå®¹æ˜“å¼•èµ·æ€§èƒ½é—®é¢˜ 3|æ­£ç¡®çš„æ“ä½œæ–¹æ³•12345select count(1) from ( select ssn from table group by ssn) t 12-- åŸç†-- åˆ©ç”¨group by å…ˆè¿›è¡Œæ•°æ®å»é‡ï¼Œç„¶åå†è¿›è¡Œè®¡æ•°ï¼Œè®¡æ•°æ˜¯ä¸å¯é¿å…çš„ï¼Œç›®çš„æ˜¯ä¸ºäº†å¤§é‡å‡å°‘é‡å¤è®¡æ•° 0x02 å¤§è¡¨joinå°è¡¨1|æ–¹æ³•â€‹ ä¸€èˆ¬éƒ½æ˜¯é‡‡ç”¨ map joinçš„æ–¹æ³•ï¼Œé»˜è®¤Hiveæ˜¯å¼€å¯ mapjoinï¼Œå…¶Hiveè®¾ç½®å‚æ•°å¦‚ä¸‹ï¼š 1set hive.auto.convert.join = true; â€‹ æˆ–è€…æ˜¯ä½¿ç”¨Hintçš„æ–¹å¼è¿›è¡Œå°è¡¨æŒ‡å®š 2|æ¡ˆä¾‹12345678select /*+mapjoin(t1)*/ t0.ssn ,t1.namefrom big_table0 t0inner join small_table1 t1on t0.ssn = t1.ssn;-- /*+mapjoin(t1)*/ å³ map join hintï¼Œå¦‚æœéœ€è¦mapjoinå¤šä¸ªè¡¨ï¼Œåˆ™æ ¼å¼ä¸º /*+mapjoin(t1,t2,t3)*/ 0x03 å¤§è¡¨joinå¤§è¡¨(å¾…è¡¥å……)â€‹ 1|é—®é¢˜åœºæ™¯ â€‹ 2|è§£å†³æ–¹æ³•1 â€‹ 3|è§£å†³æ–¹æ³•2 0x04 ä¼˜åŒ–æ¡ˆä¾‹1|ä¸šåŠ¡èƒŒæ™¯ï¼šâ€‹ ç­›é€‰å‡º å½“æ—¥ æ³¨å†Œäº§å“ã€æ³¨å†ŒIPä¸ºç»´åº¦ä¸‹è¶…è¿‡30ä¸ªå¸å·çš„ å¸å·æ¸…å• 2|å¸¸è§„åšæ³•â€‹ å…ˆç­›é€‰å‡ºæ»¡è¶³ æ³¨å†Œäº§å“ã€æ³¨å†ŒIP æ•°é‡è¶…è¿‡30ä¸ªçš„ æ³¨å†Œäº§å“åŠæ³¨å†ŒIPçš„ç»´åº¦æ¸…å•ï¼Œç„¶åå†å…³è”æºè¡¨è¿›è¡Œç­›é€‰å‡ºå¸å· 1234567891011121314151617181920212223242526272829303132333435363738394041create table tmp.tmp_algorithm1 asSELECT t1.ssn, 1 AS rubbish_rateFROM ( SELECT dt, ssn, reg_ip, reg_product FROM dw.dw_user_static_reg_info_dd WHERE dt = '2018-11-22' AND ( split(ssn, '@') [1] IN ('126.com', 'yeah.net', 'vip.126.com', 'vip.163.com') OR split(ssn, '@') [1] IS NULL ) ) t1 JOIN ( SELECT dt, reg_ip, reg_product, count(*) AS cnt FROM dw.dw_user_static_reg_info_dd WHERE dt = '2018-11-22' AND ( split(ssn, '@') [1] IN ('126.com', 'yeah.net', 'vip.126.com', 'vip.163.com') OR split(ssn, '@') [1] IS NULL ) GROUP BY dt,reg_ip, reg_product HAVING cnt &gt;= 30 ) t2 ON t1.dt=t2.dt and t1.reg_ip = t2.reg_ip AND t1.reg_product = t2.reg_productGROUP BY t1.ssn; 3|ä¼˜åŒ–åšæ³•â€‹ ä½¿ç”¨çª—å£å‡½æ•°è¿›è¡Œç»´åº¦å†…è®¡æ•°ï¼Œå¦‚ä¸‹é€šè¿‡çª—å£å‡½æ•°è®¡ç®—åœ¨ ç»´åº¦ æ³¨å†Œäº§å“ã€æ³¨å†ŒIPä¸‹çš„æ•°é‡ï¼Œé€šè¿‡å­æŸ¥è¯¢è¿›è¡Œç­›é€‰å‡ºç›®æ ‡å¸å·æ¸…å• 12345678910111213141516create table tmp.tmp_algorithm2 asselect ssn,1 as rubbish_ratefrom(select ssn ,reg_ip ,reg_product ,count(1) over(partition by reg_ip,reg_product) as cnt from dw.dw_user_static_reg_info_ddwhere dt = '2018-11-22' and ( split(ssn, '@') [1] in ('126.com', 'yeah.net', 'vip.126.com', 'vip.163.com') or split(ssn, '@') [1] is null )) twhere cnt &gt;= 30; 4|ä¼˜åŒ–æ€è·¯â€‹ ç”±äºHQL æ˜¯è½¬æ¢ä¸ºMapReduceçš„å½¢æ€è¿›è¡Œæ•°æ®è®¡ç®—ï¼Œå¸¸è§„åšæ³•ä¸­ä¼šå¯ç”¨å¤§é‡çš„MapReduceï¼Œå¹¶é‡å¤çš„æŠ½å–äº†æºè¡¨æ•°æ®ï¼Œæµªè´¹äº†è®¡ç®—ï¼Œä¼˜åŒ–åšæ³•æ˜¯å®ç°ä¸€ä»½æ•°æ®æå–ï¼Œå¤æ‚å†…å­˜è®¡ç®—ï¼Œä»è€Œå‡å°‘ä½¿ç”¨è®¡ç®—èµ„æº]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x2 æŠ€æœ¯å¹³å°</category>
        <category>1x21 Hive</category>
      </categories>
      <tags>
        <tag>Hive</tag>
        <tag>SQL</tag>
        <tag>ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®ä»“åº“ä¸“é¢˜(1)-æ•°ä»“æ¦‚è®º]]></title>
    <url>%2F2018%2F12%2F20%2Fedw-brief-summary%2F</url>
    <content type="text"><![CDATA[é€šå¸¸æ¥è®²ï¼Œå¤§å®¶éƒ½çŸ¥é“æ•°æ®ä»“åº“çš„å®˜æ–¹æ¦‚å¿µæ•°æ®ä»“åº“æ¦‚å¿µåˆ›å§‹äººW.H.Inmonåœ¨ã€Šå»ºç«‹æ•°æ®ä»“åº“ã€‹ä¸€ä¹¦ä¸­å¯¹æ•°æ®ä»“åº“çš„å®šä¹‰æ˜¯ï¼šæ•°æ®ä»“åº“å°±æ˜¯é¢å‘ä¸»é¢˜çš„ã€é›†æˆçš„ã€ç›¸å¯¹ç¨³å®šçš„ã€éšæ—¶é—´ä¸æ–­å˜åŒ–ï¼ˆä¸åŒæ—¶é—´ï¼‰çš„æ•°æ®é›†åˆï¼Œç”¨ä»¥æ”¯æŒç»è¥ç®¡ç†ä¸­çš„å†³ç­–åˆ¶å®šè¿‡ç¨‹ã€æ•°æ®ä»“åº“ä¸­çš„æ•°æ®é¢å‘ä¸»é¢˜ï¼Œä¸ä¼ ç»Ÿæ•°æ®åº“é¢å‘åº”ç”¨ç›¸å¯¹åº”ã€‚ 0x1 æ•°æ®ä»“åº“æœ‰å“ªäº›ç‚¹ï¼Ÿèƒ½çœ‹åˆ°é‚£äº›é¢? å¾ˆå¤šæ•°æ®å¼€å‘äººå‘˜ï¼Œæ— æ³•å°†æ•°æ®ä»“åº“çš„ç‚¹è¿æˆçº¿ï¼Œæ›´åˆ«è¯´ç”±çº¿ç»‡æˆé¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬è¿›è¡Œä¸€äº›å¤´è„‘é£æš´ï¼Œçœ‹çœ‹æ•°æ®ä»“åº“éƒ½æœ‰å“ªäº›å†…å®¹ï¼Ÿ æ€»çš„æ¥è¯´ï¼Œæ•°æ®ä»“åº“å¯ä»¥æ•´ç†å¦‚ä¸‹4å—å†…å®¹ï¼šï¼ˆ1ï¼‰æ•°æ®å»ºæ¨¡æ–¹æ³•è®ºï¼ˆ2ï¼‰å®æ–½æ–¹æ³•è®ºï¼ˆæœ€ä½³å®è·µï¼‰ï¼ˆ3ï¼‰æ•°æ®ç®¡ç†ï¼ˆ4ï¼‰æ•°æ®åº”ç”¨ æ¯ä¸€å—å†…å®¹æ‹¿å‡ºæ¥è®²ï¼Œéƒ½æ˜¯æ— è¾¹ç•Œçš„ï¼Œè¦æƒ³æˆä¸ºè¿™ä¸€é¢†åŸŸçš„ä¸“å®¶ï¼Œéœ€è¦æœ‰æ•°æ®ä»“åº“çš„å…¨å±€è§‚å¹¶ä¸”æœ‰æŸä¸€é¢†åŸŸçš„æœ€ä½³å®è·µã€‚æ•°ä»“ä¹‹è·¯ï¼Œä»»é‡è€Œé“è¿œï¼ï¼ï¼]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x1 æ•°æ®ä»“åº“</category>
        <category>1x11 æ•°æ®å»ºæ¨¡</category>
      </categories>
      <tags>
        <tag>æ•°æ®ä»“åº“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ©ç”¨fuse_dfså¿«é€Ÿå»ºç«‹hdfsäº‘å­˜å‚¨]]></title>
    <url>%2F2018%2F08%2F16%2Ffuse-hdfs%2F</url>
    <content type="text"><![CDATA[ä¸€ã€ä»‹ç»&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°†HDFSæŒ‚è½½åˆ°æœ¬åœ°ï¼Œå…è®¸ç”¨æˆ·åƒè®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸€æ ·è®¿é—®è¿œç¨‹æ–‡ä»¶ç³»ç»Ÿï¼Œç”¨æˆ·å¯åƒè¯»å†™æœ¬åœ°æ–‡ä»¶ä¸€æ ·è¯»å†™HDFSä¸Šçš„æ–‡ä»¶ï¼Œå¤§å¤§ç®€åŒ–äº†HDFSä½¿ç”¨ï¼Œæ–¹æ³•è¾ƒä¸ºå¸¸ç”¨ä¸¤ç§æ–¹æ³•æ˜¯ï¼šåˆ©ç”¨fuse_dfsæˆ–è€…åˆ©ç”¨NFSv3ï¼Œå› NFSv3éœ€å¯¹Hadoopé›†ç¾¤ç«¯è¿›è¡Œæ“ä½œï¼Œä¿®æ”¹ä»£ä»·å¤ªå¤§ï¼Œæœ¬æ–‡ä»‹ç»ä»¥fuse_dfsï¼Œåªéœ€åœ¨å®¢æˆ·ç«¯è¿›è¡Œé…ç½®å³å¯æŒ‚è½½hdfsã€‚&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”¨æˆ·ç©ºé—´æ–‡ä»¶ç³»ç»Ÿï¼ˆFilesystem in Userspaceï¼Œç®€ç§°FUSEï¼‰æ˜¯ä¸€ä¸ªé¢å‘ç±»Unixè®¡ç®—æœºæ“ä½œç³»ç»Ÿçš„è½¯ä»¶æ¥å£ï¼Œå®ƒä½¿æ— ç‰¹æƒçš„ç”¨æˆ·èƒ½å¤Ÿæ— éœ€ç¼–è¾‘å†…æ ¸ä»£ç è€Œåˆ›å»ºè‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿã€‚ç›®å‰Linuxé€šè¿‡å†…æ ¸æ¨¡å—å¯¹æ­¤è¿›è¡Œæ”¯æŒã€‚ä¸€äº›æ–‡ä»¶ç³»ç»Ÿå¦‚ZFSã€glusterfså’Œlustreä½¿ç”¨FUSEå®ç°ã€‚Linuxç”¨äºæ”¯æŒç”¨æˆ·ç©ºé—´æ–‡ä»¶ç³»ç»Ÿçš„å†…æ ¸æ¨¡å—åå«FUSEï¼ŒFUSEä¸€è¯æœ‰æ—¶ç‰¹æŒ‡Linuxä¸‹çš„ç”¨æˆ·ç©ºé—´æ–‡ä»¶ç³»ç»Ÿã€‚é€šè¿‡ä½¿ç”¨Hadoopçš„Fuse-DFSåˆ†ç±»æ¨¡å—ï¼Œä»»æ„ä¸€ä¸ªHadoopæ–‡ä»¶ç³»ç»Ÿ(ä¸è¿‡ä¸€èˆ¬ä¸ºHDFS)éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªæ ‡å‡†æ–‡ä»¶ç³»ç»Ÿè¿›è¡ŒæŒ‚è½½ã€‚Hadooopæºç ä¸­è‡ªå¸¦äº†fuse-dfsæ¨¡å—ï¼Œåˆ©ç”¨fuse_dfså°†hdfså½“ä¸€ä¸ªç½‘ç›˜æŒ‚è½½åˆ°æœ¬åœ°ã€‚ äºŒã€åº”ç”¨åœºæ™¯&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŒæ­¥ï¼šå®ç°ç”¨æˆ·å¯¹ä¸ªäººè®¡ç®—æŒ‡å®šç›®å½•ä¸‹çš„ç‰¹å®šç±»å‹çš„æ–‡ä»¶è‡ªåŠ¨ä¸HDFSåŒæ­¥ï¼Œå®æ—¶ç›‘æµ‹ç”¨æˆ·æ–‡ä»¶å˜åŒ–æƒ…å†µã€‚ä¸éœ€è¦ç”¨æˆ·å¹²é¢„å°±èƒ½åŠæ—¶è‡ªåŠ¨å¤‡ä»½æ–‡ä»¶ã€‚å½“ç”¨æˆ·æ–°å»ºã€ä¿®æ”¹æˆ–åˆ é™¤æ–‡ä»¶ï¼ˆç›®å½•ï¼‰æ—¶è‡ªåŠ¨æ›´æ–°åŒæ­¥ï¼Œä¿éšœç”¨æˆ·é‡è¦æ–‡ä»¶çš„å®‰å…¨ã€‚å½“ç”¨æˆ·ç§»åŠ¨åŠå…¬æ—¶ï¼Œå¯ç›´æ¥ä»HDFSè®¿é—®ï¼Œçœç•¥äº†ç§»åŠ¨å­˜å‚¨ä»‹è´¨çš„æ‹·è´è¿‡ç¨‹ï¼Œæé«˜ç”¨æˆ·å·¥ä½œæ•ˆç‡ã€‚æ›´æ¢æ–°è®¡ç®—æœºæ—¶ï¼Œç”¨æˆ·ç™»å½•ååŸè®¡ç®—æœºä¸­çš„ä¸ªäººæ–‡ä»¶å°†è‡ªåŠ¨ä»HDFSå­˜å‚¨ä¸­åŒæ­¥åˆ°æ–°è®¡ç®—æœºä¸­ã€‚ä¾‹å¦‚ï¼šé€‚ç”¨æ•°æ®ä»“åº“éœ€è¦ETLè¿›è¡ŒHadoopæ–‡ä»¶è¿›è¡Œftpæˆ–è€…rsyncæ¨é€çš„åœºæ™¯ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç½‘ç›˜ï¼šç”¨æˆ·å¯å°†ä¸å¸¸ç”¨çš„æ–‡ä»¶å­˜å‚¨åœ¨HDFSå­˜å‚¨ä¸­ï¼Œä»è€ŒèŠ‚çº¦æœ¬åœ°å­˜å‚¨ç©ºé—´ï¼Œæé«˜æ–‡ä»¶çš„ç‰©ç†å®‰å…¨æ€§ï¼Œä¹Ÿä¾¿äºèµ„æºå…±äº«ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…±äº«ï¼šç”¨æˆ·å¯ä»¥æŠŠç½‘ç›˜æˆ–åŒæ­¥ç›˜çš„ä»»æ„æ–‡ä»¶ï¼ˆç›®å½•ï¼‰åˆ†äº«ç»™ç¾¤ç»„æˆ–å…¶ä»–ç”¨æˆ·ã€‚åªéœ€è¦åœ¨äº‘å­˜å‚¨ä¸­å­˜å‚¨ä¸€ä»½æ–‡ä»¶ï¼Œè¢«åˆ†äº«çš„äººä¸éœ€è¦ä¸‹è½½å­˜å‚¨å³å¯åœ¨çº¿æµè§ˆï¼Œå®ç°èµ„æºå…±äº«ã€‚è‹¥æºæ–‡ä»¶è¢«ä¿®æ”¹ï¼Œæ‰€æœ‰åˆ†äº«äººç«‹å³ä¼šå¾—åˆ°æ›´æ–°æ–‡ä»¶ã€‚ ä¸‰ã€éƒ¨ç½²å®ç°&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç›®å‰ç½‘ç»œä¸Šå…³äºåˆ©ç”¨fuseæŒ‚è½½hdfsè¾ƒå¤šåŸºäºè¾ƒæ—©ç‰ˆæœ¬çš„hadoop(0.xï¼Œ1.x) ï¼Œå¹¶å¤§å¤šéƒ½åŸºäºæ— kerberosè®¤è¯ï¼Œæœ¬æ–‡ä»¥åŒ—äº¬äº¦åº„Hadoop 2.5.2ä¸ºä¾‹ï¼Œä»‹ç»é€šè¿‡fuseæŒ‚è½½hdfsåˆ°æœ¬åœ°çš„æ–¹æ³•ã€‚è®¾å®šæºç ç›®å½•ä¸º$HADOOP_SRC_HOMEï¼Œé‚£ä¹ˆHadoop 2.x çš„ fuse_dfs æºç ä½äº1$HADOOP_SRC_HOME/hadoop-hdfs-project/hadoop-hdfs/src/main/native/ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é‚£ä¹ˆæ€ä¹ˆç¼–è¯‘fuse_dfsï¼Ÿfuse_dfsæ˜¯Hadoopè‡ªå¸¦æ¨¡å—ï¼Œç¼–è¯‘Hadoopæ—¶ï¼Œå¢åŠ ç¼–è¯‘å‚æ•°require.fuse=trueï¼Œå³ç¼–è¯‘å‘½ä»¤å¦‚ä¸‹1mvn package -Drequire.fuse=true -DskipTests -Dmaven.javadoc.skip=true -Dtar ç¼–è¯‘ç¯å¢ƒ123456789Linux: 3.16.0-0.bpo.4-amd64 (Debian7)JDK: 1.7.0_80 64bitApache Hadoop: 2.5.2 Ant: 1.8.2GCC: 4.7.2 (ç³»ç»Ÿé»˜è®¤)Protocbuf 2.5.0Maven 3.0.4Cmake 2.8.9Make 3.8.1 å®‰è£…fuseç­‰ä¾èµ–1sudo apt-get -y install maven build-essential autoconf automake libtool cmake zlib1g-dev pkg-config libssl-dev libfuse-dev ç¼–è¯‘fuse_dfs(Hadoop)123456789101112# ä¸‹è½½mkdir package &amp;&amp; cd packagewget http://archive.apache.org/dist/hadoop/core/hadoop-2.5.2/hadoop-2.5.2-src.tar.gz#è§£å‹tar -zxvf hadoop-2.5.2-src.tar.gzln -s hadoop-2.5.2-src hadoop-srcecho "export HADOOP_SRC_HOME=$HOME/package/hadoop-src/" &gt;&gt; .bashrc &amp;&amp; source .bashrc# ç¼–è¯‘cd hadoop-2.5.2-srcmvn package -Drequire.fuse=true -DskipTests -Dmaven.javadoc.skip=true -Dtar PS: ç¼–è¯‘Hadoopä¹‹å‰éœ€æå‰å®‰è£…å¥½fuseï¼Œå¦åˆ™fuse_dfsæ— æ³•ç¼–è¯‘æˆåŠŸ123456# ç¼–è¯‘åçš„fuse_dfsä½äºï¼š$HADOOP_SRC_HOME/hadoop-hdfs-project/hadoop-hdfs-native-client/target/main/native/fuse-dfs/fuse_dfs# å®Œæ•´çš„HadoopåŒ…åˆ™ä½äºï¼š$HADOOP_SRC_HOME/hadoop-dist/target/hadoop-2.5.2.tar.gz# ä¸€ä¸ªç”¨äºæŒ‚è½½hdfsçš„è„šæœ¬ï¼š$HADOOP_SRC_HOME/hadoop-hdfs-project/hadoop-hdfs-native-client/src/main/native/fuse-dfs/fuse_dfs_wrapper.sh éƒ¨ç½²Hadoopï¼ˆç•¥ï¼‰é…ç½®ã€fuse_dfs_wrapper.shHDFSæŒ‚è½½ä¸»è¦ä¾èµ–æºç çš„ä¸¤ä¸ªæ¨¡å—ï¼Œä¸€ä¸ªæ˜¯hadoop-hdfs-projectï¼Œå¦ä¸€ä¸ªæ˜¯hadoop-clientï¼Œå¯å°†ä¾èµ–çš„jaråŒ…å•ç‹¬æç‚¼å‡ºæ¥ã€‚ 123456789101112131415161718192021222324252627282930313233343536#!/usr/bin/env bashexport HADOOP_HOME=$&#123;HADOOP_HOME:-/usr/local/share/hadoop&#125;export HADOOP_CONF_DIR=$&#123;HADOOP_HOME&#125;/etc/hadoopexport HADOOP_PREFIX=$HOME/package/hadoop-srcexport JAVA_HOME=$HOME/opt/jdkexport FUSEDFS_PATH="$HADOOP_PREFIX/hadoop-hdfs-project/hadoop-hdfs/target/native/main/native/fuse-dfs"export LIBHDFS_PATH="$HADOOP_PREFIX/hadoop-hdfs-project/hadoop-hdfs/target/native/target/usr/local/lib"if [ "$OS_ARCH" = "" ]; then export OS_ARCH=amd64fiif [ "$JAVA_HOME" = "" ]; then export JAVA_HOME=/usr/local/javafiif [ "$LD_LIBRARY_PATH" = "" ]; thenexport LD_LIBRARY_PATH=$JAVA_HOME/jre/lib/$OS_ARCH/server:/usr/local/libfiJARS=`find "$HADOOP_PREFIX/hadoop-hdfs-project" -name "*.jar" | xargs`for jar in $JARS; do CLASSPATH=$jar:$CLASSPATHdoneJARS=`find "$HADOOP_PREFIX/hadoop-client" -name "*.jar" | xargs`for jar in $JARS; do CLASSPATH=$jar:$CLASSPATHdoneexport CLASSPATH=$HADOOP_CONF_DIR:$CLASSPATHexport PATH=$FUSEDFS_PATH:$PATHexport LD_LIBRARY_PATH=$LIBHDFS_PATH:$JAVA_HOME/jre/lib/$OS_ARCH/server:$LD_LIBRARY_PATHfuse_dfs $@ åˆ©ç”¨å‘½ä»¤ 1234567891011121314 sudo bash ./fuse-dfs/fuse_dfs_wrapper.sh hdfs://$&#123;nn&#125;:$&#123;port&#125; /mnt/hdfsINFO /home/hzxijingjing/package/hadoop-2.5.2-src/hadoop-hdfs-project/hadoop-hdfs/src/main/native/fuse-dfs/fuse_options.c:164 Adding FUSE arg /mnt/hdfs# æŒ‚è½½ä¿¡æ¯ df -hFilesystem Size Used Avail Use% Mounted onrootfs 50G 8.2G 39G 18% /udev 10M 0 10M 0% /devtmpfs 1.6G 216K 1.6G 1% /run/dev/vda1 50G 8.2G 39G 18% /tmpfs 5.0M 4.0K 5.0M 1% /run/locktmpfs 3.2G 0 3.2G 0% /run/shm/dev/vdb1 99G 75M 94G 1% /datafuse_dfs 49G 0 49G 0% /mnt/hdfs # HDFSæŒ‚è½½æˆåŠŸ â€‹ è‡³æ­¤ä¸ºæ­¢ï¼Œå·²å®ç°æ— ç®€å•è®¤è¯çš„HadoopæŒ‚è½½ï¼Œç„¶è€Œå¯¹äºé…ç½®äº†kerberosè®¤è¯çš„Hadoopï¼Œå®æ–½æŒ‚è½½ä¼šå‡ºç°å¦‚ä¸‹æƒ…å†µï¼š123cd /mnt &amp;&amp; ls -lhls: cannot access hdfs: Transport endpoint is not connectedd????????? ? ? ? ? ? hdfs åç½®å‚æ•° -dï¼Œè¿›å…¥debugæ¨¡å¼ï¼Œ æŸ¥çœ‹è¿è¡Œä¿¡æ¯ 1sudo /bin/sh ./fuse-dfs/fuse_dfs_wrapper.sh hdfs://$&#123;nn&#125;:$&#123;port&#125; /mnt/dfs -d 1234567891011121314151617181920212223242526272829............ # çœç•¥ä¸€äº›æ— ç”¨æ—¥å¿— FUSE library version: 2.9.0nullpath_ok: 0nopath: 0utime_omit_ok: 0unique: 1, opcode: INIT (26), nodeid: 0, insize: 56, pid: 0INIT: 7.23flags=0x0003fffbmax_readahead=0x00020000INFO /home/hzxijingjing/package/hadoop-2.5.2-src/hadoop-hdfs-project/hadoop-hdfs/src/main/native/fuse-dfs/fuse_init.c:98 Mounting with options: [ protected=(NULL), nn_uri=hdfs://hadoop1232.hz.163.org:8020, nn_port=0, debug=0, read_only=0, initchecks=0, no_permissions=0, usetrash=1, entry_timeout=60, attribute_timeout=60, rdbuffer_size=10485760, direct_io=0 ]............ # çœç•¥ä¸€äº›æ— ç”¨æ—¥å¿— fuseConnectInit: initialized with timer period 5, expiry period 300 INIT: 7.18 flags=0x00000039 max_readahead=0x00020000 max_write=0x00020000 max_background=0 congestion_threshold=0 unique: 1, success, outsize: 40unique: 2, opcode: STATFS (17), nodeid: 1, insize: 40, pid: 13769statfs / unique: 2, success, outsize: 96unique: 3, opcode: GETATTR (3), nodeid: 1, insize: 56, pid: 13815getattr /fuseNewConnect: failed to find Kerberos ticket cache file '/tmp/krb5cc_0'. Did you remember to kinit for UID 0?fuseConnect(usrname=root): fuseNewConnect failed with error code -13fuseConnectAsThreadUid: failed to open a libhdfs connection! error -13. unique: 3, error: -5 (Input/output error), outsize: 16unique: 4, opcode: STATFS (17), nodeid: 1, insize: 40, pid: 13826 ä»ä¸Šå¯ä»¥çœ‹å‡ºï¼Œå¤§æ¦‚æ˜¯æ— æ³•é€šè¿‡kerberosçš„cacheæ–‡ä»¶/tmp/krb5cc_0è®¤è¯ï¼Œæ—©å°±æ„è¯†åˆ°åŸºäºkerberosçš„hadoopæ˜¯å—éš¾å•ƒçš„éª¨å¤´ï¼Œç”¨è¿‡kerberosè®¤è¯çš„åŒå­¦éƒ½çŸ¥é“ï¼Œkerberosè®¤è¯ä¾èµ–æœ¬åœ°Linuxå‘½ä»¤ kinit å®ç°è®¤è¯ï¼Œè®¤è¯ä¹‹åé€šå¸¸ä¼šæœ‰ä¸€ä¸ªæœ‰æ•ˆæœŸï¼Œå³åœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œæ— éœ€å†æ¬¡è®¤è¯ã€‚ ç„¶è€Œåˆ©ç”¨fuse_dfsæŒ‚è½½kerberosè®¤è¯çš„HDFSï¼Œæ— è®ºæ˜¯åº¦å¨˜è¿˜æ˜¯è°·çˆ¸åœ¨è¿™æ–¹é¢èµ„æ–™ä¹Ÿæ˜¯æå°‘ï¼Œæ— å¥ˆåªèƒ½çœ‹ä¸‹fuse_dfsçš„æºç ã€‚ fuse-dfså®ç°â€‹ fuse_dfsæ˜¯ç”±Cè¯­è¨€å¼€å‘ï¼Œä»£ç ç›®å½•ä½äº$HADOOP_SRC_HOME/hadoop-hdfs-project/hadoop-hdfs/src/main/native/ï¼ˆä¸Šæ–‡æœ‰æåˆ°ï¼‰â€‹ å¦‚ä¸‹æ˜¯fuse_dfsè¿æ¥hdfsåŠæ“ä½œç›¸å…³æºç æ–‡ä»¶ 12./fuse-dfs/fuse_connect.c./libhdfs/hdfs.c vim fuse_connect.cåˆ©ç”¨libhdfså»ºç«‹è¿æ¥123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111 /**å‡½æ•°ä¸»ä½“ä¸­ä¸€æ®µä»£ç è¡¨ç¤ºå¦‚ä½•é€šè¿‡libhdfsè¿æ¥*//** * Create a new libhdfs connection. * * @param usrname Username to use for the new connection * @param ctx FUSE context to use for the new connection * @param out (out param) the new libhdfs connection * * @return 0 on success; error code otherwise */static int fuseNewConnect(const char *usrname, struct fuse_context *ctx, struct hdfsConn **out) /** * Find out what type of authentication the system administrator * has configured. * * @return the type of authentication, or AUTH_CONF_UNKNOWN on error. */ //è·å–Hadoopè®¤è¯æ–¹å¼ static enum authConf discoverAuthConf(void)&#123; int ret; char *val = NULL; enum authConf authConf; ret = hdfsConfGetStr(HADOOP_SECURITY_AUTHENTICATION, &amp;val); if (ret) authConf = AUTH_CONF_UNKNOWN; else if (!val) authConf = AUTH_CONF_OTHER; else if (!strcmp(val, "kerberos")) authConf = AUTH_CONF_KERBEROS; else authConf = AUTH_CONF_OTHER; free(val); return authConf;&#125;// è·å–åˆ°Hadoopçš„è®¤è¯æ–¹å¼ä¹‹åï¼Œé¦–å…ˆæ‰¾kerberosè®¤è¯åçš„cacheæ–‡ä»¶if (gHdfsAuthConf == AUTH_CONF_KERBEROS) &#123; findKerbTicketCachePath(ctx, kpath, sizeof(kpath)); if (stat(kpath, &amp;st) &lt; 0) &#123; fprintf(stderr, "fuseNewConnect: failed to find Kerberos ticket cache " "file '%s'. Did you remember to kinit for UID %d?\n", kpath, ctx-&gt;uid); ret = -EACCES; goto error; &#125;// æŸ¥æ‰¾kerberosè®¤è¯åçš„cacheæ–‡ä»¶ï¼Œä»å‘ç°cacheæ–‡ä»¶ä½äºï¼š/tmp/krb5cc_%d/** * Find the Kerberos ticket cache path. * * This function finds the Kerberos ticket cache path from the thread ID and * user ID of the process making the request. * * Normally, the ticket cache path is in a well-known location in /tmp. * However, it's possible that the calling process could set the KRB5CCNAME * environment variable, indicating that its Kerberos ticket cache is at a * non-default location. We try to handle this possibility by reading the * process' environment here. This will be allowed if we have root * capabilities, or if our UID is the same as the remote process' UID. * * Note that we don't check to see if the cache file actually exists or not. * We're just trying to find out where it would be if it did exist. * * @param path (out param) the path to the ticket cache file * @param pathLen length of the path buffer */static void findKerbTicketCachePath(struct fuse_context *ctx, char *path, size_t pathLen)&#123; FILE *fp = NULL; static const char * const KRB5CCNAME = "\0KRB5CCNAME="; int c = '\0', pathIdx = 0, keyIdx = 0; size_t KRB5CCNAME_LEN = strlen(KRB5CCNAME + 1) + 1; // /proc/&lt;tid&gt;/environ contains the remote process' environment. It is // exposed to us as a series of KEY=VALUE pairs, separated by NULL bytes. snprintf(path, pathLen, "/proc/%d/environ", ctx-&gt;pid); fp = fopen(path, "r"); if (!fp) goto done; while (1) &#123; if (c == EOF) goto done; if (keyIdx == KRB5CCNAME_LEN) &#123; if (pathIdx &gt;= pathLen - 1) goto done; if (c == '\0') goto done; path[pathIdx++] = c; &#125; else if (KRB5CCNAME[keyIdx++] != c) &#123; keyIdx = 0; &#125; c = fgetc(fp); &#125;done: if (fp) fclose(fp); if (pathIdx == 0) &#123; snprintf(path, pathLen, "/tmp/krb5cc_%d", ctx-&gt;uid); // cacheæ–‡ä»¶çš„ç›®å½• &#125; else &#123; path[pathIdx] = '\0'; &#125;&#125; â€‹ ç”±ä¸Šä»£ç å¯ä»¥çœ‹å‡ºï¼Œå‡½æ•°findKerbTicketCachePathä»ä¸Šä¸‹æ–‡ctxä¸­è·å–uidä»è€Œè·å–/tmp/krb5cc_${uid}ï¼Œé‚£ä¹ˆå¦‚ä½•æŒ‚è½½hdfsæ—¶ï¼Œè¯†åˆ«åˆ°kerberosçš„cacheæ–‡ä»¶å‘¢ï¼Ÿ vim hdfs.c123456789101112131415161718192021struct hdfsBuilder &#123; int forceNewInstance; const char *nn; tPort port; const char *kerbTicketCachePath; const char *userName;&#125;; #define KERBEROS_TICKET_CACHE_PATH "hadoop.security.kerberos.ticket.cache.path"if (bld-&gt;kerbTicketCachePath) &#123; jthr = hadoopConfSetStr(env, jConfiguration, KERBEROS_TICKET_CACHE_PATH, bld-&gt;kerbTicketCachePath); if (jthr) &#123; ret = printExceptionAndFree(env, jthr, PRINT_EXC_ALL, "hdfsBuilderConnect(%s)", hdfsBuilderToStr(bld, buf, sizeof(buf))); goto done; &#125;&#125; æœ€ç»ˆå®šä½åˆ°ï¼šKERBEROS_TICKET_CACHE_PATH â€œhadoop.security.kerberos.ticket.cache.pathâ€ åœ¨core-site.xmlæ·»åŠ å¦‚ä¸‹å±æ€§ï¼š 12345&lt;property&gt; &lt;name&gt;hadoop.security.kerberos.ticket.cache.path&lt;/name&gt; &lt;value&gt;/tmp/krb5cc_$&#123;uid&#125;&lt;/value&gt; &lt;description&gt;Path to the Kerberos ticket cache. &lt;/description&gt;&lt;/property&gt; ${uid}æ˜¯ä»€ä¹ˆï¼Ÿuid=7765 1234567kinit urs.keytab ursTicket cache: FILE:/tmp/krb5cc_7765Default principal: urs@HADOOP.HZ.NETEASE.COMValid starting Expires Service principal10/05/2018 10:52 10/05/2018 20:52 krbtgt/HADOOP.HZ.NETEASE.COM@HADOOP.HZ.NETEASE.COM renew until 11/05/2018 10:52 æœ€åé‡æ–°æŒ‚è½½ï¼Œæ“ä½œæ‰‹æ³•åŒä¸Šã€‚ å¤§åŠŸå‘Šæˆ!]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x2 æŠ€æœ¯å¹³å°</category>
        <category>1x20 Hadoop</category>
      </categories>
      <tags>
        <tag>fuse</tag>
        <tag>hdfs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨LaTeXå†™æ•°å­¦å…¬å¼]]></title>
    <url>%2F2018%2F08%2F16%2Flatex-math-formula%2F</url>
    <content type="text"><![CDATA[&nbsp;&nbsp;&nbsp;&nbsp;æœ€è¿‘ä¸€ç›´å­¦ä¹  çº¿æ€§ä»£æ•°ï¼Œé€šè¿‡latexæ¥å†™æ•°å­¦å…¬å¼ï¼Œæ›¿ä»£äº†ä½¿ç”¨æˆªå›¾çš„æ–¹å¼æ¥å†™åšå®¢ï¼Œå½“ç„¶ç›´æ¥ä¹¦å†™ä¸€ä¸ªæ•°å­¦å…¬å¼ä¹Ÿæ˜¯æœ‰ä¸€å®šéš¾åº¦ï¼Œç”±æ­¤æˆ‘ä»¬éœ€è¦ä¸æ–­çš„ç§¯ç´¯ï¼Œä¸‹æ–‡å°†ç®€å•ä»‹ç»ä½¿ç”¨LaTeXä¹¦å†™çŸ©é˜µï¼Œæ›´å¤šçš„æ•°å­¦å…¬å¼å¯ä»¥å‚è€ƒLaTeXå®˜æ–¹æ–‡æ¡£ã€‚ LaTeX å†™ç®€å•Matrixè¯­æ³• ä½¿ç”¨\$\$begin{matrix}â€¦\end{matrix}$$æ¥ç”ŸæˆçŸ©é˜µï¼Œå…¶ä¸­â€¦ è¡¨ç¤ºçš„æ˜¯LaTeX çš„çŸ©é˜µå‘½ä»¤ï¼ŒçŸ©é˜µå‘½ä»¤ä¸­æ¯ä¸€è¡Œä»¥ \ ç»“æŸï¼ŒçŸ©é˜µçš„å…ƒç´ ä¹‹é—´ç”¨&amp;æ¥åˆ†éš”å¼€ã€‚ ä¾‹å¦‚: å†™ä¸€ä¸ªç®€å•çŸ©é˜µ 1234567$$ \begin&#123;matrix&#125; 1 &amp; 2 &amp; 3 \\ 4 &amp; 5 &amp; 6 \\ 7 &amp; 8 &amp; 9 \end&#123;matrix&#125; \tag&#123;1&#125;$$ \begin{matrix} 1 & 2 & 3 \\ 4 & 5 & 6 \\ 7 & 8 & 9 \end{matrix} \tag{1} å¸¦æ‹¬å·çš„Matrix æ„Ÿè§‰(1)ä¸­çš„çŸ©é˜µä¸æ˜¯å¾ˆç¾è§‚ï¼Œå¯ä»¥ç»™çŸ©é˜µåŠ ä¸Šæ‹¬å·ï¼ŒåŠ æ‹¬å·çš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œå¤§è‡´å¯åˆ†ä¸ºä¸¤ç§ï¼šä½¿ç”¨\left â€¦ \right æˆ–è€…æŠŠå…¬å¼å‘½ä»¤ä¸­çš„matrix æ”¹æˆ pmatrixã€bmatrixã€Bmatrixã€vmatrixã€Vmatrixç­‰ã€‚ 1234567$$ \begin&#123;pmatrix&#125; 1 &amp; 2 &amp; 3 \\ 4 &amp; 5 &amp; 6 \\ 7 &amp; 8 &amp; 9 \end&#123;pmatrix&#125; \tag&#123;2&#125;$$ \begin{pmatrix} 1 & 2 & 3 \\ 4 & 5 & 6 \\ 7 & 8 & 9 \end{pmatrix} \tag{2}1234567$$ \begin&#123;bmatrix&#125; 1 &amp; 2 &amp; 3 \\ 4 &amp; 5 &amp; 6 \\ 7 &amp; 8 &amp; 9 \end&#123;bmatrix&#125; \tag&#123;3&#125;$$ \begin{bmatrix} 1 & 2 & 3 \\ 4 & 5 & 6 \\ 7 & 8 & 9 \end{bmatrix} \tag{3}1234567$$ \begin&#123;Bmatrix&#125; 1 &amp; 2 &amp; 3 \\ 4 &amp; 5 &amp; 6 \\ 7 &amp; 8 &amp; 9 \end&#123;Bmatrix&#125; \tag&#123;4&#125;$$ \begin{Bmatrix} 1 & 2 & 3 \\ 4 & 5 & 6 \\ 7 & 8 & 9 \end{Bmatrix} \tag{4}1234567$$ \begin&#123;vmatrix&#125; 1 &amp; 2 &amp; 3 \\ 4 &amp; 5 &amp; 6 \\ 7 &amp; 8 &amp; 9 \end&#123;vmatrix&#125; \tag&#123;5&#125;$$ \begin{vmatrix} 1 & 2 & 3 \\ 4 & 5 & 6 \\ 7 & 8 & 9 \end{vmatrix} \tag{5}1234567$$ \begin&#123;Vmatrix&#125; 1 &amp; 2 &amp; 3 \\ 4 &amp; 5 &amp; 6 \\ 7 &amp; 8 &amp; 9 \end&#123;Vmatrix&#125; \tag&#123;6&#125;$$ \begin{Vmatrix} 1 & 2 & 3 \\ 4 & 5 & 6 \\ 7 & 8 & 9 \end{Vmatrix} \tag{6}å¢å¹¿çŸ©é˜µ 12345678$$ \left[ \begin&#123;array&#125;&#123;cc|c&#125; 1 &amp; 2 &amp; 3 \\ 4 &amp; 5 &amp; 6 \end&#123;array&#125;\right] \tag&#123;7&#125;$$ \left[ \begin{array}{cc|c} 1 & 2 & 3 \\ 4 & 5 & 6 \end{array} \right] \tag{7}ç»„åˆçŸ©é˜µ 12345678$$ \left[ \begin&#123;pmatrix&#125; 1 &amp; 2 &amp; 3 \\ 4 &amp; 5 &amp; 6 \end&#123;pmatrix&#125;\right] \tag&#123;7&#125;$$ \left[ \begin{pmatrix} 1 & 2 & 3 \\ 4 & 5 & 6 \end{pmatrix} \right] \tag{8}å¸¦çœç•¥ç¬¦å·çš„Matrix\ddots è¡¨ç¤ºï¼š â‹± 123456789$$ \left[ \begin&#123;matrix&#125; 1 &amp; 2 &amp; 3 \\ 4 &amp; \ddots &amp; 6 \\ 7 &amp; 8 &amp; 9 \end&#123;matrix&#125;\right] \tag&#123;9&#125;$$ \left[ \begin{matrix} 1 & 2 & 3 \\ 4 & \ddots & 6 \\ 7 & 8 & 9 \end{matrix} \right] \tag{9}\vdots è¡¨ç¤ºï¼š â‹® 12345678$$ \left[ \begin&#123;matrix&#125; 1 &amp; \vdots &amp; 3 \\ 4 &amp; \vdots &amp; 6 \end&#123;matrix&#125;\right] \tag&#123;10&#125;$$ \left[ \begin{matrix} 1 & \vdots & 3 \\ 4 & \vdots & 6 \end{matrix} \right] \tag{10}\cdots è¡¨ç¤ºï¼š â‹¯ 12345678$$ \left[ \begin&#123;matrix&#125; 1 &amp; \cdots &amp; 3 \\ 4 &amp; \cdots &amp; 6 \end&#123;matrix&#125;\right] \tag&#123;11&#125;$$ \left[ \begin{matrix} 1 & \cdots & 3 \\ 4 & \cdots & 6 \end{matrix} \right] \tag{11}æ›´å¤šLaTeXè¯­æ³•è¯·ç‚¹å‡»è¿™é‡Œ e=mc^2 x^y = (1+e^x)^-2xy^w lim_{1\to+\infty}P(|\frac{1}{n}\sum_i^nX_i-\mu|]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x4 åŠå…¬æŠ€èƒ½</category>
        <category>1x40 MarkDown</category>
      </categories>
      <tags>
        <tag>markdown</tag>
        <tag>LaTeX</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®ä»“åº“ETLä¹‹æ•°æ®äº¤æ¢]]></title>
    <url>%2F2017%2F06%2F05%2Fedw-data-exchange%2F</url>
    <content type="text"><![CDATA[â€‹ ä»1990å¹´æ•°æ®ä»“åº“ä¹‹çˆ¶æ¯”å°”Â·æ©é—¨ï¼ˆBill Inmonï¼‰æå‡ºæ•°æ®ä»“åº“çš„æ¦‚å¿µï¼ŒETLä½œä¸ºæ•°æ®ä»“åº“çš„æ ¸å¿ƒç»„ä»¶ï¼Œåœ¨ä¼ ç»Ÿçš„æ•°æ®ä»“åº“ä¸­æ˜¯æœåŠ¡äºæ•°æ®é‡‡é›†ï¼Œæ•°æ®å¤„ç†ï¼Œå¤§æ•°æ®æ—¶ä»£æ¥ä¸´ï¼Œå¯¹ETLçš„ç†è§£ä¹Ÿç”±ã€æŠ½å–ã€è½¬æ¢ã€åŠ è½½ã€‘å‡çº§åˆ°ã€äº¤æ¢ã€‘è¿™ä¸ªå±‚é¢ã€‚å¦‚æœä½ ä¹Ÿè€ƒè™‘å»ºè®¾ä¼ä¸šçº§æ•°æ®ä»“åº“å¯ä»¥ä½œä¸ºå‚è€ƒã€‚ 0x0 ETLä¹‹å®šä½ä¸šå†…å¤šæ•°çŸ¥åæ•°æ®ä»“åº“è§£å†³æ–¹æ¡ˆæä¾›æ–¹åˆ©ç”¨å…¬å¸çš„è‡ªæˆ‘ç ”å‘çš„ETLå·¥å…·åŠæ•°æ®å¹³å°ä»ç”Ÿäº§ç³»ç»Ÿæ¥å…¥æ•°æ®æºï¼Œåœ¨åº“å†…è¿›è¡Œæ•°æ®è½¬æ¢å·¥ä½œï¼Œä¸å…¶ä»–ä¸‰æ–¹å‚å®¶ï¼ˆä¹™æ–¹ï¼‰ä¸€æ ·ï¼Œè‡ªé¡¾ä¸€äº©ä¸‰åˆ†åœ°ï¼Œå®Œæˆäº†ç«¯å¯¹ç«¯çš„æ•°æ®æ”¯æ’‘ï¼Œç„¶è€Œå¯¹äºç”²æ–¹è€Œè¨€ï¼Œå„ä¸ªå‚å®¶çš„ç«¯çš„æ•°æ®é‡‡é›†æ— ç–‘æ˜¯å¯¹ç”Ÿäº§ç³»ç»Ÿçš„å¢åŠ å¤šå€å‹åŠ›ï¼Œå¦å¤–å‚å®¶ä¹‹é—´çš„æ•°æ®äº¤æ¢ä¹Ÿæ˜¯å¸¸æ€ã€‚ å»ºè®¾æ•°æ®ä»“åº“çš„æ¨¡å¼æœ‰ç”±ä¸Šè€Œä¸‹ä»¥åŠç”±ä¸‹è€Œä¸Šä¸¤ç§æ¨¡å¼ï¼Œå¯¹äºå¤§ä¼ä¸šè€Œè¨€ï¼Œå„ä¸ªéƒ¨é—¨çš„è¿è¥æ¨¡å¼ã€ä¸šåŠ¡æ–¹å‘å‡æœ‰åƒå·®ä¸‡åˆ«ï¼Œéƒ¨é—¨å¤§å¤šå»ºè®¾è‡ªå·±çš„æ•°æ®ä»“åº“ï¼Œå…¬å¸ä»å„ä¸ªéƒ¨é—¨å»ºè®¾çš„æ•°æ®ä»“åº“ä¹‹ä¸Šå»ºç«‹æ€»çš„æ•°æ®ä»“åº“ã€‚åœ¨æˆ‘ä»¬å…¬å¸ï¼Œéƒ¨é—¨ä¹‹é—´æ•°æ®ETLï¼Œä¸€æ–¹é¢å› ä¸šåŠ¡æ¨¡å¼ï¼Œå¦ä¸€æ–¹é¢å„éƒ¨é—¨æ•°æ®å¹³å°äº§å“å¤šæ ·åŒ–ï¼ŒETLå¤§å¤šé‡‡ç”¨ftpã€rsyncè¿™ç§æ–‡ä»¶æ•°æ®ä¼ è¾“æ–¹å¼ï¼Œæ—¥å¿—é‡‡é›†åˆ™ä½¿ç”¨DataStreamæˆ–flumeç­‰ã€‚æˆ‘ä»¬é€šå¸¸é¢ä¸´ä¼ä¸šä¹‹é—´çš„æ•°æ®äº¤äº’ï¼Œæ”¿åºœéƒ¨é—¨çš„æ•°æ®æ¨é€ï¼Œå³ä¾¿æ˜¯ä¸€ä¸ªéƒ¨é—¨å†…éƒ¨æ•°æ®çš„äº¤æ¢ä¹Ÿæ˜¯å¸¸æ€ï¼Œæ•°æ®å…±äº«æœ‰åˆ©äºå¤§æ•°æ®ç”Ÿæ€å‘å±•ï¼Œç¦»çº¿å¹³å°éœ€è¦ç”Ÿäº§ç³»ç»Ÿçš„æ•°æ®è¿›è¡Œè®¡ç®—ï¼Œç”Ÿäº§ç³»ç»Ÿä¹Ÿéœ€è¦ç¦»çº¿å¹³å°çš„æ•°æ®æ”¯æ’‘ã€‚æ•°æ®äº¤æ¢ä½œä¸ºETLä¸€ä¸ªå‡çº§æ¨¡å¼æˆä¸ºä¼ä¸šçº§æ•°æ®ä»“åº“å»ºè®¾çš„å¿…ç„¶ã€‚ 0x1 äº¤æ¢å¹³å°çš„äº§ç”Ÿå¤§å¤šå¤§æ•°æ®ä»ä¸šäººå£«ä¹Ÿè®¤è¯†åˆ°æ•°æ®äº¤æ¢ï¼Œå¾ˆå¤šå‚å®¶ä¹Ÿè®¤è¯†åˆ°äº†ETLæ¨¡å¼çš„ä¸æ—¶ä¿±è¿›ï¼Œé˜¿é‡Œçš„æ•°æ®å·¥åœºï¼Œäºšä¿¡çš„äº‘åŒ–äº¤æ¢å¹³å°ï¼Œåä¸ºçš„äº‘åŒ–äº¤æ¢å¹³å°ä»¥åŠæˆ‘ä»¬çš„çŒ›çŠ¸å¤§æ•°æ®å¹³å°åº”è¿è€Œç”Ÿï¼Œå¤§æ•°æ®äº¤æ¢å¹³å°æœåŠ¡äºä¼ä¸šï¼ˆéƒ¨é—¨ã€ç³»ç»Ÿï¼‰æ•°æ®äº¤æ¢ï¼Œæ•°æ®äº¤æ¢å¯¹äºç”¨æˆ·è€Œè¨€éƒ½æ˜¯é€æ˜çš„ï¼Œä¸ä»…æ»¡è¶³ä¼ ç»Ÿçš„ETLåŠŸèƒ½ï¼ŒåŒæ—¶éœ€è¦æ»¡è¶³åŠ¨æ€æ‰©å±•ã€‚å¤§æ•°æ®å½¢åŠ¿ä¸‹ï¼Œäº’è”ç½‘æ•°æ®ä»“åº“è¾ƒä¹‹ä¼ ç»Ÿçš„æ•°æ®ä»“åº“å¹³å°æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š ä¸ºé€‚åº”æ•°æ®ä»“åº“çš„å‘å±•ï¼Œé‚£ä¹ˆæ•°æ®äº¤æ¢å¹³å°åº”è¯¥å…·å¤‡å“ªäº›èƒ½åŠ›å‘¢ï¼Ÿå°ç¼–è®¤ä¸ºå¯ä»å¦‚ä¸‹å‡ ä¸ªæ–¹é¢è¿›è¡Œé˜è¿°ï¼Œæ•°æ®é‡‡é›†èƒ½åŠ›ï¼Œæ•°æ®å­˜å‚¨èƒ½åŠ›ï¼Œæ•°æ®ç®¡ç†èƒ½åŠ›ï¼Œæ•°æ®è®¡ç®—èƒ½åŠ›ï¼Œå¹³å°å¼€æ”¾èƒ½åŠ›ï¼Œä½œä¸šè°ƒåº¦èƒ½åŠ›ã€‚ (1) æ•°æ®é‡‡é›†èƒ½åŠ›äº¤æ¢å¹³å°åº”æ”¯æŒå¯¹è¡¨ï¼ˆå…³ç³»è¡¨ï¼Œk-vè¡¨ï¼‰ã€æ–‡ä»¶ï¼ˆç»“æ„åŒ–ã€éç»“æ„åŒ–ï¼‰ã€æ¶ˆæ¯ã€æ•°æ®æµç­‰å¤šç§æ•°æ®å½¢å¼çš„æ”¯æŒï¼ŒåŒæ—¶éœ€æ”¯æŒå¤šæ ·åŒ–çš„é‡‡é›†æ–¹å¼ï¼šå®æ—¶å¢é‡æµå¼ï¼ˆflumeã€DataStreamç­‰ï¼‰ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆnsqã€Kafakaï¼‰ç­‰ä¸»æµæŠ€æœ¯ã€‚ç”±äºæŠ€æœ¯ç¹æ‚ï¼Œç§ç±»ç¹å¤šï¼Œé€‰å–é€‚åˆè‡ªå·±ä¸šåŠ¡æ¨¡å¼çš„å·¥å…·å½¢æˆç»„ä»¶åŒ–åˆ©äºè·¨å¹³å°éƒ¨ç½²ï¼Œè¿™æ˜¯æ•°æ®é‡‡é›†åº”è€ƒè™‘çš„ã€‚ï¼ˆPSï¼šå®é™…ä¸Šå¯¹äºæ—¥å¿—æµå¼æ”¶é›†çš„å½¢å¼é€šå¸¸æ˜¯æ•ˆç‡é«˜ï¼Œé«˜å“åº”ï¼Œä½†ä¹Ÿå¤„äºä¸ç¨³å®šçš„ï¼Œæ˜“ä¸¢å¤±æ•°æ®ç­‰ç°çŠ¶ã€‚ï¼‰ (2) æ•°æ®å­˜å‚¨èƒ½åŠ›äº’è”ç½‘çš„æ•°æ®ã€å¤§ã€‘æ˜¯æ¯‹åº¸ç½®ç–‘çš„äº‹å®ï¼Œä¼ ç»ŸRDBMSçš„æ ¸å¿ƒè®¾è®¡æ€æƒ³åŸºæœ¬ä¸Šæ˜¯30å¹´å‰å½¢æˆçš„ï¼Œåœ¨æ•°æ®ä»“åº“é¢†åŸŸæœ‰ç›¸å½“æƒå¨çš„å…¬å¸æœ‰Teradataã€IBMã€Oracleã€SAPç­‰è¿™é‡Œå…¬å¸å‡æ‹¥æœ‰è‡ªèº«æ•°æ®å­˜å‚¨ç³»ç»Ÿä»¥åŠè½¯ç¡¬ä¸€ä½“åŒ–çš„å¤§æ•°æ®è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒåŠ¨æ€æ‰©å±•çš„èƒ½åŠ›ï¼ŒTeradataã€Aster Dataã€GreenPluméƒ½æ˜¯MPPå­˜å‚¨æ¶æ„ï¼Œæ”¯æŒPBçº§åˆ«å­˜å‚¨ï¼ˆå‰ä¸¤è€…å±äºå•†ä¸šæ•°æ®åº“ï¼ŒGreenPlumå¼€æºï¼‰ï¼Œè¿™äº›å‡æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼Œæˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„Hadoopæ˜¯å±äºSMPæ¶æ„ï¼Œæ”¯æŒéç»“æ„åŒ–ã€åŠç»“æ„åŒ–ã€ç»“æ„åŒ–æ•°æ®å­˜å‚¨ï¼Œæ•°æ®å­˜å‚¨å¹³å°çš„é€‰å‹æ ¹æ®ä¼ä¸šçš„ä¸šåŠ¡æ¨¡å¼é€‰å®šã€‚ (3) å¹³å°ç®¡ç†èƒ½åŠ›æ•°æ®ç®¡ç†ï¼šæ•°æ®çš„äº¤æ¢å¿Œè®³æ•°æ®å†—ä½™ï¼Œæµ™æ±Ÿç§»åŠ¨å¤§æ•°æ®ä¸­å¿ƒä½¿ç”¨äºšä¿¡äº‘åŒ–äº¤æ¢å¹³å°å‡ºç°äº†è¿™æ ·çš„ä¸€ä¸ªåœºæ™¯ï¼Œå‚å®¶Aéœ€è¦ç”Ÿäº§ç³»ç»Ÿä¸­æ•°æ®è¡¨T1éƒ¨åˆ†å­—æ®µ,ï¼Œå‚å®¶Béœ€è¦ç”Ÿäº§ç³»ç»Ÿä¸­æ•°æ®è¡¨T1çš„æ‰€æœ‰å­—æ®µï¼Œå¦æœ‰ç‰¹æ®Šæƒ…æ™¯é•¿å®¶Céœ€è¦è¡¨ä¸­çš„å­—æ®µä¸å‚å®¶Aæœ‰äº¤å‰å­—æ®µç°è±¡ï¼Œç”Ÿäº§ç³»ç»Ÿä¸ºç»™ä¸‰ä¸ªå‚å®¶åŒæ—¶ä¾›æ•°ï¼Œé€ æˆäº†å¤§é‡æ•°æ®å†—ä½™ï¼Œç©ºé—´æœ‰æ•ˆåˆ©ç”¨ç‡60%ä¸åˆ°ã€‚ å¤šç§Ÿæˆ·ç®¡ç†ï¼šæ•°æ®äº¤æ¢æœ¬èº«çš„ä¸€ä¸ªæ¦‚å¿µå°±æ˜¯äº¤æ¢ï¼Œæ„å‘³ç€å¤šç§Ÿæˆ·ï¼Œå¹³å°æ˜¯å¼€æ”¾çš„ï¼Œé¢å‘å¤šä¸ªéƒ¨é—¨ç”šè‡³å¤šä¸ªä¼ä¸šï¼Œç§Ÿæˆ·å¯ä»¥çµæ´»åˆ›å»ºè‡ªå·±çš„ä½œä¸šä½“ç³»ï¼Œæå‡ºç›¸åº”çš„æ•°æ®éœ€æ±‚ï¼Œè¿›è¡Œè‡ªä¸»ç®¡ç†å’Œé…ç½®ï¼Œè·¨ç³»ç»Ÿæˆ–è€…è·¨éƒ¨é—¨çš„æ•°æ®è¯·æ±‚å¼€æ”¾ç»™ç”¨æˆ·ï¼Œå¼€å¯æœ‰æ•ˆçš„éœ€æ±‚ç®¡ç†ä½“ç³»ã€‚ ä½œä¸šç®¡ç†ï¼šETLå¹³å°æ‰€éœ€ç»´æŠ¤çš„ç»†èŠ‚ç¹å¤šï¼Œå¦‚æœäº¤äº’çš„æ¥å£ç®¡ç†ä¸€å¡Œç³Šæ¶‚ï¼Œæ¯”å¦‚ç¹å¤šçš„FTPã€æ•£ä¹±çš„Shellè„šæœ¬ã€crontabå®šæ—¶ä»»åŠ¡ææ™•äº†è¿ç»´äººå‘˜ï¼Œä¸€æ—¦äººå‘˜è¿­ä»£ï¼Œä»˜å‡ºçš„ç®¡ç†æˆæœ¬å¾ˆå¤§ï¼Œå»ºç«‹ä¸€å¥—å®Œå–„çš„å…ƒæ•°æ®ç®¡ç†ä½“ç³»æ˜¯ä¿éšœç³»ç»Ÿæ­£å¸¸è¿ä½œå¿…éœ€çš„å·¥å…·ã€‚ (4) æ•°æ®è®¡ç®—èƒ½åŠ› äº’è”ç½‘çš„æ•°æ®â€œå¤§â€æ˜¯ä¸äº‰çš„äº‹å®ï¼Œç°åœ¨åˆ†æä¸€ä¸‹æ•°æ®å¤„ç†æŠ€æœ¯é¢ä¸´çš„æŒ‘æˆ˜ï¼Œè¿‘å‡ å¹´è§è¿‡å½¢å½¢è‰²è‰²çš„æ•°æ®ä»“åº“ï¼Œå¤§å¤šä½¿ç”¨çš„è‡ªä¸‹è€Œä¸Šçš„æ–¹å¼å»ºè®¾ï¼Œç”Ÿæ€æ•°ä»“ä¸­æ‰€ä½¿ç”¨çš„å¹³å°äº§å“å¤šæ ·æ€§ï¼Œç„¶è€Œä¼ ç»Ÿè¡Œä¸šç”µä¿¡ä¹Ÿå¥½ï¼Œé“¶è¡Œä¹Ÿå¥½ï¼Œäº’è”ç½‘äº§å“æ•°ä»“ä¹Ÿç½¢ï¼Œé²œæœ‰PBçº§åˆ«çš„æ•°ä»“ï¼Œé¢å¯¹çš„ç”¨æˆ·é‡å‡ åƒä¸‡ï¼Œå¯¹åº”çš„æ•°æ®æ˜¯å‡ ç™¾TBï¼Œæ•°æ®é‡å°‘æ€ä¹ˆæ ·çš„å»ºè®¾æ–¹æ¡ˆéƒ½æ˜¯æ— æ‰€è°“çš„ï¼Œå½“é¢å¯¹10äº¿çº§åˆ«çš„ç”¨æˆ·ï¼ŒPBçº§åˆ«çš„æ•°æ®æ—¶ï¼Œå¦‚ä½•æ»¡è¶³æ•°æ®è®¡ç®—ï¼Ÿå¦‚ä½•é€‚åº”å¤šç§æ•°æ®å¹³å°çš„æ¥å…¥ï¼Ÿ æ•°æ®äº¤æ¢å¹³å°éœ€å…·å¤‡å¼ºå¤§çš„æ•°æ®è®¡ç®—èƒ½åŠ›ï¼Œæ”¯æŒå¸¸è§çš„åˆ†å¸ƒå¼è®¡ç®—æ¨¡å‹ï¼Œä»¥å®ç°æ•°æ®çš„é¢„å¤„ç†ï¼ˆæ ¼å¼è½¬æ¢ã€ä¾‹å¦‚lzoè½¬æ¢æˆHFileã€‘ï¼Œç©ºå€¼å¤„ç†ã€æ•°æ®å‹ç¼©ç­‰ï¼‰ä»¥åŠå¸¸è§çš„è®¡ç®—å‡½æ•°ï¼ˆçª—å£å‡½æ•°ï¼Œä¸­ä½æ•°è®¡ç®—ã€æ—¶åºè®¡ç®—ã€å›¾è®¡ç®—ç­‰ï¼‰ã€‚ (5) å¹³å°å¼€æ”¾èƒ½åŠ›èƒ½å¤Ÿå¯¹å¤–è¾“å‡ºæ•°æ®ï¼Œè¿™æ˜¯ä¼ä¸šçº§çš„äº¤æ¢å¹³å°æ‰€åº”å…·å¤‡çš„åŸºæœ¬èƒ½åŠ›ï¼Œæ•°æ®å¼€æ”¾å¹¶ä¸æ„å‘³ç€è°éƒ½å¯ä»¥éšæ„è·å–æ•°æ®ï¼Œæ”¾å¼ƒæ•°æ®å®‰å…¨ï¼Œæ•°æ®å¼€æ”¾è¡¨ç¤ºæ•°æ®å…±äº«ï¼Œæ»¡è¶³ä¼ä¸šçš„å„é¡¹ä¸šåŠ¡éœ€æ±‚ï¼Œæ ¹æ®éƒ¨é—¨çš„å…·ä½“éœ€æ±‚ï¼Œç”³è¯·å·²å¼€æ”¾çš„æ•°æ®ï¼Œæ•°æ®å®‰å…¨ä¿éšœã€‚ æ•°æ®äº¤æ¢å¹³å°æ‰€åº”æ”¯æŒçš„ä¸ä»…æ˜¯ä¼ ç»Ÿçš„æ•°æ®å¼€æ”¾ï¼Œæ›´åº”å…·æœ‰å…ƒæ•°æ®å¼€æ”¾ã€è®¡ç®—èƒ½åŠ›çš„å¼€æ”¾ï¼Œä¸°å¯Œçš„APIæä¾›ï¼Œæ—¢ç„¶æ— æ³•æ»¡è¶³æ‰€æœ‰çš„ä¸ªæ€§åŒ–éœ€æ±‚ï¼Œé‚£å°±åº”æœ‰å¼€æ”¾çš„APIä¸ºå…¶ä»–ç³»ç»Ÿæ— ç¼è¡”æ¥ï¼Œå•çº¯çš„æ•°æ®å¯¼å‡ºå·²æ— æ³•æ»¡è¶³ä¸šåŠ¡çš„å‘å±•ã€‚ (6) ä½œä¸šè°ƒåº¦èƒ½åŠ›è°ƒåº¦åŠŸèƒ½æ˜¯ä»ETLå·¥å…·å½¢æˆåˆä¾¿æ‹¥æœ‰çš„ï¼ŒETLè°ƒåº¦å·¥å…·å‘å±•ä¹Ÿä»æœ€åˆçš„crontabè¡ç”Ÿåˆ°ç°åœ¨çš„è°ƒåº¦å¹³å°ï¼Œä¸šå†…ä¼ä¸šçº§çš„è°ƒåº¦å·¥å…·ä¾‹å¦‚å›½å¤–çš„Informaticaå…¬å¸çš„Informaticaã€Teradataçš„ ETL Automationã€å¾®è½¯çš„ SSISã€Control-Mï¼Œå›½å†…çš„æœ‰è‡ªä¸»ç ”å‘é˜¿é‡Œçš„Zeusï¼Œäºšä¿¡çš„ AI-CLOUD-ETLï¼Œåä¸ºç ”å‘çš„äº‘-ETLï¼Œç½‘æ˜“çš„nscheduleã€çŒ›çŠ¸ç­‰ï¼Œå¼€æºçš„è°ƒåº¦å·¥å…·æœ‰Azkabanï¼ŒKettleç­‰ã€‚ è°ƒåº¦æ¨¡å¼æ˜¯å„è‰²å„æ ·ï¼Œæœ‰ä»¥å·¥ä½œæµè°ƒåº¦å•ä½ï¼Œæœ‰ä»¥ä½œä¸šä¸ºè°ƒåº¦å•ä½ï¼Œæ‰€æ”¯æŒçš„ä½œä¸šå½¢å¼ä¹Ÿæ˜¯å¤šç§ï¼Œè„šæœ¬å½¢å¼(shellã€pythonã€Perlï¼Œruby)ï¼ŒSQLã€Javaã€MapReduceä»¥åŠå…¶ä»–ç»„ä»¶å½¢å¼ã€‚è°ƒåº¦ç­–ç•¥ä¹Ÿæ˜¯ä¸°å¯Œå¤šæ ·ï¼Œæœ‰æ—¶é—´è§¦å‘ã€æ—¶é—´è§¦å‘ã€æ¥å£é€šçŸ¥ã€æ‰‹å·¥æ‰§è¡Œã€‚ å®ç°ä»»åŠ¡çš„ç»Ÿä¸€è°ƒåº¦ï¼Œæ”¯æŒåŠ¨æ€æ‰©å±•çš„ä½œä¸šç±»å‹ï¼Œä¸°å¯Œçš„è°ƒåº¦æ¨¡å¼æ˜¯æ•°æ®äº¤æ¢å¹³å°åº”å…·å¤‡çš„ã€‚ä»¥ä¸Šæ‰€åˆ—ä¸¾çš„6é¡¹èƒ½åŠ›æå‡ºä¸€äº›å¸¸è§çš„ä½“ç°ï¼Œæ„å»ºæ•°æ®äº¤æ¢å¹³å°æ‰€è€ƒè™‘çš„ç»†èŠ‚éå¸¸å¤šã€‚ 0x3 äº¤æ¢å¹³å°å»ºè®¾æœ€ä½³å®è·µå¾ˆå¤šæ•°æ®å¹³å°æä¾›çš„æ˜¯çº¯ç²¹çš„æ•°æ®æœåŠ¡ï¼Œè¾ƒå°‘æä¾›Apiæˆ–å…ƒæ•°æ®æœåŠ¡ä»¥æ»¡è¶³å…¶ä»–å¹³å°çš„åµŒå…¥ï¼Œä¸šå†…æ‰“é€ æˆPaaSçº§çš„ETLäº¤æ¢å¹³å°å±ˆæŒ‡å¯æ•°ï¼ŒæŠ€æœ¯å› ç´ æ˜¯ä¸€æ–¹é¢ï¼Œä¸šåŠ¡éœ€æ±‚æ˜¯å¦éœ€è¦æ‰“é€ è¿™æ ·ä¸€ä¸ªå¹³å°ä¹Ÿæ˜¯å…¶ä¸­ä¸€ä¸ªåŸå› ï¼Œå¯¹ä¸šåŠ¡éœ€æ±‚çš„ç†è§£ï¼Œæ˜¯å¦å…·æœ‰æŒç»­çš„ç»´æŠ¤åŠæ›´æ–°èƒ½åŠ›åˆæ˜¯å¦ä¸€æ–¹é¢ã€‚è¿˜æœ‰ä¸€å¥è¯æ˜¯è¿™ä¹ˆè¯´çš„ï¼Œè§„åˆ™ä¸çµæ´»æ€ä¹ˆå–èˆï¼Ÿä¸ºä¾¿äºç»´æŠ¤å¯èƒ½å°†ä¸»æµçš„éœ€æ±‚æ»¡è¶³ï¼Œå¯¹äºä¸€äº›ä¸ªæ€§åŒ–çš„éœ€æ±‚åˆ™è¢«æŠ›å¼ƒï¼Œå¾ˆå¤šå…¬å¸æŠ€æœ¯ä¹Ÿå¾ˆå¼ºï¼Œä½†æ‰“é€ è¿™æ ·ä¸€ä¸ªETLäº¤æ¢å¹³å°æ›´å¤šçš„è€ƒè™‘æ˜¯ä»ç”¨æˆ·éœ€æ±‚ä¸­æ¥ï¼Œåˆ°å®è·µå»æ¥ï¼Œçº¯ç²¹çš„ä¸ºå®ç°åŠŸèƒ½ï¼Œå¤§è°ˆæ€§èƒ½ä¹Ÿæœªå¿…æ˜¯ä¸€ä¸ªå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œä¸šåŠ¡å§‹ç»ˆä¸ºç‹ã€‚ä¸‹é¢è®¾æƒ³ä¸€ä¸ªäº¤æ¢å¹³å°æ¶æ„å›¾ä¾›å‚è€ƒï¼š ç¨ä½œæ‹“å±•ï¼š]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x1 æ•°æ®ä»“åº“</category>
        <category>1x10 æ•°ä»“æ¦‚è®º</category>
      </categories>
      <tags>
        <tag>æ•°æ®ä»“åº“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ©ç”¨HFile BulkLoadå®ç°HBaseæµ·é‡æ•°æ®åŠ è½½]]></title>
    <url>%2F2016%2F07%2F01%2Fhbase-bulk-load%2F</url>
    <content type="text"><![CDATA[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æ•°æ®ä»“åº“å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½å°†HBaseä½œä¸ºæˆ‘ä»¬æ•°æ®å³æœåŠ¡çš„æŒä¹…åŒ–å­˜å‚¨ä»‹è´¨ï¼Œç”±æ­¤å¤§é‡çš„æ•°æ®æ¨¡å‹ä»æ•°æ®ä»“åº“è®¡ç®—åå†™å…¥è‡³HBaseã€‚é€šå¸¸æˆ‘ä»¬ä½¿ç”¨HBaseæä¾›çš„APIæ–¹æ³•ï¼Œå®ç°äº†æ¥å£è°ƒç”¨ï¼Œä½†å¯¹äºæµ·é‡çš„æ•°æ®ï¼Œæ¥å£çš„è°ƒç”¨å¼•èµ·HBase cpuã€å†…å­˜å ç”¨è¿‡é«˜ï¼Œå½±å“æ­£å¸¸ä¸šåŠ¡ä½¿ç”¨ã€‚äºæ˜¯æˆ‘ä»¬ç€æ‰‹ç ”ç©¶HFile BulkLoadçš„æ–¹å¼è¿›è¡Œç¦»çº¿æ•°æ®åŠ è½½ã€‚ 0x0 HBaseçš„å­˜å‚¨æ–‡ä»¶æ ¼å¼ï¼šHFile&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HBaseå®é™…çš„å­˜å‚¨æ–‡ä»¶åŠŸèƒ½æ˜¯ç”±HFileç±»å®ç°çš„ï¼Œå®ƒè¢«ä¸“é—¨åˆ›å»ºä»¥è¾¾åˆ°ä¸€ä¸ªç›®çš„ï¼šæœ‰æ•ˆåœ°å­˜å‚¨HBaseçš„æ•°æ®ã€‚å®ƒä»¬åŸºäºHadoopçš„TFileç±»ï¼Œå¹¶æ¨¡ä»¿-Googleçš„BigTableæ¶æ„ä½¿ç”¨çš„SSTableæ ¼å¼ã€‚æ›¾åœ¨HBaseä¸­ä½¿ç”¨è¿‡çš„Hadoopçš„MapFileç±»è¢«è¯æ˜æ€§èƒ½ä¸å¤Ÿå¥½ã€‚ 0x1 BulkLoadåŸç†&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½¿ç”¨ Bulk Load æ–¹å¼ç”±äºåˆ©ç”¨äº† HBase çš„æ•°æ®ä¿¡æ¯æ˜¯æŒ‰ç…§ç‰¹å®šæ ¼å¼å­˜å‚¨åœ¨ HDFS é‡Œçš„è¿™ä¸€ç‰¹æ€§ï¼Œç›´æ¥åœ¨ HDFS ä¸­ç”ŸæˆæŒä¹…åŒ–çš„ HFile æ•°æ®æ ¼å¼æ–‡ä»¶ï¼Œç„¶åå®Œæˆå·¨é‡æ•°æ®å¿«é€Ÿå…¥åº“çš„æ“ä½œï¼Œé…åˆ MapReduce å®Œæˆè¿™æ ·çš„æ“ä½œï¼Œä¸å ç”¨ Region èµ„æºï¼Œä¸ä¼šäº§ç”Ÿå·¨é‡çš„å†™å…¥ I/Oï¼Œæ‰€ä»¥éœ€è¦è¾ƒå°‘çš„ CPU å’Œç½‘ç»œèµ„æºã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bulk Load çš„å®ç°åŸç†æ˜¯é€šè¿‡ä¸€ä¸ª MapReduce Job æ¥å®ç°çš„ï¼Œé€šè¿‡ Job ç›´æ¥ç”Ÿæˆä¸€ä¸ª HBase çš„å†…éƒ¨ HFile æ ¼å¼æ–‡ä»¶ï¼Œç”¨æ¥å½¢æˆä¸€ä¸ªç‰¹æ®Šçš„ HBase æ•°æ®è¡¨ï¼Œç„¶åç›´æ¥å°†æ•°æ®æ–‡ä»¶åŠ è½½åˆ°è¿è¡Œçš„é›†ç¾¤ä¸­ã€‚ä½¿ç”¨ Bulk Load åŠŸèƒ½æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨ImportTsv å·¥å…·ï¼ŒImportTsv æ˜¯ HBase çš„ä¸€ä¸ªå†…ç½®å·¥å…·ï¼Œç›®çš„æ˜¯ä» TSV æ–‡ä»¶ç›´æ¥åŠ è½½å†…å®¹è‡³ HBaseã€‚å®ƒé€šè¿‡è¿è¡Œä¸€ä¸ª MapReduce Job, å°†æ•°æ®ä» TSV æ–‡ä»¶ä¸­ç›´æ¥å†™å…¥ HBase çš„è¡¨æˆ–è€…å†™å…¥ä¸€ä¸ª HBase çš„è‡ªæœ‰æ ¼å¼æ•°æ®æ–‡ä»¶ã€‚ 0x2 ç»“åˆMapReduceç”ŸæˆHFile0x20 ä½œä¸šçš„é…ç½®1234567891011121314151617181920/** * Job Configure */ Job job = Job.getInstance(conf,"HFileProducerETL"); job.setJarByClass(HFileProducerETL2.class); TableMapReduceUtil.addDependencyJars(job); job.setMapperClass(BulkLoadMapper.class); job.setReducerClass(KeyValueSortReducer.class); job.setMapOutputKeyClass(ImmutableBytesWritable.class); job.setOutputValueClass(KeyValue.class); if (fs.exists(outputPath)) &#123; fs.delete(outputPath, true); &#125; FileInputFormat.setInputPaths(job,inputPath); FileOutputFormat.setOutputPath(job,outputPath); HTable htable =new HTable(conf, tablename); HFileOutputFormat2.configureIncrementalLoad(job,htable,htable); return job.waitForCompletion(false) ? 0 : 1; 0x21 Mapâ€‹ key ç±»ï¼šImmutableBytesWritableâ€‹ value ç±»ï¼šKeyValue 1234567891011121314151617181920212223242526272829303132333435363738394041@Override public void map(LongWritable key, Text value, Context context) &#123; try &#123; String line = value.toString(); String[] all_column_values = line.split(context.getConfiguration().get(FILE_DELIMITER_STR),-1); String rowKeyString = all_column_values[rowKeyIndex]; byte[] rowKey=Bytes.toBytes(rowKeyString); // rowKey èµ‹å€¼ ImmutableBytesWritable rowKeyWritable=new ImmutableBytesWritable(rowKey); if (all_column_name.length!=all_column_values.length)&#123; return; &#125; for (int i = 0; i &lt; all_column_name.length; i++) &#123; if (export_column_index[i] == EXPORT_FLAG &amp;&amp; !all_column_values[i].trim().equals(HBaseConstant.HiveNULL) &amp;&amp; !all_column_values[i].trim().equals(HBaseConstant.HBaseNull) &amp;&amp; !all_column_values[i].trim().equals(HBaseConstant.HEmpty) )&#123; KeyValue kv ; // å¦‚æœæ˜¯ HFILE_CLEAR_FLAG åˆ™ æ¸…ç©º if (all_column_values[i].equals(HBaseConstant.HFILE_CLEAR_FLAG))&#123; all_column_values[i]=HBaseConstant.HEmpty; &#125; if (timestampIndex == TIMESTAMP_COLUMN_DEFAULT_INDEX)&#123; kv = new KeyValue(rowKey, CF, Bytes.toBytes(all_column_name[i]),Bytes.toBytes(all_column_values[i])); &#125; else&#123; Long timestamp_value = Long.parseLong(all_column_values[timestampIndex]); kv = new KeyValue(rowKey, CF, Bytes.toBytes(all_column_name[i]),timestamp_value,Bytes.toBytes(all_column_values[i])); &#125; context.write(rowKeyWritable,kv); &#125; &#125; &#125;catch (IOException e) &#123; e.printStackTrace(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; 0x22 BulkLoadâ€‹ ç”ŸæˆHFileä¹‹åï¼Œloadç›¸å¯¹å°±æ¯”è¾ƒç®€å•äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š 123456Configuration conf = DefConfiguration.GetConfiguration(hbaseEnv);conf.setInt("hbase.mapreduce.bulkload.max.hfiles.perRegion.perFamily",5000);HTable htable =new HTable(conf, tableName);LoadIncrementalHFiles loader = new LoadIncrementalHFiles(conf);loader.doBulkLoad(hFilePath, htable);]]></content>
      <categories>
        <category>1x æŠ€æœ¯ç»¼åˆç¯‡</category>
        <category>1x2 æŠ€æœ¯å¹³å°</category>
        <category>1x22 HBase</category>
      </categories>
      <tags>
        <tag>hbase</tag>
      </tags>
  </entry>
</search>
